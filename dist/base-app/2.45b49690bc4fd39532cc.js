(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{EH7E:function(e,t,n){"use strict";n.r(t),n.d(t,"PatientsModule",function(){return Qc});var i=n("ofXK"),c=n("3Pt+"),a=n("tyNb"),s=n("fXoL"),o=n("hTG3"),r=n("x9ak"),l=n("5eHb"),d=n("CmI4"),b=n("sYmb");const h=["fileInput"];function u(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",1,2),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Fc(3,"\n    "),s.Qb(4,"div",3),s.Fc(5,"\n        "),s.Qb(6,"label",4),s.Fc(7),s.ac(8,"translate"),s.Pb(),s.Fc(9,"\n        "),s.Qb(10,"div",5),s.Fc(11,"\n            "),s.Lb(12,"textarea",6),s.Fc(13,"\n        "),s.Pb(),s.Fc(14,"\n    "),s.Pb(),s.Fc(15,"\n    "),s.Fc(16,"\n"),s.Pb()}2&e&&(s.yb(7),s.Hc("",s.bc(8,1,"Description")," "))}let g=(()=>{class e{constructor(e,t,n,i,c){this.organizationService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.selectBasicTab=!0,this.active=!0,this.model={},this.classifications=[],this.showProgress=!1}ngOnInit(){}onSubmit(){this.showProgress=!0,!this.model.hasOwnProperty("id")||this.model.id.toString().toLowerCase()}clear(){this.model={},this.active=!1,this.storage.store("OrganizationID","new"),setTimeout(()=>this.active=!0,0)}imageChanged(e){let t={};if(null!=e){if(null==e.originalName)return void(this.model.attachmentInfo=null);this.model.attachmentInfo=t,this.model.attachmentInfo.originalName=e.originalName,this.model.attachmentInfo.keyName=e.keyName,this.model.attachmentInfo.fullPath=e.fullPath,this.model.attachmentInfo.fileType=e.fileType}else this.model.attachmentInfo=null}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-basic"]],viewQuery:function(e,t){if(1&e&&s.Lc(h,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},decls:3,vars:1,consts:[["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-6"],["id","txtRemarks","name","txtRemarks",1,"form-control"]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Dc(1,u,17,3,"form",0),s.Fc(2,"\n")),2&e&&(s.yb(1),s.hc("ngIf",t.active))},directives:[i.k,c.q,c.g,c.h],pipes:[b.c],encapsulation:2}),e})();var p=n("ZMVn"),F=n("qWM9"),m=n("uYM5");const f=["fileInput"];function v(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",3),s.Fc(1,"\n        "),s.Qb(2,"label",61),s.Fc(3),s.ac(4,"translate"),s.Pb(),s.Fc(5,"\n        "),s.Qb(6,"div",58),s.Fc(7,"\n            "),s.Qb(8,"textarea",62),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb(2).chiefComplaint.chiefComplaintMain=t}),s.Pb(),s.Fc(9,"\n        "),s.Pb(),s.Fc(10,"\n    "),s.Pb()}if(2&e){const e=s.Zb(2);s.yb(3),s.Hc("",s.bc(4,2,"ChiefComplaint")," "),s.yb(5),s.hc("ngModel",e.chiefComplaint.chiefComplaintMain)}}function y(e,t){1&e&&(s.Qb(0,"h4"),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e&&(s.yb(1),s.Hc("\n        ",s.bc(2,1,"VitalSigns"),"\n    "))}function P(e,t){1&e&&s.Lb(0,"hr")}function S(e,t){if(1&e&&(s.Qb(0,"option",63),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function I(e,t){if(1&e&&(s.Qb(0,"option",63),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function D(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",3),s.Fc(1,"\n        "),s.Qb(2,"label",64),s.Fc(3),s.ac(4,"translate"),s.Pb(),s.Fc(5,"\n        "),s.Qb(6,"div",18),s.Fc(7,"\n            "),s.Qb(8,"input",65,66),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb(2).chiefComplaint.durationOfIllness=t}),s.Pb(),s.Fc(10,"\n        "),s.Pb(),s.Fc(11,"\n        "),s.Qb(12,"label",67),s.Fc(13),s.ac(14,"translate"),s.Pb(),s.Fc(15,"\n        "),s.Qb(16,"div",15),s.Fc(17,"\n            "),s.Qb(18,"input",68,69),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb(2).chiefComplaint.durationOfIllnessMark=t}),s.Pb(),s.Fc(20,"\n        "),s.Pb(),s.Fc(21,"\n    "),s.Pb()}if(2&e){const e=s.Zb(2);s.yb(3),s.Gc(s.bc(4,4,"DurationOfIllness")),s.yb(5),s.hc("ngModel",e.chiefComplaint.durationOfIllness),s.yb(5),s.Gc(s.bc(14,6,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.durationOfIllnessMark)}}function Q(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",3),s.Fc(1,"\n        "),s.Qb(2,"label",70),s.Fc(3),s.ac(4,"translate"),s.Pb(),s.Fc(5,"\n        "),s.Qb(6,"div",58),s.Fc(7,"\n            "),s.Qb(8,"textarea",71),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb(2).chiefComplaint.significantSigns=t}),s.Pb(),s.Fc(9,"\n        "),s.Pb(),s.Fc(10,"\n    "),s.Pb()}if(2&e){const e=s.Zb(2);s.yb(3),s.Gc(s.bc(4,2,"SignificantSigns")),s.yb(5),s.hc("ngModel",e.chiefComplaint.significantSigns)}}function T(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",3),s.Fc(1,"\n        "),s.Qb(2,"label",72),s.Fc(3),s.ac(4,"translate"),s.Pb(),s.Fc(5,"\n        "),s.Qb(6,"div",58),s.Fc(7,"\n            "),s.Qb(8,"textarea",73),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb(2).chiefComplaint.possibleLineManagement=t}),s.Pb(),s.Fc(9,"\n        "),s.Pb(),s.Fc(10,"\n    "),s.Pb()}if(2&e){const e=s.Zb(2);s.yb(3),s.Hc("",s.bc(4,2,"PossibleLineManagement")," "),s.yb(5),s.hc("ngModel",e.chiefComplaint.possibleLineManagement)}}function w(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",1,2),s.Fc(2,"\n    "),s.Qb(3,"div",3),s.Fc(4,"\n        "),s.Qb(5,"button",4),s.Xb("click",function(){return s.wc(e),s.Zb().SavechiefComplaint()}),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Fc(9,"\n    "),s.Pb(),s.Fc(10,"\n    "),s.Dc(11,v,11,4,"div",5),s.Fc(12,"\n    "),s.Dc(13,y,3,3,"h4",6),s.Fc(14,"\n    "),s.Dc(15,P,1,0,"hr",6),s.Fc(16,"\n    "),s.Qb(17,"div",3),s.Fc(18,"\n        "),s.Qb(19,"label",7),s.Fc(20),s.ac(21,"translate"),s.Pb(),s.Fc(22,"\n        "),s.Qb(23,"div",8),s.Fc(24,"\n            "),s.Qb(25,"input",9,10),s.Xb("change",function(){s.wc(e);const t=s.vc(26);return s.Zb().getWeight(t.value)})("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.weightValue=t}),s.Pb(),s.Fc(27,"\n        "),s.Pb(),s.Fc(28,"\n        "),s.Qb(29,"div",8),s.Fc(30,"\n            "),s.Qb(31,"select",11,12),s.Xb("change",function(){s.wc(e);const t=s.vc(32);return s.Zb().getWeightType(t.value)})("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.weightUnitId=t}),s.Fc(33,"\n                "),s.Dc(34,S,2,2,"option",13),s.Fc(35,"\n            "),s.Pb(),s.Fc(36,"\n        "),s.Pb(),s.Fc(37,"\n        "),s.Qb(38,"label",14),s.Fc(39),s.ac(40,"translate"),s.Pb(),s.Fc(41,"\n        "),s.Qb(42,"div",15),s.Fc(43,"\n            "),s.Qb(44,"input",16),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.weightValueMark=t}),s.Pb(),s.Fc(45,"\n        "),s.Pb(),s.Fc(46,"\n    "),s.Pb(),s.Fc(47,"\n    "),s.Qb(48,"div",3),s.Fc(49,"\n        "),s.Qb(50,"label",17),s.Fc(51),s.ac(52,"translate"),s.Pb(),s.Fc(53,"\n        "),s.Qb(54,"div",18),s.Fc(55,"\n            "),s.Qb(56,"input",19),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.temperatureTypeValue=t}),s.Pb(),s.Fc(57,"\n        "),s.Pb(),s.Fc(58,"\n        "),s.Qb(59,"label",20),s.Fc(60),s.ac(61,"translate"),s.Pb(),s.Fc(62,"\n        "),s.Qb(63,"div",15),s.Fc(64,"\n            "),s.Qb(65,"input",21),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.temperatureTypeMark=t}),s.Pb(),s.Fc(66,"\n        "),s.Pb(),s.Fc(67,"\n    "),s.Pb(),s.Fc(68,"\n    "),s.Qb(69,"div",3),s.Fc(70,"\n        "),s.Qb(71,"label",22),s.Fc(72),s.ac(73,"translate"),s.Pb(),s.Fc(74,"\n        "),s.Qb(75,"div",18),s.Fc(76,"\n            "),s.Qb(77,"input",23),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.respirationRate=t}),s.Pb(),s.Fc(78,"\n        "),s.Pb(),s.Fc(79,"\n        "),s.Qb(80,"label",24),s.Fc(81),s.ac(82,"translate"),s.Pb(),s.Fc(83,"\n        "),s.Qb(84,"div",15),s.Fc(85,"\n            "),s.Qb(86,"input",25),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.respirationRateMark=t}),s.Pb(),s.Fc(87,"\n        "),s.Pb(),s.Fc(88,"\n    "),s.Pb(),s.Fc(89,"\n    "),s.Qb(90,"div",3),s.Fc(91,"\n        "),s.Qb(92,"label",26),s.Fc(93),s.ac(94,"translate"),s.Pb(),s.Fc(95,"\n        "),s.Qb(96,"div",18),s.Fc(97,"\n            "),s.Qb(98,"input",27),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.pulse=t}),s.Pb(),s.Fc(99,"\n        "),s.Pb(),s.Fc(100,"\n        "),s.Qb(101,"label",28),s.Fc(102),s.ac(103,"translate"),s.Pb(),s.Fc(104,"\n        "),s.Qb(105,"div",15),s.Fc(106,"\n            "),s.Qb(107,"input",29),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.pulseMark=t}),s.Pb(),s.Fc(108,"\n        "),s.Pb(),s.Fc(109,"\n    "),s.Pb(),s.Fc(110,"\n    "),s.Qb(111,"div",3),s.Fc(112,"\n        "),s.Qb(113,"label",30),s.Fc(114),s.ac(115,"translate"),s.Pb(),s.Fc(116,"\n        "),s.Qb(117,"div",8),s.Fc(118,"\n            "),s.Qb(119,"input",31,32),s.Xb("change",function(){s.wc(e);const t=s.vc(120);return s.Zb().getHeight(t.value)})("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.heightvalue=t}),s.Pb(),s.Fc(121,"\n        "),s.Pb(),s.Fc(122,"\n        "),s.Qb(123,"div",8),s.Fc(124,"\n            "),s.Qb(125,"select",33,34),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.heightUnitId=t})("change",function(){s.wc(e);const t=s.vc(126);return s.Zb().getHeightType(t.value)}),s.Fc(127,"\n                "),s.Dc(128,I,2,2,"option",13),s.Fc(129,"\n            "),s.Pb(),s.Fc(130,"\n        "),s.Pb(),s.Fc(131,"\n        "),s.Qb(132,"label",35),s.Fc(133),s.ac(134,"translate"),s.Pb(),s.Fc(135,"\n        "),s.Qb(136,"div",15),s.Fc(137,"\n            "),s.Qb(138,"input",36),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.heightValueMark=t}),s.Pb(),s.Fc(139,"\n        "),s.Pb(),s.Fc(140,"\n    "),s.Pb(),s.Fc(141,"\n    "),s.Qb(142,"div",3),s.Fc(143,"\n        "),s.Qb(144,"label",37),s.Fc(145),s.ac(146,"translate"),s.Pb(),s.Fc(147,"\n        "),s.Qb(148,"div",18),s.Fc(149,"\n            "),s.Qb(150,"input",38),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.headCircumferences=t}),s.Pb(),s.Fc(151,"\n        "),s.Pb(),s.Fc(152,"\n        "),s.Qb(153,"label",39),s.Fc(154),s.ac(155,"translate"),s.Pb(),s.Fc(156,"\n        "),s.Qb(157,"div",15),s.Fc(158,"\n            "),s.Qb(159,"input",40),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.headCircumferencesMArk=t}),s.Pb(),s.Fc(160,"\n        "),s.Pb(),s.Fc(161,"\n    "),s.Pb(),s.Fc(162,"\n    "),s.Qb(163,"div",3),s.Fc(164,"\n        "),s.Qb(165,"label",41),s.Fc(166),s.ac(167,"translate"),s.Pb(),s.Fc(168,"\n        "),s.Qb(169,"div",18),s.Fc(170,"\n            "),s.Qb(171,"input",42),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.bpSystolic=t}),s.Pb(),s.Fc(172,"\n        "),s.Pb(),s.Fc(173,"\n        "),s.Qb(174,"label",43),s.Fc(175),s.ac(176,"translate"),s.Pb(),s.Fc(177,"\n        "),s.Qb(178,"div",15),s.Fc(179,"\n            "),s.Qb(180,"input",44),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.bpSystolicMark=t}),s.Pb(),s.Fc(181,"\n        "),s.Pb(),s.Fc(182,"\n    "),s.Pb(),s.Fc(183,"\n    "),s.Qb(184,"div",3),s.Fc(185,"\n        "),s.Qb(186,"label",45),s.Fc(187),s.ac(188,"translate"),s.Pb(),s.Fc(189,"\n        "),s.Qb(190,"div",18),s.Fc(191,"\n            "),s.Qb(192,"input",46,47),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.bpDiastolic=t}),s.Pb(),s.Fc(194,"\n        "),s.Pb(),s.Fc(195,"\n        "),s.Qb(196,"label",48),s.Fc(197),s.ac(198,"translate"),s.Pb(),s.Fc(199,"\n        "),s.Qb(200,"div",15),s.Fc(201,"\n            "),s.Qb(202,"input",49,50),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.bpDiastolicMArk=t}),s.Pb(),s.Fc(204,"\n        "),s.Pb(),s.Fc(205,"\n    "),s.Pb(),s.Fc(206,"\n    "),s.Qb(207,"div",3),s.Fc(208,"\n        "),s.Qb(209,"label",51),s.Fc(210),s.ac(211,"translate"),s.Pb(),s.Fc(212,"\n        "),s.Qb(213,"div",18),s.Fc(214,"\n            "),s.Qb(215,"input",52,53),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.bmi=t}),s.Pb(),s.Fc(217,"\n        "),s.Pb(),s.Fc(218,"\n        "),s.Qb(219,"label",54),s.Fc(220),s.ac(221,"translate"),s.Pb(),s.Fc(222,"\n        "),s.Qb(223,"div",15),s.Fc(224,"\n            "),s.Qb(225,"input",55,56),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.bmiMark=t}),s.Pb(),s.Fc(227,"\n        "),s.Pb(),s.Fc(228,"\n    "),s.Pb(),s.Fc(229,"\n    "),s.Dc(230,D,22,8,"div",5),s.Fc(231,"\n    "),s.Dc(232,Q,11,4,"div",5),s.Fc(233,"\n    "),s.Dc(234,T,11,4,"div",5),s.Fc(235,"\n    "),s.Qb(236,"div",3),s.Fc(237,"\n        "),s.Qb(238,"label",57),s.Fc(239),s.ac(240,"translate"),s.Pb(),s.Fc(241,"\n        "),s.Qb(242,"div",58),s.Fc(243,"\n            "),s.Qb(244,"textarea",59),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().chiefComplaint.description=t}),s.Pb(),s.Fc(245,"\n        "),s.Pb(),s.Fc(246,"\n    "),s.Pb(),s.Fc(247,"\n    "),s.Qb(248,"div",60),s.Fc(249,"   \n    "),s.Pb(),s.Fc(250,"\n\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(5),s.ic("disabled",e.enableNewNoteBtn?"":"disabled"),s.yb(1),s.Gc(s.bc(7,50,"Save")),s.yb(5),s.hc("ngIf",e.isDoctor),s.yb(2),s.hc("ngIf",e.isDoctor),s.yb(2),s.hc("ngIf",e.isDoctor),s.yb(5),s.Gc(s.bc(21,52,"Weight")),s.yb(5),s.hc("ngModel",e.chiefComplaint.weightValue),s.yb(6),s.hc("ngModel",e.chiefComplaint.weightUnitId),s.yb(3),s.hc("ngForOf",e.weightList),s.yb(5),s.Gc(s.bc(40,54,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.weightValueMark),s.yb(7),s.Gc(s.bc(52,56,"Temprature")),s.yb(5),s.hc("ngModel",e.chiefComplaint.temperatureTypeValue),s.yb(4),s.Gc(s.bc(61,58,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.temperatureTypeMark),s.yb(7),s.Gc(s.bc(73,60,"Respirationrate")),s.yb(5),s.hc("ngModel",e.chiefComplaint.respirationRate),s.yb(4),s.Gc(s.bc(82,62,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.respirationRateMark),s.yb(7),s.Gc(s.bc(94,64,"Pulse")),s.yb(5),s.hc("ngModel",e.chiefComplaint.pulse),s.yb(4),s.Gc(s.bc(103,66,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.pulseMark),s.yb(7),s.Gc(s.bc(115,68,"Height")),s.yb(5),s.hc("ngModel",e.chiefComplaint.heightvalue),s.yb(6),s.hc("ngModel",e.chiefComplaint.heightUnitId),s.yb(3),s.hc("ngForOf",e.heightList),s.yb(5),s.Gc(s.bc(134,70,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.heightValueMark),s.yb(7),s.Gc(s.bc(146,72,"HeadCircumferences")),s.yb(5),s.hc("ngModel",e.chiefComplaint.headCircumferences),s.yb(4),s.Gc(s.bc(155,74,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.headCircumferencesMArk),s.yb(7),s.Hc("",s.bc(167,76,"BPSystolic")," "),s.yb(5),s.hc("ngModel",e.chiefComplaint.bpSystolic),s.yb(4),s.Gc(s.bc(176,78,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.bpSystolicMark),s.yb(7),s.Hc("",s.bc(188,80,"BPDiastolic")," "),s.yb(5),s.hc("ngModel",e.chiefComplaint.bpDiastolic),s.yb(5),s.Gc(s.bc(198,82,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.bpDiastolicMArk),s.yb(8),s.Gc(s.bc(211,84,"BMI")),s.yb(5),s.hc("ngModel",e.chiefComplaint.bmi),s.yb(5),s.Gc(s.bc(221,86,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.bmiMark),s.yb(5),s.hc("ngIf",e.isDoctor),s.yb(2),s.hc("ngIf",e.isDoctor),s.yb(2),s.hc("ngIf",e.isDoctor),s.yb(5),s.Gc(s.bc(240,88,"Description")),s.yb(5),s.hc("ngModel",e.chiefComplaint.description)}}let C=(()=>{class e{constructor(e,t,n,i,c,a,o){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.accountService=o,this.selectBasicTab=!0,this.onCheifComplaintSaved=new s.n,this.passedAppointmentId=0,this.noteId="",this.active=!0,this.chiefComplaint={id:0},this.classifications=[],this.showProgress=!1,this.isDoctor=!1,this.previousTab="",this.nextTab="",this.heightList=[],this.weightList=[],this.enableNewNoteBtn=!1,this.userPermisions=new p.a,this.key=new F.a}ngOnInit(){this.loadDoctorOrNurseInfo(),this.isDoctor?(this.previousTab="/patient/basic/1",this.nextTab="/patient/diagnosis/1"):(this.previousTab="/patient/basic/1",this.nextTab="/patient/medication/1"),this.loadProductWrapper(),null!=this.accountService.userPermision._isScalar?this.accountService.userPermision.subscribe(e=>this.handleUserInterfaceViews(e)):this.handleUserInterfaceViews(this.accountService.userPermision)}loadDoctorOrNurseInfo(){null!=this.chiefComplaint.clinicNote&&null!=this.chiefComplaint.clinicNote||(this.chiefComplaint.clinicNote={}),this.clinicIdReq=this.storage.retrieve("ClinicID"),this.doctorId=this.storage.retrieve("UserID"),this.isDoctor=this.storage.retrieve("IsDoctor"),this.selectedPatientId=this._route.snapshot.params.id,this.selectedApointmentId=this._route.snapshot.params.appointmentId,null!=this.passedAppointmentId&&null!=this.passedAppointmentId&&0!=this.passedAppointmentId&&(this.selectedApointmentId=this.passedAppointmentId)}loadProductWrapper(){let e=this;this.patientService.getProductUnits().subscribe(function(t){e.heightList=t.heights,e.weightList=t.weights},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}SavechiefComplaint(){let e=this;null!=this.chiefComplaint.clinicNote&&null!=this.chiefComplaint.clinicNote||(this.chiefComplaint.clinicNote={}),e.showProgress=!0,this.chiefComplaint.id>0?(e.chiefComplaint.clinicNote=null,this.patientService.updateChiefComplaintData(this.chiefComplaint).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.chiefComplaint=t,e.onCheifComplaintSaved.emit({clinicNoteId:e.chiefComplaint.cLinicNoteId,moveNext:!0})},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})):(this.chiefComplaint.clinicNote.clinicId=this.clinicIdReq,this.chiefComplaint.clinicNote.patientId=this.selectedPatientId,this.chiefComplaint.clinicNote.appointmentId=0==this.selectedApointmentId||null==this.selectedApointmentId?void 0:this.selectedApointmentId,this.isDoctor?(this.chiefComplaint.userType=!0,this.chiefComplaint.recordedBy=this.doctorId,this.chiefComplaint.clinicNote.doctorId=this.doctorId):(this.chiefComplaint.userType=!1,this.chiefComplaint.recordedBy=this.doctorId,this.chiefComplaint.clinicNote.doctorId=this.doctorId),this.patientService.createChiefComplaint(this.chiefComplaint).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.chiefComplaint=t,e.onCheifComplaintSaved.emit({clinicNoteId:e.chiefComplaint.clinicNote.id,moveNext:!0})},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}getChiefComplaintById(){let e=this;this.isDoctor?(this.chiefComplaint.userType=!0,e.userType=this.chiefComplaint.userType):(this.chiefComplaint.userType=!1,e.userType=this.chiefComplaint.userType),""!=e.noteId&&"new"!=e.noteId&&this.patientService.getChiefComplaintByNoteId(e.noteId).subscribe(function(t){e.chiefComplaint=t,e.onCheifComplaintSaved.emit({clinicNoteId:e.chiefComplaint.cLinicNoteId,moveNext:!1})},function(e){},function(){e.showProgress=!1})}getHeight(e){this.heightValue=e,this.CaluclateBMI()}getWeight(e){this.weightvalue=e,this.CaluclateBMI()}getWeightType(e){for(let t of this.weightList)t.id==e&&(this.weightType=t.key);"Kg"==this.weightType?this.weightvalue=this.weightvalue:"Pound"==this.weightType?this.weightvalue=this.weightvalue/2.2:"gram"==this.weightType&&(this.weightvalue=this.weightvalue/1e3),this.CaluclateBMI()}getHeightType(e){for(let t of this.heightList)t.id==e&&(this.heightType=t.key);"Meter"==this.heightType?this.heightValue=this.heightValue:"Kilometr"==this.heightType?this.heightValue=1e3*this.heightValue:"Centimeter"==this.heightType&&(this.heightValue=this.heightValue/1e3),this.CaluclateBMI()}CaluclateBMI(){this.weightvalue>0&&this.heightValue>0&&(this.bmi=this.weightvalue/(this.heightValue*this.heightValue),this.chiefComplaint.bmi=this.bmi.toFixed(3))}clear(){this.chiefComplaint={id:0},this.chiefComplaint.clinicNote={},this.active=!1,setTimeout(()=>this.active=!0,0)}handleUserInterfaceViews(e){if(null!=e.permissions)for(let t of e.permissions)t.permission.key==this.key.EMR&&1==t.fullControl&&(this.enableNewNoteBtn=!0)}ngOnChanges(e){this.selectedApointmentId=this.passedAppointmentId,""!=this.noteId&&"new"!=this.noteId||this.clear(),this.getChiefComplaintById()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d),s.Kb(m.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-vital-signs"]],viewQuery:function(e,t){if(1&e&&s.Lc(f,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{passedAppointmentId:"passedAppointmentId",noteId:"noteId"},outputs:{onCheifComplaintSaved:"onCheifComplaintSaved"},features:[s.wb],decls:3,vars:1,consts:[["novalidate","","class","form-horizontal","name","organizationForm",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal"],["organizationForm","ngForm"],[1,"form-group"],["type","button",1,"btn","btn-primary","text-right",3,"disabled","click"],["class","form-group",4,"ngIf"],[4,"ngIf"],["for","txtWeightValue",1,"control-label","col-md-2"],[1,"col-md-1"],["type","number","name","txtWeightValue",1,"form-control",3,"ngModel","change","ngModelChange"],["weightValue",""],["name","weightUnitId",1,"form-control",3,"ngModel","change","ngModelChange"],["weightType",""],[3,"value",4,"ngFor","ngForOf"],["for","weightValueMark",1,"control-label","col-md-2"],[1,"col-md-5"],["type","text","name","weightValueMark",1,"form-control",3,"ngModel","ngModelChange"],["for","temperatureTypeValue",1,"control-label","col-md-2"],[1,"col-md-2"],["type","number","name","temperatureTypeValue",1,"form-control",3,"ngModel","ngModelChange"],["for","temperatureTypeMark",1,"control-label","col-md-2"],["type","text","name","temperatureTypeMark",1,"form-control",3,"ngModel","ngModelChange"],["for","respirationRate",1,"control-label","col-md-2"],["type","number","name","respirationRate",1,"form-control",3,"ngModel","ngModelChange"],["for","respirationRateMark",1,"control-label","col-md-2"],["type","text","name","respirationRateMark",1,"form-control",3,"ngModel","ngModelChange"],["for","pulse",1,"control-label","col-md-2"],["type","number","name","pulse",1,"form-control",3,"ngModel","ngModelChange"],["for","pulseMark",1,"control-label","col-md-2"],["type","text","name","pulseMark",1,"form-control",3,"ngModel","ngModelChange"],["for","heightvalue",1,"control-label","col-md-2"],["type","number","name","heightvalue",1,"form-control",3,"ngModel","change","ngModelChange"],["heightValue",""],["name","heightUnitId",1,"form-control",3,"ngModel","ngModelChange","change"],["heightType",""],["for","heightValueMark",1,"control-label","col-md-2"],["type","text","name","heightValueMark",1,"form-control",3,"ngModel","ngModelChange"],["for","headCircumferences",1,"control-label","col-md-2"],["type","number","name","headCircumferences",1,"form-control",3,"ngModel","ngModelChange"],["for","headCircumferencesMArk",1,"control-label","col-md-2"],["type","text","name","headCircumferencesMArk",1,"form-control",3,"ngModel","ngModelChange"],["for","bpSystolic",1,"control-label","col-md-2"],["type","number","name","bpSystolic",1,"form-control",3,"ngModel","ngModelChange"],["for","bpSystolicMark",1,"control-label","col-md-2"],["type","text","name","bpSystolicMark",1,"form-control",3,"ngModel","ngModelChange"],["for","bpDiastolic",1,"control-label","col-md-2"],["type","number","name","bpDiastolic",1,"form-control",3,"ngModel","ngModelChange"],["bpDiastolic",""],["for","bpDiastolicMArk",1,"control-label","col-md-2"],["type","text","name","bpDiastolicMArk",1,"form-control",3,"ngModel","ngModelChange"],["bpDiastolicMArk",""],["for","bMI",1,"control-label","col-md-2"],["type","number","name","bMI",1,"form-control",3,"ngModel","ngModelChange"],["bMI",""],["for","bMIMark",1,"control-label","col-md-2"],["type","text","name","bMIMark",1,"form-control",3,"ngModel","ngModelChange"],["bMIMark",""],["for","description",1,"control-label","col-md-2"],[1,"col-md-6"],["name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["for","txtChiefComplaint",1,"control-label","col-md-2"],["name","txtChiefComplaint",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["for","durationOfIllness",1,"control-label","col-md-2"],["type","number","name","durationOfIllness",1,"form-control",3,"ngModel","ngModelChange"],["durationOfIllness",""],["for","durationOfIllnessMark",1,"control-label","col-md-2"],["type","text","name","durationOfIllnessMark",1,"form-control",3,"ngModel","ngModelChange"],["durationOfIllnessMark",""],["for","significantSigns",1,"control-label","col-md-2"],["name","significantSigns",1,"form-control",3,"ngModel","ngModelChange"],["for","possibleLineManagement",1,"control-label","col-md-2"],["name","possibleLineManagement",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Dc(1,w,251,90,"form",0),s.Fc(2,"\n\n")),2&e&&(s.yb(1),s.hc("ngIf",t.active))},directives:[i.k,c.q,c.g,c.h,c.k,c.b,c.f,c.i,c.p,i.j,c.j,c.r],pipes:[b.c],encapsulation:2}),e})();var N=n("Yp+s"),M=n("W5ZJ"),L=n("Frqi"),k=n("40Bm"),G=n("g9iH"),x=n("7zfz"),A=n("iIV1"),R=n("Gkuo");function Z(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function O(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",29),s.Xb("click",function(){return s.wc(e),s.Zb(2).getAllDiagnoseGroupsForTreeView(!0)}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetAll")))}function B(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",29),s.Xb("click",function(){return s.wc(e),s.Zb(2).getClinicDepartmentDiagnoseGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetSpecific")))}function V(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",30),s.Lb(2,"i",31),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function H(e,t){if(1&e&&(s.Fc(0,"\n                         "),s.Qb(1,"span",30),s.Lb(2,"i",31),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                         \xa0 \n                         ",e.label,"\n                    ")}}function U(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",30),s.Lb(2,"i",32),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function K(e,t){1&e&&(s.Qb(0,"div",33),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e&&(s.yb(1),s.Hc("\n                ",s.bc(2,1,"RequiredField"),"\n            "))}function X(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",2,3),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Qb(3,"div",4),s.Fc(4,"\n        "),s.Qb(5,"label",5),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Qb(9,"div",6),s.Fc(10,"\n "),s.Dc(11,O,3,3,"a",7),s.Fc(12,"\n            "),s.Dc(13,B,3,3,"a",7),s.Fc(14,"\n            "),s.Qb(15,"div",8),s.Fc(16,"\n                "),s.Qb(17,"div",9),s.Fc(18,"\n                    "),s.Qb(19,"input",10,11),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.ac(21,"translate"),s.Pb(),s.Fc(22,"\n                "),s.Pb(),s.Fc(23,"\n                "),s.Qb(24,"p-tree",12),s.Xb("selectionChange",function(t){return s.wc(e),s.Zb().selectedDiagnoseNode=t})("onNodeSelect",function(t){return s.wc(e),s.Zb().treeNodeSelected(t)}),s.ac(25,"translateObjects"),s.ac(26,"filterbynameorcode"),s.Fc(27,"\n                    \n                    "),s.Dc(28,V,4,1,"ng-template",13),s.Fc(29,"\n                     "),s.Dc(30,H,4,1,"ng-template",14),s.Fc(31,"\n                    "),s.Dc(32,U,4,1,"ng-template",15),s.Fc(33,"\n\n                "),s.Pb(),s.Fc(34,"\n            "),s.Pb(),s.Fc(35,"\n        "),s.Pb(),s.Fc(36,"\n    "),s.Pb(),s.Fc(37,"\n\n    "),s.Qb(38,"div",4),s.Fc(39,"\n        "),s.Qb(40,"label",5),s.Fc(41),s.ac(42,"translate"),s.Pb(),s.Fc(43,"\n        "),s.Qb(44,"div",16),s.Fc(45,"\n            "),s.Qb(46,"input",17,18),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteDiagnose.diagnoseCode=t}),s.Pb(),s.Fc(48,"\n        "),s.Pb(),s.Fc(49,"\n        "),s.Qb(50,"div",19),s.Fc(51,"\n            "),s.Dc(52,K,3,3,"div",20),s.Fc(53,"\n        "),s.Pb(),s.Fc(54,"\n    "),s.Pb(),s.Fc(55,"\n    "),s.Qb(56,"div",4),s.Fc(57,"\n        "),s.Qb(58,"label",21),s.Fc(59),s.ac(60,"translate"),s.Pb(),s.Fc(61,"\n        "),s.Qb(62,"div",19),s.Fc(63,"\n            "),s.Qb(64,"table"),s.Fc(65,"\n                "),s.Qb(66,"tr"),s.Fc(67,"\n                    "),s.Qb(68,"td"),s.Fc(69,"\n                        "),s.Qb(70,"input",22),s.Xb("change",function(){return s.wc(e),s.Zb().toSaveClinicNoteDiagnose.status="1"}),s.Pb(),s.Fc(71),s.ac(72,"translate"),s.Pb(),s.Fc(73,"\n                    "),s.Qb(74,"td"),s.Fc(75,"\n                        "),s.Qb(76,"input",23),s.Xb("change",function(){return s.wc(e),s.Zb().toSaveClinicNoteDiagnose.status="2"}),s.Pb(),s.Fc(77),s.ac(78,"translate"),s.Pb(),s.Fc(79,"\n                "),s.Pb(),s.Fc(80,"\n            "),s.Pb(),s.Fc(81,"\n        "),s.Pb(),s.Fc(82,"\n    "),s.Pb(),s.Fc(83,"\n    "),s.Qb(84,"div",4),s.Fc(85,"\n        "),s.Qb(86,"label",5),s.Fc(87),s.ac(88,"translate"),s.Pb(),s.Fc(89,"\n        "),s.Qb(90,"div",6),s.Fc(91,"\n            "),s.Qb(92,"textarea",24,25),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteDiagnose.description=t}),s.Pb(),s.Fc(94,"\n        "),s.Pb(),s.Fc(95,"\n    "),s.Pb(),s.Fc(96,"\n    "),s.Qb(97,"div",4),s.Fc(98,"\n        "),s.Qb(99,"div",26),s.Fc(100,"\n            "),s.Qb(101,"button",27),s.Fc(102),s.ac(103,"translate"),s.Pb(),s.Fc(104,"\n            "),s.Qb(105,"button",28),s.Xb("click",function(){return s.wc(e),s.Zb().goBack()}),s.Fc(106),s.ac(107,"translate"),s.Pb(),s.Fc(108,"\n        "),s.Pb(),s.Fc(109,"\n    "),s.Pb(),s.Fc(110,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Gc(s.bc(7,19,"DiagnoseName")),s.yb(5),s.hc("ngIf",e.getAllDiagnosis),s.yb(2),s.hc("ngIf",!e.getAllDiagnosis),s.yb(6),s.hc("placeholder",s.bc(21,21,"SearchNameOrCode"))("ngModel",e.filterString),s.yb(5),s.hc("value",s.dc(25,23,s.dc(26,27,e.diagnosisTreeDataSourceItems,e.filterString,e.leafType),"label","labelTranslation"))("selection",e.selectedDiagnoseNode),s.yb(17),s.Gc(s.bc(42,31,"DiagnoseCode")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteDiagnose.diagnoseCode),s.yb(6),s.hc("ngIf",!e.toSaveClinicNoteDiagnose.diagnoseCode||""==e.toSaveClinicNoteDiagnose.diagnoseCode),s.yb(7),s.Gc(s.bc(60,33,"Status")),s.yb(11),s.hc("checked",e.isClinicNoteDiagnoseConfirmed()),s.yb(1),s.Hc("",s.bc(72,35,"Confirmed"),"\n                    "),s.yb(5),s.hc("checked",e.isClinicNoteDiagnoseSuspected()),s.yb(1),s.Hc("",s.bc(78,37,"Suspicious"),"\n                    "),s.yb(10),s.Hc("",s.bc(88,39,"Description")," "),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteDiagnose.description),s.yb(10),s.Gc(s.bc(103,41,"Save")),s.yb(4),s.Gc(s.bc(107,43,"Back"))}}let E=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.clinicService=t,this.toastr=n,this._route=i,this.localStorage=c,this.translate=a,this.selectBasicTab=!0,this.leafType="Diagnose",this.active=!0,this.getAllDiagnosis=!0,this.showProgress=!1,this.allDiagnosis=[],this.onBack=new s.n,this.ttt="ss"}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.clinicId=this.localStorage.retrieve("ClinicID"),this.getAllDiagnoseGroupsForTreeView(!1),this.getClinicDepartmentDiagnoseGroupsForTreeView()}getClinicDepartmentDiagnoseGroupsForTreeView(){let e=this;e.getAllDiagnosis=!0,this.doctorService.getClinicDivisionDiagnoseGroupsForTreeView(e.divisionId).subscribe(function(t){e.diagnosisTreeDataSourceItems=t,e.toSaveClinicNoteDiagnose&&(e.getModelToDisplay(e.toSaveClinicNoteDiagnose),e.expandAll())},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getAllDiagnoseGroupsForTreeView(e){let t=this;this.clinicService.getDiagnosisGroupsForTree(t.clinicId).subscribe(function(n){t.allDiagnosis=n,e&&(t.diagnosisTreeDataSourceItems=n,t.getAllDiagnosis=!1,t.expandAll())},function(e){t.toastr.error(e,"")},function(){t.showProgress=!1})}getModelToDisplay(e){this.displaySelectedNode(e.diagnoseId,"Diagnose",this.diagnosisTreeDataSourceItems),null==this.selectedDiagnoseNode&&(this.displaySelectedNode(e.diagnoseId,"Diagnose",this.allDiagnosis),null!=this.selectedDiagnoseNode&&this.addDiagnoseToDepartmentTree(this.selectedDiagnoseNode))}addDiagnoseToDepartmentTree(e){this.diagnosisTreeDataSourceItems[0].children.push(e),this.selectedDiagnoseNode=e,this.ttt="bbbb"}displaySelectedNode(e,t,n){let i=this;i.diagnosisTreeDataSourceItems.forEach(n=>{n.data==e&&n.type==t&&(i.selectedDiagnoseNode=n),i.displaySelectedNodeRecursive(n,e,t)})}displaySelectedNodeRecursive(e,t,n){e.children&&e.children.forEach(e=>{this.displaySelectedNodeRecursive(e,t,n),e.data==t&&e.type==n&&(this.selectedDiagnoseNode=e)})}expandAll(){this.diagnosisTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.diagnosisTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}onSubmit(){let e=this;this.toSaveClinicNoteDiagnose.diagnoseCode&&""!=this.toSaveClinicNoteDiagnose.diagnoseCode&&(e.showProgress=!0,e.toSaveClinicNoteDiagnose.patientId=e.patientId,e.toSaveClinicNoteDiagnose.clinicNoteId=e.clinicNoteId,e.toSaveClinicNoteDiagnose.isCurrent=!0,e.selectedDiagnoseNode&&(e.toSaveClinicNoteDiagnose.diagnoseId=e.selectedDiagnoseNode.data),this.toSaveClinicNoteDiagnose.hasOwnProperty("id")&&"new"!=this.toSaveClinicNoteDiagnose.id.toString().toLowerCase()?this.doctorService.updateClinicNoteDiagnose(this.toSaveClinicNoteDiagnose).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveClinicNoteDiagnose=t,e.clear(),e.onBack.emit(t)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):this.doctorService.createClinicNoteDiagnose(this.toSaveClinicNoteDiagnose).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveClinicNoteDiagnose=t,e.clear(),e.onBack.emit(t)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}isClinicNoteDiagnoseConfirmed(){return this.toSaveClinicNoteDiagnose&&this.toSaveClinicNoteDiagnose.status&&("1"==this.toSaveClinicNoteDiagnose.status||"confirmed"==this.toSaveClinicNoteDiagnose.status.toLowerCase())}isClinicNoteDiagnoseSuspected(){return this.toSaveClinicNoteDiagnose&&this.toSaveClinicNoteDiagnose.status&&("2"==this.toSaveClinicNoteDiagnose.status||"suspicious"==this.toSaveClinicNoteDiagnose.status.toLowerCase())}clear(){this.toSaveClinicNoteDiagnose={},this.active=!1,setTimeout(()=>this.active=!0,0)}treeNodeSelected(e){this.toSaveClinicNoteDiagnose.diagnoseCode=e&&e.node&&e.node.code&&""!=e.node.code?e.node.code:""}goBack(){this.onBack.emit()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(k.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-diagnose-details"]],inputs:{patientId:"patientId",clinicNoteId:"clinicNoteId",toSaveClinicNoteDiagnose:"toSaveClinicNoteDiagnose"},outputs:{onBack:"onBack"},decls:3,vars:2,consts:[[4,"ngIf"],["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-6"],["class","pointer",3,"click",4,"ngIf"],[1,"nopadding","treeBorder"],[1,"row","nopadding"],["name","txtFilterString",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["txtFilterString","ngModel"],["selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["pTemplate","ClinicDepartmentDiagnosisGroup"],["pTemplate","DiagnosisGroup"],["pTemplate","Diagnose"],[1,"col-md-2"],["name","txtDiagnoseCode","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["txtDiagnoseCode","ngModel"],[1,"col-md-4"],["class","alert alert-danger",4,"ngIf"],["for","rbClinicNoteDiagnoseStatus",1,"control-label","col-md-2"],["type","radio","name","clinicNoteDiagnoseStatus","required","",3,"checked","change"],["type","radio","name","clinicNoteDiagnoseStatus",3,"checked","change"],["name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],["txtRemarks","ngModel"],[1,"col-md-4","col-md-offset-2"],[1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pointer",3,"click"],[1,"nav-icon"],[1,"fa","fa-cubes"],[1,"fa","fa-cube"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(s.Dc(0,Z,4,0,"div",0),s.Fc(1,"\n"),s.Dc(2,X,111,45,"form",1)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,c.b,c.f,c.i,G.a,x.g],pipes:[b.c,A.a,R.a],encapsulation:2}),e})();function q(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function z(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",9),s.Fc(1,"\n        "),s.Qb(2,"div",10),s.Fc(3,"\n        "),s.Pb(),s.Fc(4,"\n        "),s.Qb(5,"div",11),s.Fc(6,"\n "),s.Qb(7,"button",12),s.Xb("click",function(){return s.wc(e),s.Zb(2).addNewClinicNoteDiagnose()}),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n        "),s.Pb(),s.Fc(11,"\n    "),s.Pb()}2&e&&(s.yb(8),s.Gc(s.bc(9,1,"NewDiagnosis")))}function j(e,t){if(1&e&&(s.Qb(0,"div",3),s.Fc(1,"\n    "),s.Dc(2,z,12,3,"div",4),s.Fc(3,"\n    \n    "),s.Qb(4,"div",5),s.Fc(5,"\n        "),s.Lb(6,"i",6),s.Fc(7,"\n        "),s.Lb(8,"input",7,8),s.ac(10,"translate"),s.Fc(11,"\n    "),s.Pb(),s.Fc(12,"\n    "),s.Fc(13,"\n"),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("ngIf",e.allowEditing),s.yb(6),s.hc("placeholder",s.bc(10,2,"Search"))}}function $(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",13),s.Fc(1,"\n    "),s.Qb(2,"patient-diagnose-details",14),s.Xb("onBack",function(t){return s.wc(e),s.Zb().hideDetails(t)}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("toSaveClinicNoteDiagnose",e.toSaveClinicNoteDiagnose)("clinicNoteId",e.clinicNoteId)("patientId",e.patientId)}}let _=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.localStorage=c,this.translate=a,this.selectBasicTab=!0,this.utilityClass=new N.a,this.allowEditing=!0,this.usedInClinicNoteDiagnosis=!1,this.isDetailsVisible=!1,this.diagnosisList=[],this.lstToTranslated=[],this.active=!0,this.toSaveClinicNoteDiagnose={},this.showProgress=!1}ngOnInit(){let e=this;this.lstToTranslated=["diagnoseName","diagnoseNameTranslation","doctorName","doctorNameTranslation"],this.getClinicNoteDiagnosis(),null!=this.patientId&&this.patientId>0&&(e.showProgress=!0,this.doctorService.getPatientSnapshotDiagnosis(e.patientId).subscribe(function(t){e.diagnosisList=t},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}getClinicNoteDiagnosis(){let e=this;this.usedInClinicNoteDiagnosis&&this.clinicNoteId&&this.clinicNoteId>0&&(e.showProgress=!0,this.doctorService.getClinicNoteDiagnosis(e.clinicNoteId).subscribe(function(t){e.diagnosisList=t},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}ngOnChanges(e){}addNewClinicNoteDiagnose(){this.toSaveClinicNoteDiagnose={},this.isDetailsVisible=!0}showDetails(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.getClinicNoteDiagnoseById(e.id).subscribe(function(e){t.toSaveClinicNoteDiagnose=e},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1}),this.isDetailsVisible=!0}}hideDetails(e){if(e){let t=this;t.diagnosisList.forEach(n=>{n.id==e.id&&t.diagnosisList.splice(t.diagnosisList.indexOf(n),1)}),this.diagnosisList.push(e)}this.isDetailsVisible=!1}deleteClinicNoteDiagnose(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.deleteClinicNoteDiagnose(e.id).subscribe(function(n){t.diagnosisList.forEach(n=>{n.id==e.id&&t.diagnosisList.splice(t.diagnosisList.indexOf(n),1)});let i=t.translate.instant("DeletedSuccessfully");t.toastr.success(i,"")},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})}}changeCurrentStatus(e,t){let n=this;n.showProgress=!0,this.doctorService.changeClinicNoteDiagnoseCurrentStatus({id:e,isCurrent:t.target.checked}).subscribe(function(e){let t=n.translate.instant("StatusChanged");n.toastr.success(t,"")},function(e){n.toastr.error(e,""),n.showProgress=!1},function(){n.showProgress=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-diagnosis"]],inputs:{allowEditing:"allowEditing",patientId:"patientId",clinicNoteId:"clinicNoteId",usedInClinicNoteDiagnosis:"usedInClinicNoteDiagnosis"},features:[s.wb],decls:6,vars:3,consts:[[4,"ngIf"],["id","divTable","class","padding5",4,"ngIf"],["id","divDetails","class","padding5",4,"ngIf"],["id","divTable",1,"padding5"],["class","row",4,"ngIf"],[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""],[1,"row"],[1,"col-md-4","nopadding"],[1,"col-md-8","align-reverse","nopadding"],["type","button",1,"btn","btn-primary",3,"click"],["id","divDetails",1,"padding5"],[3,"toSaveClinicNoteDiagnose","clinicNoteId","patientId","onBack"]],template:function(e,t){1&e&&(s.Dc(0,q,4,0,"div",0),s.Fc(1,"\n"),s.Dc(2,j,14,4,"div",1),s.Fc(3,"\n"),s.Dc(4,$,4,3,"div",2),s.Fc(5,"\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible))},directives:[i.k,L.a,E],pipes:[b.c],encapsulation:2}),e})();var Y=n("eO1q");function W(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function J(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",41),s.Xb("click",function(){return s.wc(e),s.Zb(2).getAllDrugGroupsForTreeView(!0)}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetAll")))}function ee(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",41),s.Xb("click",function(){return s.wc(e),s.Zb(2).getClinicDepartmentDrugGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetSpecific")))}function te(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",42),s.Lb(2,"i",43),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function ne(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",42),s.Lb(2,"i",43),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function ie(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",42),s.Lb(2,"i",44),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function ce(e,t){1&e&&(s.Qb(0,"div",45),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e&&(s.yb(1),s.Hc("\n                ",s.bc(2,1,"RequiredField"),"\n            "))}function ae(e,t){if(1&e&&(s.Qb(0,"option",46),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.name),s.yb(1),s.Gc(e.name)}}function se(e,t){if(1&e&&(s.Qb(0,"option",46),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function oe(e,t){if(1&e&&(s.Qb(0,"option",46),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function re(e,t){if(1&e&&(s.Qb(0,"option",46),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}const le=function(){return{standalone:!0}};function de(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",2,3),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Qb(3,"div",4),s.Fc(4,"\n        "),s.Qb(5,"label",5),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Qb(9,"div",6),s.Fc(10,"\n            "),s.Dc(11,J,3,3,"a",7),s.Fc(12,"\n            "),s.Dc(13,ee,3,3,"a",7),s.Fc(14,"\n            "),s.Qb(15,"div",8),s.Fc(16,"\n                "),s.Qb(17,"div",9),s.Fc(18,"\n                    "),s.Qb(19,"input",10,11),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.Pb(),s.Fc(21,"\n                "),s.Pb(),s.Fc(22,"\n                "),s.Qb(23,"p-tree",12),s.Xb("selectionChange",function(t){return s.wc(e),s.Zb().selectedMedicationNode=t})("onNodeSelect",function(t){return s.wc(e),s.Zb().treeNodeSelected(t)}),s.ac(24,"translateObjects"),s.ac(25,"filterbynameorcode"),s.Fc(26,"\n                    \n                    "),s.Dc(27,te,4,1,"ng-template",13),s.Fc(28,"\n                    "),s.Dc(29,ne,4,1,"ng-template",14),s.Fc(30,"\n                    "),s.Dc(31,ie,4,1,"ng-template",15),s.Fc(32,"\n                "),s.Pb(),s.Fc(33,"\n            "),s.Pb(),s.Fc(34,"\n        "),s.Pb(),s.Fc(35,"\n        "),s.Qb(36,"label",5),s.Fc(37),s.ac(38,"translate"),s.Pb(),s.Fc(39,"\n        "),s.Qb(40,"div",16),s.Fc(41,"\n            "),s.Qb(42,"input",17,18),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.drugCode=t}),s.Pb(),s.Fc(44,"\n        "),s.Pb(),s.Fc(45,"\n        "),s.Qb(46,"div",16),s.Fc(47,"\n            "),s.Dc(48,ce,3,3,"div",19),s.Fc(49,"\n        "),s.Pb(),s.Fc(50,"\n    "),s.Pb(),s.Fc(51,"\n    "),s.Qb(52,"div",4),s.Fc(53,"\n        "),s.Qb(54,"label",5),s.Fc(55),s.ac(56,"translate"),s.Pb(),s.Fc(57,"\n        "),s.Qb(58,"div",16),s.Fc(59,"\n            "),s.Qb(60,"input",20,21),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.dosageQuantity=t}),s.Pb(),s.Fc(62,"\n        "),s.Pb(),s.Fc(63,"\n        "),s.Lb(64,"div",16),s.Fc(65,"\n        "),s.Qb(66,"label",22),s.Fc(67),s.ac(68,"translate"),s.Pb(),s.Fc(69,"\n        "),s.Qb(70,"div",23),s.Fc(71,"\n            "),s.Qb(72,"input",24,25),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.duration=t}),s.Pb(),s.Fc(74,"\n        "),s.Pb(),s.Fc(75,"\n        "),s.Qb(76,"div",23),s.Fc(77,"\n            "),s.Qb(78,"select",26,27),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.durationUnit=t}),s.Fc(80,"\n                "),s.Dc(81,ae,2,2,"option",28),s.Fc(82,"\n            "),s.Pb(),s.Fc(83,"\n        "),s.Pb(),s.Fc(84,"\n    "),s.Pb(),s.Fc(85,"\n    "),s.Qb(86,"div",4),s.Fc(87,"\n        "),s.Qb(88,"label",5),s.Fc(89),s.ac(90,"translate"),s.Pb(),s.Fc(91,"\n        "),s.Qb(92,"div",16),s.Fc(93,"\n            "),s.Qb(94,"select",29,30),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.frequencyId=t}),s.Fc(96,"\n                "),s.Dc(97,se,2,2,"option",28),s.Fc(98,"\n            "),s.Pb(),s.Fc(99,"\n        "),s.Pb(),s.Fc(100,"\n        "),s.Lb(101,"div",16),s.Fc(102,"\n        "),s.Qb(103,"label",5),s.Fc(104),s.ac(105,"translate"),s.Pb(),s.Fc(106,"\n        "),s.Qb(107,"div",16),s.Fc(108,"\n            "),s.Qb(109,"p-calendar",31),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.startDate=t}),s.Pb(),s.Fc(110,"\n        "),s.Pb(),s.Fc(111,"\n    "),s.Pb(),s.Fc(112,"\n    "),s.Qb(113,"div",4),s.Fc(114,"\n        "),s.Qb(115,"label",5),s.Fc(116),s.ac(117,"translate"),s.Pb(),s.Fc(118,"\n        "),s.Qb(119,"div",16),s.Fc(120,"\n            "),s.Qb(121,"select",32,33),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.dosageUnitId=t}),s.Fc(123,"\n                "),s.Dc(124,oe,2,2,"option",28),s.Fc(125,"\n            "),s.Pb(),s.Fc(126,"\n        "),s.Pb(),s.Fc(127,"\n        "),s.Lb(128,"div",16),s.Fc(129,"\n        "),s.Qb(130,"label",5),s.Fc(131),s.ac(132,"translate"),s.Pb(),s.Fc(133,"\n        "),s.Qb(134,"div",34),s.Fc(135,"\n            "),s.Qb(136,"select",35,36),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.relatedDiagnoseId=t}),s.Fc(138,"\n                "),s.Dc(139,re,2,2,"option",28),s.Fc(140,"\n            "),s.Pb(),s.Fc(141,"\n        "),s.Pb(),s.Fc(142,"\n    "),s.Pb(),s.Fc(143,"\n    "),s.Qb(144,"div",4),s.Fc(145,"\n        "),s.Qb(146,"label",5),s.Fc(147),s.ac(148,"translate"),s.Pb(),s.Fc(149,"\n        "),s.Qb(150,"div",6),s.Fc(151,"\n            "),s.Qb(152,"textarea",37,25),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveClinicNoteMedication.description=t}),s.Pb(),s.Fc(154,"\n        "),s.Pb(),s.Fc(155,"\n    "),s.Pb(),s.Fc(156,"\n    "),s.Qb(157,"div",4),s.Fc(158,"\n        "),s.Qb(159,"div",38),s.Fc(160,"\n            "),s.Qb(161,"button",39),s.Fc(162),s.ac(163,"translate"),s.Pb(),s.Fc(164,"\n            "),s.Qb(165,"button",40),s.Xb("click",function(){return s.wc(e),s.Zb().goBack()}),s.Fc(166),s.ac(167,"translate"),s.Pb(),s.Fc(168,"\n        "),s.Pb(),s.Fc(169,"\n    "),s.Pb(),s.Fc(170,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Gc(s.bc(7,35,"MedicationName")),s.yb(5),s.hc("ngIf",e.getAllMedications),s.yb(2),s.hc("ngIf",!e.getAllMedications),s.yb(6),s.hc("ngModel",e.filterString),s.yb(4),s.hc("value",s.dc(24,37,s.dc(25,41,e.medicationTreeDataSourceItems,e.filterString,e.leafType),"label","labelTranslation"))("selection",e.selectedMedicationNode),s.yb(14),s.Gc(s.bc(38,45,"MedicationCode")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.drugCode),s.yb(6),s.hc("ngIf",!e.toSaveClinicNoteMedication.drugCode||""==e.toSaveClinicNoteMedication.drugCode),s.yb(7),s.Gc(s.bc(56,47,"DosageQuantity")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.dosageQuantity),s.yb(7),s.Gc(s.bc(68,49,"Duration")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.duration),s.yb(6),s.hc("ngModel",e.toSaveClinicNoteMedication.durationUnit),s.yb(3),s.hc("ngForOf",e.durationUnitsList),s.yb(8),s.Gc(s.bc(90,51,"Frequency")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.frequencyId),s.yb(3),s.hc("ngForOf",e.drugFrequenciesList),s.yb(7),s.Gc(s.bc(105,53,"StartDate")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.startDate)("monthNavigator",!0)("yearNavigator",!0)("showIcon",!0)("required",!0)("ngModelOptions",s.lc(65,le)),s.yb(7),s.Gc(s.bc(117,55,"DosageUnit")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.dosageUnitId),s.yb(3),s.hc("ngForOf",e.drugDosageUnitsList),s.yb(7),s.Gc(s.bc(132,57,"Diagnosis")),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.relatedDiagnoseId),s.yb(3),s.hc("ngForOf",e.clinicNoteDiagnosisList),s.yb(8),s.Hc("",s.bc(148,59,"Description")," "),s.yb(5),s.hc("ngModel",e.toSaveClinicNoteMedication.description),s.yb(10),s.Gc(s.bc(163,61,"Save")),s.yb(4),s.Gc(s.bc(167,63,"Back"))}}let be=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.clinicService=t,this.toastr=n,this._route=i,this.localStorage=c,this.translate=a,this.active=!0,this.showProgress=!1,this.selectBasicTab=!0,this.leafType="Drug",this.onBack=new s.n,this.medicationTreeDataSourceItems=[],this.drugDosageUnitsList=[],this.drugFrequenciesList=[],this.durationUnitsList=[],this.clinicNoteDiagnosisList=[],this.getAllMedications=!0,this.allDrugs=[],this.ttt="aaa",this.utilityClass=new N.a}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.toSaveClinicNoteMedication={},this.clinicId=this.localStorage.retrieve("ClinicID"),this.recorderId=this.localStorage.retrieve("UserID"),this.selectedMedicationNode=null,this.getAllDrugGroupsForTreeView(!1),this.getClinicDepartmentDrugGroupsForTreeView();let e=this;this.doctorService.getClinicNoteMedicationWrapper(e.clinicNoteId).subscribe(function(t){e.drugDosageUnitsList=t.drugUnits,e.drugFrequenciesList=t.drugFrequencies,e.durationUnitsList=t.durationUnits,e.clinicNoteDiagnosisList=t.clinicNoteDiagnosis},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getClinicDepartmentDrugGroupsForTreeView(){let e=this;e.getAllMedications=!0,this.doctorService.getClinicDivisionDrugGroupsForTreeView(e.divisionId).subscribe(function(t){e.medicationTreeDataSourceItems=t,e.toSaveClinicNoteMedication&&(e.addModelToServicesList(e.toSaveClinicNoteMedication),e.expandAll())},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getAllDrugGroupsForTreeView(e){let t=this;this.clinicService.getDrugsGroupsForTree(t.clinicId).subscribe(function(n){t.allDrugs=n,e&&(t.getAllMedications=!1,t.medicationTreeDataSourceItems=n,t.expandAll())},function(e){t.toastr.error(e,"")},function(){t.showProgress=!1})}addModelToServicesList(e){this.displaySelectedNode(e.drugId,this.medicationTreeDataSourceItems),null==this.selectedMedicationNode&&(this.displaySelectedNode(e.drugId,this.allDrugs),null!=this.selectedMedicationNode&&this.addServiceToDepartmentList(this.selectedMedicationNode))}addServiceToDepartmentList(e){this.medicationTreeDataSourceItems[0].children.push(e),this.selectedMedicationNode=e,this.ttt="bbbb"}displaySelectedNode(e,t){let n=this;t.forEach(t=>{t.data==e&&"Drug"==t.type&&(n.selectedMedicationNode=t),n.displayNodeRecursive(t,e)})}displayNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displayNodeRecursive(e,t),e.data==t&&"Drug"==e.type&&(this.selectedMedicationNode=e)})}expandAll(){this.medicationTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.medicationTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}onSubmit(){let e=this;this.toSaveClinicNoteMedication.drugCode&&""!=this.toSaveClinicNoteMedication.drugCode&&(this.toSaveClinicNoteMedication.startDate=this.utilityClass.getUtcDateTime(this.toSaveClinicNoteMedication.startDate),e.showProgress=!0,e.toSaveClinicNoteMedication.patientId=e.patientId,e.toSaveClinicNoteMedication.clinicNoteId=e.clinicNoteId,e.toSaveClinicNoteMedication.isCurrent=!0,e.selectedMedicationNode&&(e.toSaveClinicNoteMedication.drugId=e.selectedMedicationNode.data),this.toSaveClinicNoteMedication.hasOwnProperty("id")&&"new"!=this.toSaveClinicNoteMedication.id.toString().toLowerCase()?this.doctorService.updateClinicNoteMedication(this.toSaveClinicNoteMedication).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveClinicNoteMedication=t,e.clear(),e.onBack.emit(t)},function(t){console.log(t),e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):(e.toSaveClinicNoteMedication.recorderId=e.recorderId,this.doctorService.createClinicNoteMedication(this.toSaveClinicNoteMedication).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveClinicNoteMedication=t,e.clear(),e.onBack.emit(t)},function(t){console.log(t),e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})))}clear(){this.toSaveClinicNoteMedication={},this.active=!1,setTimeout(()=>this.active=!0,0)}treeNodeSelected(e){this.toSaveClinicNoteMedication.drugCode=e&&e.node&&e.node.code&&""!=e.node.code?e.node.code:""}goBack(){this.onBack.emit()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(k.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-medication-details"]],inputs:{patientId:"patientId",clinicNoteId:"clinicNoteId",toSaveClinicNoteMedication:"toSaveClinicNoteMedication"},outputs:{onBack:"onBack"},decls:3,vars:2,consts:[[4,"ngIf"],["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-6"],["class","pointer",3,"click",4,"ngIf"],[1,"nopadding","treeBorder"],[1,"row","nopadding"],["placeholder","Search by name or code...","name","txtFilterString",1,"form-control",3,"ngModel","ngModelChange"],["txtFilterString","ngModel"],["selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["pTemplate","ClinicDepartmentDrugsGroup"],["pTemplate","DrugsGroup"],["pTemplate","Drug"],[1,"col-md-2"],["name","txtMedicationCode","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["txtMedicationCode","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","number","pattern","^[0-9]\\d*$","min","0","name","txtMedicationDosageQuantity",1,"form-control",3,"ngModel","ngModelChange"],["txtMedicationDosageQuantity","ngModel"],["for","txtRemarks",1,"control-label","col-md-2"],[1,"col-md-1"],["type","number","pattern","^[0-9]\\d*$","min","0","id","txtName","name","txtName",1,"form-control",3,"ngModel","ngModelChange"],["txtRemarks","ngModel"],["name","ddlDrugDurationUnit","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlDrugDurationUnit","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","ddlDrugFrequencies","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlDrugFrequencies","ngModel"],["dateFormat","dd/mm/yy","yearRange","2000:2050",3,"ngModel","monthNavigator","yearNavigator","showIcon","required","ngModelOptions","ngModelChange"],["name","ddlDosageUnits","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlDosageUnits","ngModel"],[1,"col-md-4"],["name","ddlClinicNoteDiagnosis","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlClinicNoteDiagnosis","ngModel"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","col-md-offset-2"],[1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pointer",3,"click"],[1,"nav-icon"],[1,"fa","fa-cubes"],[1,"fa","fa-cube"],[1,"alert","alert-danger"],[3,"value"]],template:function(e,t){1&e&&(s.Dc(0,W,4,0,"div",0),s.Fc(1,"\n"),s.Dc(2,de,171,66,"form",1)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,c.b,c.f,c.i,G.a,x.g,c.k,c.l,c.p,c.o,i.j,Y.a,c.j,c.r],pipes:[b.c,A.a,R.a],encapsulation:2}),e})();function he(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function ue(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",9),s.Fc(1,"\n        "),s.Qb(2,"div",10),s.Fc(3,"\n        "),s.Pb(),s.Fc(4,"\n        "),s.Qb(5,"div",11),s.Fc(6,"\n            "),s.Qb(7,"button",12),s.Xb("click",function(){return s.wc(e),s.Zb(2).addNewClinicNoteMedication()}),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n        "),s.Pb(),s.Fc(11,"\n    "),s.Pb()}2&e&&(s.yb(8),s.Gc(s.bc(9,1,"NewMedication")))}function ge(e,t){if(1&e&&(s.Qb(0,"div",3),s.Fc(1,"\n    "),s.Dc(2,ue,12,3,"div",4),s.Fc(3,"\n\n \n    "),s.Qb(4,"div",5),s.Fc(5,"\n        "),s.Lb(6,"i",6),s.Fc(7,"\n        "),s.Lb(8,"input",7,8),s.ac(10,"translate"),s.Fc(11,"\n    "),s.Pb(),s.Fc(12,"\n    "),s.Fc(13,"\n"),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("ngIf",e.allowEditing),s.yb(6),s.hc("placeholder",s.bc(10,2,"Search"))}}function pe(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",13),s.Fc(1,"\n    "),s.Qb(2,"patient-medication-details",14),s.Xb("onBack",function(t){return s.wc(e),s.Zb().hideDetails(t)}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("toSaveClinicNoteMedication",e.toSaveClinicNoteMedication)("clinicNoteId",e.clinicNoteId)("patientId",e.patientId)}}let Fe=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.allowEditing=!0,this.usedInClinicNoteMedications=!1,this.utilityClass=new N.a,this.isDetailsVisible=!1,this.active=!0,this.toSaveClinicNoteMedication={},this.clinicNoteMedicationList=[],this.showProgress=!1,this.isDoctor=!1,this.previousTab="",this.nextTab="",this.lstToTranslated=[]}ngOnInit(){this.lstToTranslated=["drugName","drugNameTranslation","dosageUnitName","dosageUnitNameTranslation","frequencyName","frequencyNameTranslation","relatedDiagnoseName","relatedDiagnoseNameTranslation","recorderName","recorderNameTranslation"],this.isDoctor=this.storage.retrieve("IsDoctor"),this.isDoctor?(this.previousTab="/patient/diagnosis/1",this.nextTab="/patient/surgeries/1"):(this.previousTab="/patient/vitalSigns/1",this.nextTab="/patient/services/1");let e=this;this.usedInClinicNoteMedications&&this.clinicNoteId&&this.clinicNoteId>0?(e.showProgress=!0,this.doctorService.getClinicNoteMedications(e.clinicNoteId).subscribe(function(t){e.clinicNoteMedicationList=t},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})):null!=this.patientId&&this.patientId>0&&(e.showProgress=!0,this.doctorService.getPatientSnapshotMedications(e.patientId).subscribe(function(t){e.clinicNoteMedicationList=t},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}addNewClinicNoteMedication(){this.toSaveClinicNoteMedication={},this.isDetailsVisible=!0}showDetails(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.getClinicNoteMedicationById(e.id).subscribe(function(e){t.toSaveClinicNoteMedication=e,t.toSaveClinicNoteMedication.startDate=t.utilityClass.getDateTimeFromString(t.toSaveClinicNoteMedication.startDate)},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1}),this.isDetailsVisible=!0}}hideDetails(e){if(e){let t=this;t.clinicNoteMedicationList.forEach(n=>{n.id==e.id&&t.clinicNoteMedicationList.splice(t.clinicNoteMedicationList.indexOf(n),1)}),this.clinicNoteMedicationList.push(e)}this.isDetailsVisible=!1}deleteClinicNotMedication(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.deleteClinicNoteMedication(e.id).subscribe(function(n){t.clinicNoteMedicationList.forEach(n=>{n.id==e.id&&t.clinicNoteMedicationList.splice(t.clinicNoteMedicationList.indexOf(n),1)});let i=t.translate.instant("DeletedSuccessfully");t.toastr.success(i,"")},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})}}changeCurrentStatus(e,t){let n=this;n.showProgress=!0,this.doctorService.changeClinicNoteMedicationCurrentStatus({id:e,isCurrent:t.target.checked}).subscribe(function(){let e=n.translate.instant("StatusChanged");n.toastr.success(e,"")},function(e){n.toastr.error(e,""),n.showProgress=!1},function(){n.showProgress=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-medication"]],inputs:{allowEditing:"allowEditing",patientId:"patientId",clinicNoteId:"clinicNoteId",usedInClinicNoteMedications:"usedInClinicNoteMedications"},decls:5,vars:3,consts:[[4,"ngIf"],["id","divTable","class","padding5",4,"ngIf"],["id","divDetails","class","padding5",4,"ngIf"],["id","divTable",1,"padding5"],["class","row",4,"ngIf"],[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""],[1,"row"],[1,"col-md-4","nopadding"],[1,"col-md-8","align-reverse","nopadding"],["type","button",1,"btn","btn-primary",3,"click"],["id","divDetails",1,"padding5"],[3,"toSaveClinicNoteMedication","clinicNoteId","patientId","onBack"]],template:function(e,t){1&e&&(s.Dc(0,he,4,0,"div",0),s.Fc(1,"\n"),s.Dc(2,ge,14,4,"div",1),s.Fc(3,"\n\n"),s.Dc(4,pe,4,3,"div",2)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible))},directives:[i.k,L.a,be],pipes:[b.c],encapsulation:2}),e})();function me(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",27),s.Xb("click",function(){return s.wc(e),s.Zb(2).getAllServiceGroupsForTreeView(!0,!1)}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetAll")))}function fe(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",27),s.Xb("click",function(){return s.wc(e),s.Zb(2).getClinicDepartmentServiceGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetSpecific")))}function ve(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",28),s.Lb(2,"i",29),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function ye(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",28),s.Lb(2,"i",30),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function Pe(e,t){1&e&&(s.Qb(0,"div",31),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e&&(s.yb(1),s.Hc("\n             ",s.bc(2,1,"RequiredField"),"\n            "))}const Se=function(){return{standalone:!0}};function Ie(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",1,2),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Qb(3,"div",3),s.Fc(4,"\n        "),s.Qb(5,"label",4),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Qb(9,"div",5),s.Fc(10,"\n            "),s.Dc(11,me,3,3,"a",6),s.Fc(12,"\n            "),s.Dc(13,fe,3,3,"a",6),s.Fc(14,"\n            "),s.Qb(15,"div",7),s.Fc(16,"\n                "),s.Qb(17,"div",8),s.Fc(18,"\n                    "),s.Qb(19,"input",9,10),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.ac(21,"translate"),s.Pb(),s.Fc(22,"\n                "),s.Pb(),s.Fc(23,"\n                "),s.Qb(24,"p-tree",11),s.Xb("selectionChange",function(t){return s.wc(e),s.Zb().selectedSurgeryNode=t})("onNodeSelect",function(t){return s.wc(e),s.Zb().treeNodeSelected(t)}),s.ac(25,"translateObjects"),s.ac(26,"filterbynameorcode"),s.Fc(27,"\n                    "),s.Dc(28,ve,4,1,"ng-template",12),s.Fc(29,"\n                    "),s.Dc(30,ye,4,1,"ng-template",13),s.Fc(31,"\n                "),s.Pb(),s.Fc(32,"\n            "),s.Pb(),s.Fc(33,"\n        "),s.Pb(),s.Fc(34,"\n    "),s.Pb(),s.Fc(35,"\n    "),s.Qb(36,"div",3),s.Fc(37,"\n        "),s.Qb(38,"label",14),s.Fc(39),s.ac(40,"translate"),s.Pb(),s.Fc(41,"\n        "),s.Qb(42,"div",15),s.Fc(43,"\n            "),s.Qb(44,"input",16,17),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveSurgery.surgeryCode=t}),s.Pb(),s.Fc(46,"\n        "),s.Pb(),s.Fc(47,"\n        "),s.Qb(48,"div",18),s.Fc(49,"\n            "),s.Dc(50,Pe,3,3,"div",19),s.Fc(51,"\n        "),s.Pb(),s.Fc(52,"\n    "),s.Pb(),s.Fc(53,"\n    "),s.Qb(54,"div",3),s.Fc(55,"\n        "),s.Qb(56,"label",4),s.Fc(57),s.ac(58,"translate"),s.Pb(),s.Fc(59,"\n        "),s.Qb(60,"div",15),s.Fc(61,"\n            "),s.Qb(62,"p-calendar",20),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveSurgery.dateTime=t}),s.Pb(),s.Fc(63,"\n        "),s.Pb(),s.Fc(64,"\n    "),s.Pb(),s.Fc(65,"\n    "),s.Qb(66,"div",3),s.Fc(67,"\n        "),s.Qb(68,"label",21),s.Fc(69),s.ac(70,"translate"),s.Pb(),s.Fc(71,"\n        "),s.Qb(72,"div",5),s.Fc(73,"\n            "),s.Qb(74,"textarea",22,23),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveSurgery.description=t}),s.Pb(),s.Fc(76,"\n        "),s.Pb(),s.Fc(77,"\n    "),s.Pb(),s.Fc(78,"\n    "),s.Qb(79,"div",3),s.Fc(80,"\n        "),s.Qb(81,"div",24),s.Fc(82,"\n            "),s.Qb(83,"button",25),s.Fc(84),s.ac(85,"translate"),s.Pb(),s.Fc(86,"\n            "),s.Qb(87,"button",26),s.Xb("click",function(){return s.wc(e),s.Zb().goBack()}),s.Fc(88),s.ac(89,"translate"),s.Pb(),s.Fc(90,"\n        "),s.Pb(),s.Fc(91,"\n    "),s.Pb(),s.Fc(92,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Gc(s.bc(7,21,"SurgeryName")),s.yb(5),s.hc("ngIf",e.getAllServices),s.yb(2),s.hc("ngIf",!e.getAllServices),s.yb(6),s.hc("placeholder",s.bc(21,23,"SearchNameOrCode"))("ngModel",e.filterString),s.yb(5),s.hc("value",s.dc(25,25,s.dc(26,29,e.servicesTreeDataSourceItems,e.filterString,e.leafType),"label","labelTranslation"))("selection",e.selectedSurgeryNode),s.yb(15),s.Gc(s.bc(40,33,"SurgeryCode")),s.yb(5),s.hc("ngModel",e.toSaveSurgery.surgeryCode),s.yb(6),s.hc("ngIf",!e.toSaveSurgery.surgeryCode||""==e.toSaveSurgery.surgeryCode),s.yb(7),s.Gc(s.bc(58,35,"Date")),s.yb(5),s.hc("ngModel",e.toSaveSurgery.dateTime)("monthNavigator",!0)("yearNavigator",!0)("showIcon",!0)("required",!0)("ngModelOptions",s.lc(43,Se)),s.yb(7),s.Hc("",s.bc(70,37,"Description")," "),s.yb(5),s.hc("ngModel",e.toSaveSurgery.description),s.yb(10),s.Hc("",s.bc(85,39,"Save")," "),s.yb(4),s.Hc("",s.bc(89,41,"Back")," ")}}let De=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.clinicService=t,this.toastr=n,this._route=i,this.localStorage=c,this.translate=a,this.selectBasicTab=!0,this.leafType="Service",this.onBack=new s.n,this.allServices=[],this.utilityClass=new N.a,this.active=!0,this.getAllServices=!0,this.showProgress=!1,this.ttt="aaa",this.isExist=!1}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.toSaveSurgery={},this.clinicId=this.localStorage.retrieve("ClinicID"),this.showProgress=!0,this.getAllServiceGroupsForTreeView(!1,!1),this.getClinicDepartmentServiceGroupsForTreeView()}getClinicDepartmentServiceGroupsForTreeView(){let e=this;e.getAllServices=!0,this.doctorService.getClinicDivisionServiceGroupsForTreeView(e.divisionId).subscribe(function(t){e.servicesTreeDataSourceItems=t,e.toSaveSurgery&&(e.addModelToServicesList(e.toSaveSurgery),e.expandAll())},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getAllServiceGroupsForTreeView(e,t){let n=this;this.doctorService.getServiceGroupsForTreeView(n.clinicId).subscribe(function(i){n.allServices=i,e&&(n.getAllServices=!1,n.servicesTreeDataSourceItems=i,(t||null!=n.selectedSurgeryNode)&&n.displaySelectedNode(n.toSaveSurgery.serviceId,n.servicesTreeDataSourceItems),n.expandAll())},function(e){n.toastr.error(e,"")},function(){n.showProgress=!1})}addModelToServicesList(e){null!=this.servicesTreeDataSourceItems&&null!=this.servicesTreeDataSourceItems&&this.servicesTreeDataSourceItems.length>0?(this.displaySelectedNode(e.serviceId,this.servicesTreeDataSourceItems),null==this.selectedSurgeryNode&&(this.displaySelectedNode(e.serviceId,this.allServices),null!=this.selectedSurgeryNode&&this.addServiceToDepartmentList(this.selectedSurgeryNode))):this.getAllServiceGroupsForTreeView(!0,!0)}addServiceToDepartmentList(e){this.servicesTreeDataSourceItems[0].children.push(e),this.selectedSurgeryNode=e}displaySelectedNode(e,t){let n=this;t.forEach(t=>{t.data==e&&"Service"==t.type&&(n.selectedSurgeryNode=t),n.displayNodeRecursive(t,e)})}displayNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displayNodeRecursive(e,t),e.data==t&&"Service"==e.type&&(this.selectedSurgeryNode=e)})}expandAll(){this.servicesTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.servicesTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}onSubmit(){let e=this;if(this.toSaveSurgery.surgeryCode&&""!=this.toSaveSurgery.surgeryCode){if(this.toSaveSurgery.dateTime=this.utilityClass.getUtcDateTime(this.toSaveSurgery.dateTime),this.toSaveSurgery&&this.toSaveSurgery.dateTime){if(this.toSaveSurgery.dateTime>Date.now()){let e=this.translate.instant("SurgeryDateValidation");return void this.toastr.error(e,"")}if(this.patientDOB&&this.toSaveSurgery.dateTime<this.utilityClass.getDateTimeFromString(this.patientDOB.toString())){let e=this.translate.instant("SurgeryBirthDate");return void this.toastr.error(e,"")}}e.showProgress=!0,e.toSaveSurgery.patientId=e.patientId,e.selectedSurgeryNode&&(e.toSaveSurgery.serviceId=e.selectedSurgeryNode.data),this.toSaveSurgery.hasOwnProperty("id")&&"new"!=this.toSaveSurgery.id.toString().toLowerCase()?this.doctorService.updateSurgery(this.toSaveSurgery).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveSurgery=t,e.clear(),e.onBack.emit(t)},function(t){console.log(t),e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):this.doctorService.createSurgery(this.toSaveSurgery).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveSurgery=t,e.clear(),e.onBack.emit(t)},function(t){console.log(t),e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}}clear(){this.toSaveSurgery={},this.selectedSurgeryNode={},this.active=!1,setTimeout(()=>this.active=!0,0)}treeNodeSelected(e){this.toSaveSurgery.surgeryCode=e&&e.node&&e.node.code&&""!=e.node.code?e.node.code:""}goBack(){this.onBack.emit()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(k.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-surgery-details"]],inputs:{toSaveSurgery:"toSaveSurgery",patientId:"patientId",patientDOB:"patientDOB",allServices:"allServices"},outputs:{onBack:"onBack"},decls:1,vars:1,consts:[["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-6"],["class","pointer",3,"click",4,"ngIf"],[1,"nopadding","treeBorder"],[1,"row","nopadding"],["name","txtFilterString",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["txtFilterString","ngModel"],["selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["pTemplate","ServiceGroup"],["pTemplate","Service"],["for","txtSurgeryCode",1,"control-label","col-md-2"],[1,"col-md-2"],["id","txtSurgeryCode","name","txtSurgeryCode","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["txtSurgeryCode","ngModel"],[1,"col-md-4"],["class","alert alert-danger",4,"ngIf"],["dateFormat","dd/mm/yy","yearRange","2000:2050",3,"ngModel","monthNavigator","yearNavigator","showIcon","required","ngModelOptions","ngModelChange"],["for","txtRemarks",1,"control-label","col-md-2"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],["txtRemarks","ngModel"],[1,"col-md-4","col-md-offset-2"],[1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pointer",3,"click"],[1,"nav-icon"],[1,"fa","fa-cubes"],[1,"fa","fa-cube"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&s.Dc(0,Ie,93,44,"form",0),2&e&&s.hc("ngIf",t.active)},directives:[i.k,c.q,c.g,c.h,c.b,c.f,c.i,G.a,x.g,Y.a,c.o],pipes:[b.c,A.a,R.a],encapsulation:2}),e})();function Qe(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function Te(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",2),s.Fc(1,"\n    "),s.Qb(2,"div",3),s.Fc(3,"\n            "),s.Qb(4,"button",4),s.Xb("click",function(){return s.wc(e),s.Zb().addNewSurgery()}),s.Fc(5),s.ac(6,"translate"),s.Pb(),s.Fc(7,"\n    "),s.Pb(),s.Fc(8,"\n    "),s.Qb(9,"div",5),s.Fc(10,"\xa0"),s.Pb(),s.Fc(11,"\n\n    "),s.Qb(12,"div",6),s.Fc(13,"\n        "),s.Lb(14,"i",7),s.Fc(15,"\n        "),s.Lb(16,"input",8,9),s.ac(18,"translate"),s.Fc(19,"\n    "),s.Pb(),s.Fc(20,"\n    "),s.Fc(21,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(4),s.hc("disabled",!e.enable),s.yb(1),s.Gc(s.bc(6,3,"NewSurgery")),s.yb(11),s.hc("placeholder",s.bc(18,5,"Search"))}}function we(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",2),s.Fc(1,"\n    "),s.Qb(2,"patient-surgery-details",10),s.Xb("onBack",function(t){return s.wc(e),s.Zb().hideDetails(t)}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("toSaveSurgery",e.toSaveSurgery)("patientId",e.patientId)("patientDOB",e.patientDOB)("allServices",e.allServices)}}let Ce=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.utilityClass=new N.a,this.isDetailsVisible=!1,this.allServices=[],this.enable=!0,this.active=!0,this.lstToTranslated=[],this.surgeriesList=[],this.showProgress=!1,this.toSaveSurgery={}}ngOnInit(){this.lstToTranslated=["surgeryName","surgeryNameTranslation"];let e=this;e.showProgress=!0,this.doctorService.getPatientSnapshotSurgeries(e.patientId).subscribe(function(t){e.surgeriesList=t},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}addNewSurgery(){this.toSaveSurgery={},this.isDetailsVisible=!0}showDetails(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.getSurgeryById(e.id).subscribe(function(e){t.toSaveSurgery=e,t.toSaveSurgery.dateTime=t.utilityClass.getDateTimeFromString(t.toSaveSurgery.dateTime)},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1}),this.isDetailsVisible=!0}}hideDetails(e){if(e){let t=this;t.surgeriesList.forEach(n=>{n.id==e.id&&t.surgeriesList.splice(t.surgeriesList.indexOf(n),1)}),this.surgeriesList.push(e)}this.isDetailsVisible=!1}deleteSurgery(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.deleteSurgery(e.id).subscribe(function(){t.surgeriesList.forEach(n=>{n.id==e.id&&t.surgeriesList.splice(t.surgeriesList.indexOf(n),1)});let n=t.translate.instant("DeletedSuccessfully");t.toastr.success(n,"")},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})}}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-surgeries"]],inputs:{patientId:"patientId",patientDOB:"patientDOB",allServices:"allServices",enable:"enable"},decls:5,vars:3,consts:[[4,"ngIf"],["id","divTable","class","padding5",4,"ngIf"],["id","divTable",1,"padding5"],[1,"row","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"row","padding5"],[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""],[3,"toSaveSurgery","patientId","patientDOB","allServices","onBack"]],template:function(e,t){1&e&&(s.Dc(0,Qe,4,0,"div",0),s.Fc(1,"\n\n"),s.Dc(2,Te,22,7,"div",1),s.Fc(3,"\n"),s.Dc(4,we,4,4,"div",1)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible))},directives:[i.k,L.a,De],pipes:[b.c],encapsulation:2}),e})();function Ne(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function Me(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",28),s.Xb("click",function(){return s.wc(e),s.Zb(2).getAllDrugGroupsForTreeView(!0,!1)}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetAll")))}function Le(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",28),s.Xb("click",function(){return s.wc(e),s.Zb(2).getClinicDepartmentDrugGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetSpecific")))}function ke(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",29),s.Lb(2,"i",30),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function Ge(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",29),s.Lb(2,"i",30),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function xe(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",29),s.Lb(2,"i",31),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function Ae(e,t){1&e&&(s.Qb(0,"div",32),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e&&(s.yb(1),s.Hc("\n                ",s.bc(2,1,"RequiredField"),"\n            "))}function Re(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",2,3),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Qb(3,"div",4),s.Fc(4,"\n        "),s.Qb(5,"label",5),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Qb(9,"div",6),s.Fc(10,"\n            "),s.Dc(11,Me,3,3,"a",7),s.Fc(12,"\n            "),s.Dc(13,Le,3,3,"a",7),s.Fc(14,"\n            "),s.Qb(15,"div",8),s.Fc(16,"\n                "),s.Qb(17,"div",9),s.Fc(18,"\n                    "),s.Qb(19,"input",10,11),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.ac(21,"translate"),s.Pb(),s.Fc(22,"\n                "),s.Pb(),s.Fc(23,"\n                "),s.Qb(24,"p-tree",12),s.Xb("selectionChange",function(t){return s.wc(e),s.Zb().selectedDrugNode=t})("onNodeSelect",function(t){return s.wc(e),s.Zb().treeNodeSelected(t)}),s.ac(25,"translateObjects"),s.ac(26,"filterbynameorcode"),s.Fc(27,"\n                    "),s.Dc(28,ke,4,1,"ng-template",13),s.Fc(29,"\n                    "),s.Dc(30,Ge,4,1,"ng-template",14),s.Fc(31,"\n                    "),s.Dc(32,xe,4,1,"ng-template",15),s.Fc(33,"\n                "),s.Pb(),s.Fc(34,"\n            "),s.Pb(),s.Fc(35,"\n        "),s.Pb(),s.Fc(36,"\n    "),s.Pb(),s.Fc(37,"\n    "),s.Qb(38,"div",4),s.Fc(39,"\n        "),s.Qb(40,"label",16),s.Fc(41),s.ac(42,"translate"),s.Pb(),s.Fc(43,"\n        "),s.Qb(44,"div",17),s.Fc(45,"\n            "),s.Qb(46,"input",18,19),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveDrugAllergy.drugCode=t}),s.Pb(),s.Fc(48,"\n        "),s.Pb(),s.Fc(49,"\n        "),s.Qb(50,"div",20),s.Fc(51,"\n            "),s.Dc(52,Ae,3,3,"div",21),s.Fc(53,"\n        "),s.Pb(),s.Fc(54,"\n    "),s.Pb(),s.Fc(55,"\n    "),s.Qb(56,"div",4),s.Fc(57,"\n        "),s.Qb(58,"label",22),s.Fc(59),s.ac(60,"translate"),s.Pb(),s.Fc(61,"\n        "),s.Qb(62,"div",6),s.Fc(63,"\n            "),s.Qb(64,"textarea",23,24),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().toSaveDrugAllergy.description=t}),s.Pb(),s.Fc(66,"\n        "),s.Pb(),s.Fc(67,"\n    "),s.Pb(),s.Fc(68,"\n    "),s.Qb(69,"div",4),s.Fc(70,"\n        "),s.Qb(71,"div",25),s.Fc(72,"\n            "),s.Qb(73,"button",26),s.Fc(74),s.ac(75,"translate"),s.Pb(),s.Fc(76,"\n            "),s.Qb(77,"button",27),s.Xb("click",function(){return s.wc(e),s.Zb().goBack()}),s.Fc(78),s.ac(79,"translate"),s.Pb(),s.Fc(80,"\n        "),s.Pb(),s.Fc(81,"\n    "),s.Pb(),s.Fc(82,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Gc(s.bc(7,14,"DrugName")),s.yb(5),s.hc("ngIf",e.getAllDrugs),s.yb(2),s.hc("ngIf",!e.getAllDrugs),s.yb(6),s.hc("placeholder",s.bc(21,16,"SearchNameOrCode"))("ngModel",e.filterString),s.yb(5),s.hc("value",s.dc(25,18,s.dc(26,22,e.drugsTreeDataSourceItems,e.filterString,e.leafType),"label","labelTranslation"))("selection",e.selectedDrugNode),s.yb(17),s.Gc(s.bc(42,26,"DrugCode")),s.yb(5),s.hc("ngModel",e.toSaveDrugAllergy.drugCode),s.yb(6),s.hc("ngIf",!e.toSaveDrugAllergy.drugCode||""==e.toSaveDrugAllergy.drugCode),s.yb(7),s.Gc(s.bc(60,28,"Description")),s.yb(5),s.hc("ngModel",e.toSaveDrugAllergy.description),s.yb(10),s.Gc(s.bc(75,30,"Save")),s.yb(4),s.Gc(s.bc(79,32,"Back"))}}let Ze=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.clinicService=t,this.toastr=n,this._route=i,this.localStorage=c,this.translate=a,this.selectBasicTab=!0,this.leafType="Drug",this.onBack=new s.n,this.active=!0,this.drugsTreeDataSourceItems=[],this.getAllDrugs=!0,this.showProgress=!1,this.allDrugs=[],this.ttt="aaa"}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.toSaveDrugAllergy={},this.selectedDrugNode=null,this.recorderId=this.localStorage.retrieve("UserID"),this.clinicId=this.localStorage.retrieve("ClinicID"),this.getAllDrugGroupsForTreeView(!1,!1),this.getClinicDepartmentDrugGroupsForTreeView()}getClinicDepartmentDrugGroupsForTreeView(){let e=this;e.getAllDrugs=!0,this.doctorService.getClinicDivisionDrugGroupsForTreeView(e.divisionId).subscribe(function(t){e.drugsTreeDataSourceItems=t,e.toSaveDrugAllergy&&(e.addModelToServicesList(e.toSaveDrugAllergy),e.expandAll())},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getAllDrugGroupsForTreeView(e,t){let n=this;this.clinicService.getDrugsGroupsForTree(n.clinicId).subscribe(function(i){n.allDrugs=i,e&&(n.getAllDrugs=!1,n.drugsTreeDataSourceItems=i,(t||null!=n.selectedDrugNode)&&n.displaySelectedNode(n.toSaveDrugAllergy.drugId,n.drugsTreeDataSourceItems),n.expandAll())},function(e){n.toastr.error(e,"")},function(){n.showProgress=!1})}addModelToServicesList(e){null!=this.drugsTreeDataSourceItems&&null!=this.drugsTreeDataSourceItems&&this.drugsTreeDataSourceItems.length>0?(this.displaySelectedNode(e.drugId,this.drugsTreeDataSourceItems),null==this.selectedDrugNode&&(this.displaySelectedNode(e.drugId,this.allDrugs),null!=this.selectedDrugNode&&this.addServiceToDepartmentList(this.selectedDrugNode))):this.getAllDrugGroupsForTreeView(!0,!0)}addServiceToDepartmentList(e){this.drugsTreeDataSourceItems[0].children.push(e),this.selectedDrugNode=e}displaySelectedNode(e,t){let n=this;t.forEach(t=>{t.data==e&&"Drug"==t.type&&(n.selectedDrugNode=t),n.displayNodeRecursive(t,e)})}displayNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displayNodeRecursive(e,t),e.data==t&&"Drug"==e.type&&(this.selectedDrugNode=e)})}expandAll(){this.drugsTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.drugsTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}onSubmit(){let e=this;this.toSaveDrugAllergy.drugCode&&""!=this.toSaveDrugAllergy.drugCode&&(e.showProgress=!0,e.toSaveDrugAllergy.patientId=e.patientId,e.selectedDrugNode&&(e.toSaveDrugAllergy.drugId=e.selectedDrugNode.data),this.toSaveDrugAllergy.hasOwnProperty("id")&&"new"!=this.toSaveDrugAllergy.id.toString().toLowerCase()?this.doctorService.updateDrugAllergy(this.toSaveDrugAllergy).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveDrugAllergy=t,e.clear(),e.onBack.emit(t)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):(e.toSaveDrugAllergy.recorderID=e.recorderId,this.doctorService.createDrugAllergy(this.toSaveDrugAllergy).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.toSaveDrugAllergy=t,e.clear(),e.onBack.emit(t)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})))}clear(){this.selectedDrugNode={},this.toSaveDrugAllergy={},this.active=!1,setTimeout(()=>this.active=!0,0)}treeNodeSelected(e){this.toSaveDrugAllergy.drugCode=e&&e.node&&e.node.code&&""!=e.node.code?e.node.code:""}goBack(){this.onBack.emit()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(k.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-allergy-details"]],inputs:{toSaveDrugAllergy:"toSaveDrugAllergy",patientId:"patientId"},outputs:{onBack:"onBack"},decls:3,vars:2,consts:[[4,"ngIf"],["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-6"],["class","pointer",3,"click",4,"ngIf"],[1,"nopadding","treeBorder"],[1,"row","nopadding"],["name","txtFilterString",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["txtFilterString","ngModel"],["selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["pTemplate","ClinicDepartmentDrugsGroup"],["pTemplate","DrugsGroup"],["pTemplate","Drug"],["for","txtDrugCode",1,"control-label","col-md-2"],[1,"col-md-2"],["id","txtDrugCode","name","txtDrugCode","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],["txtDrugCode","ngModel"],[1,"col-md-4"],["class","alert alert-danger",4,"ngIf"],["for","txtRemarks",1,"control-label","col-md-2"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],["txtRemarks","ngModel"],[1,"col-md-4","col-md-offset-2"],[1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pointer",3,"click"],[1,"nav-icon"],[1,"fa","fa-cubes"],[1,"fa","fa-cube"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(s.Dc(0,Ne,4,0,"div",0),s.Fc(1,"\n"),s.Dc(2,Re,83,34,"form",1)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,c.b,c.f,c.i,G.a,x.g,c.o],pipes:[b.c,A.a,R.a],encapsulation:2}),e})();function Oe(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function Be(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",2),s.Fc(1,"\n\n    "),s.Qb(2,"div",3),s.Fc(3,"\n            "),s.Qb(4,"button",4),s.Xb("click",function(){return s.wc(e),s.Zb().addNewDrugAllergy()}),s.Fc(5),s.ac(6,"translate"),s.Pb(),s.Fc(7,"\n    "),s.Pb(),s.Fc(8,"\n    "),s.Qb(9,"div",5),s.Fc(10,"\xa0"),s.Pb(),s.Fc(11,"\n\n       "),s.Qb(12,"div",6),s.Fc(13,"\n        "),s.Lb(14,"i",7),s.Fc(15,"\n        "),s.Lb(16,"input",8,9),s.ac(18,"translate"),s.Fc(19,"\n    "),s.Pb(),s.Fc(20,"\n    "),s.Fc(21,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(4),s.hc("disabled",!e.enable),s.yb(1),s.Gc(s.bc(6,3,"NewAllergy")),s.yb(11),s.hc("placeholder",s.bc(18,5,"Search"))}}function Ve(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",2),s.Fc(1,"\n    "),s.Qb(2,"patient-allergy-details",10),s.Xb("onBack",function(t){return s.wc(e),s.Zb().hideDetails(t)}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("toSaveDrugAllergy",e.toSaveDrugAllergy)("patientId",e.patientId)}}let He=(()=>{class e{constructor(e,t,n,i,c){this.doctorService=e,this.toastr=t,this._route=n,this.storage=i,this.translate=c,this.selectBasicTab=!0,this.isDetailsVisible=!1,this.enable=!0,this.active=!0,this.lstToTranslated=[],this.showProgress=!1}ngOnInit(){let e=this;this.lstToTranslated=["drugName","drugNameTranslation","recorderName","recorderNameTranslation"],e.showProgress=!0,this.doctorService.getPatientSnapshotDrugAllergies(e.patientId).subscribe(function(t){e.drugAllergiesList=t},function(t){e.toastr.error(e.patientId+" - "+t,""),e.showProgress=!1},function(){e.showProgress=!1})}addNewDrugAllergy(){this.toSaveDrugAllergy={},this.isDetailsVisible=!0}showDetails(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.getDrugAllergyById(e.id).subscribe(function(e){t.toSaveDrugAllergy=e},function(n){let i=t.translate.instant("LoadDrugAllergy");t.toastr.error(i+e.id+" - "+n,""),t.showProgress=!1},function(){t.showProgress=!1}),this.isDetailsVisible=!0}}hideDetails(e){if(e){let t=this;t.drugAllergiesList.forEach(n=>{n.id==e.id&&t.drugAllergiesList.splice(t.drugAllergiesList.indexOf(n),1)}),this.drugAllergiesList.push(e)}this.isDetailsVisible=!1}deleteDrugAllergy(e){if(e&&e.id){let t=this;t.showProgress=!0,this.doctorService.deleteDrugAllergy(e.id).subscribe(function(n){t.drugAllergiesList.forEach(n=>{n.id==e.id&&t.drugAllergiesList.splice(t.drugAllergiesList.indexOf(n),1)});let i=t.translate.instant("DeletedSuccessfully");t.toastr.success(i,"")},function(n){let i=t.translate.instant("LoadDrugAllergy");t.toastr.error(i+e.id+" - "+n,""),t.showProgress=!1},function(){t.showProgress=!1})}}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-allergies"]],inputs:{patientId:"patientId",enable:"enable"},decls:5,vars:3,consts:[[4,"ngIf"],["id","divTable","class","padding5",4,"ngIf"],["id","divTable",1,"padding5"],[1,"row","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"row","padding5"],[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""],[3,"toSaveDrugAllergy","patientId","onBack"]],template:function(e,t){1&e&&(s.Dc(0,Oe,4,0,"div",0),s.Fc(1,"\n\n"),s.Dc(2,Be,22,7,"div",1),s.Fc(3,"\n\n"),s.Dc(4,Ve,4,2,"div",1)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible))},directives:[i.k,L.a,Ze],pipes:[b.c],encapsulation:2}),e})();const Ue=["fileInput"];function Ke(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",31),s.Xb("click",function(){return s.wc(e),s.Zb(2).getAllLabTestsGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetAll")))}function Xe(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",31),s.Xb("click",function(){return s.wc(e),s.Zb(2).getClinicDepartmentLaboratoryTestsGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetSpecific")))}function Ee(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",32),s.Lb(2,"i",33),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function qe(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",32),s.Lb(2,"i",33),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function ze(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",32),s.Lb(2,"i",34),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function je(e,t){if(1&e&&(s.Qb(0,"option",35),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function $e(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",1,2),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Qb(3,"div",3),s.Fc(4,"\n        "),s.Qb(5,"label",4),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Qb(9,"div",5),s.Fc(10,"\n            "),s.Dc(11,Ke,3,3,"a",6),s.Fc(12,"\n            "),s.Dc(13,Xe,3,3,"a",6),s.Fc(14,"\n            "),s.Qb(15,"div",7),s.Fc(16,"\n                "),s.Qb(17,"input",8,9),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.ac(19,"translate"),s.Pb(),s.Fc(20,"\n            "),s.Pb(),s.Fc(21,"\n            "),s.Qb(22,"div",10),s.Fc(23,"\n                "),s.Qb(24,"p-tree",11),s.Xb("selectionChange",function(t){return s.wc(e),s.Zb().selectedFiles=t})("onNodeSelect",function(t){return s.wc(e),s.Zb().nodeSelect(t)})("onNodeUnselect",function(t){return s.wc(e),s.Zb().nodeUnselect(t)}),s.ac(25,"translateObjects"),s.ac(26,"filterbynameorcode"),s.Fc(27,"\n                    "),s.Dc(28,Ee,4,1,"ng-template",12),s.Fc(29,"\n                    "),s.Dc(30,qe,4,1,"ng-template",13),s.Fc(31,"\n                    "),s.Dc(32,ze,4,1,"ng-template",14),s.Fc(33,"\n                "),s.Pb(),s.Fc(34,"\n            "),s.Pb(),s.Fc(35,"\n        "),s.Pb(),s.Fc(36,"\n    "),s.Pb(),s.Fc(37,"\n    "),s.Qb(38,"div",3),s.Fc(39,"\n        "),s.Qb(40,"label",15),s.Fc(41),s.ac(42,"translate"),s.Pb(),s.Fc(43,"\n        "),s.Qb(44,"div",16),s.Fc(45,"\n            "),s.Qb(46,"input",17),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().labTestToSave.labTestCode=t}),s.Pb(),s.Fc(47,"\n        "),s.Pb(),s.Fc(48,"\n    "),s.Pb(),s.Fc(49,"\n    "),s.Qb(50,"div",3),s.Fc(51,"\n        "),s.Qb(52,"label",18),s.Fc(53),s.ac(54,"translate"),s.Pb(),s.Fc(55,"\n        "),s.Qb(56,"div",16),s.Fc(57,"\n            "),s.Qb(58,"input",19),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().labTestToSave.quantity=t}),s.Pb(),s.Fc(59,"\n        "),s.Pb(),s.Fc(60,"\n    "),s.Pb(),s.Fc(61,"\n    "),s.Qb(62,"div",3),s.Fc(63,"\n        "),s.Qb(64,"label",20),s.Fc(65),s.ac(66,"translate"),s.Pb(),s.Fc(67,"\n        "),s.Qb(68,"div",5),s.Fc(69,"\n            "),s.Qb(70,"select",21),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().labTestToSave.diagnoseId=t}),s.Fc(71,"\n                "),s.Qb(72,"option",22),s.Fc(73),s.ac(74,"translate"),s.Pb(),s.Fc(75,"\n                "),s.Dc(76,je,2,2,"option",23),s.Fc(77,"\n            "),s.Pb(),s.Fc(78,"\n        "),s.Pb(),s.Fc(79,"\n    "),s.Pb(),s.Fc(80,"\n    "),s.Qb(81,"div",3),s.Fc(82,"\n        "),s.Qb(83,"label",24),s.Fc(84),s.ac(85,"translate"),s.Pb(),s.Fc(86,"\n        "),s.Qb(87,"div",25),s.Fc(88,"\n            "),s.Qb(89,"textarea",26),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().labTestToSave.description=t}),s.Pb(),s.Fc(90,"\n        "),s.Pb(),s.Fc(91,"\n    "),s.Pb(),s.Fc(92,"\n    "),s.Qb(93,"div",3),s.Fc(94,"\n        "),s.Qb(95,"div",27),s.Fc(96,"\n            "),s.Qb(97,"button",28),s.Fc(98),s.ac(99,"translate"),s.Pb(),s.Fc(100,"\n            "),s.Qb(101,"button",29),s.Xb("click",function(){return s.wc(e),s.Zb().clear()}),s.Fc(102),s.ac(103,"translate"),s.Pb(),s.Fc(104,"\n            "),s.Qb(105,"button",30),s.Xb("click",function(){return s.wc(e),s.Zb().goBack()}),s.Fc(106),s.ac(107,"translate"),s.Pb(),s.Fc(108,"\n        "),s.Pb(),s.Fc(109,"\n    "),s.Pb(),s.Fc(110,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Hc("",s.bc(7,20,"TestName")," "),s.yb(5),s.hc("ngIf",e.isAll),s.yb(2),s.hc("ngIf",!e.isAll),s.yb(4),s.hc("placeholder",s.bc(19,22,"SearchNameOrCode"))("ngModel",e.filterString),s.yb(7),s.hc("value",s.dc(25,24,s.dc(26,28,e.labTests,e.filterString,e.leafType),"label","labelTranslation"))("selection",e.selectedFiles),s.yb(17),s.Gc(s.bc(42,32,"TestCode")),s.yb(5),s.hc("ngModel",e.labTestToSave.labTestCode),s.yb(7),s.Gc(s.bc(54,34,"Quantity")),s.yb(5),s.hc("ngModel",e.labTestToSave.quantity),s.yb(7),s.Gc(s.bc(66,36,"Diagnosis")),s.yb(5),s.hc("ngModel",e.labTestToSave.diagnoseId),s.yb(3),s.Gc(s.bc(74,38,"Select")),s.yb(3),s.hc("ngForOf",e.noteDiagnosis),s.yb(8),s.Hc("",s.bc(85,40,"Description")," "),s.yb(5),s.hc("ngModel",e.labTestToSave.description),s.yb(9),s.Gc(s.bc(99,42,"Save")),s.yb(4),s.Gc(s.bc(103,44,"New")),s.yb(4),s.Gc(s.bc(107,46,"Back"))}}let _e=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.onBack=new s.n,this.noteId="",this.selectedAction=1,this.active=!0,this.labTestToSave={id:0,quantity:1},this.labTreeDataSourceItems=[],this.leafType="LaboratoryTest",this.classifications=[],this.showProgress=!1,this.isLabTest=!0,this.labTests=[],this.noteDiagnosis=[],this.divisionId="",this.clinicId="",this.labTestCode="",this.isAll=!0,this.getAllLabs=!0}ngOnInit(){let e=this;this.selectedMedicationNode=null,this.clinicId=this.storage.retrieve("ClinicID"),this.divisionId=this._route.snapshot.params.divisionId,this.getAllLabTestsGroupsForTreeView(!1),e.getClinicDepartmentLaboratoryTestsGroupsForTreeView(),this.doctorService.getNoteDiagnosis(e.noteId).subscribe(function(t){e.noteDiagnosis=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}ngOnChanges(e){let t=this;"new"==this.noteLabTestId&&(t.showProgress=!0,this.noteLabTestId&&null!=this.noteLabTestId&&this.doctorService.getClinicNoteLabTestById(this.noteLabTestId).subscribe(function(e){t.labTestToSave=e,t.displaySelectedParentGroupNode(t.labTestToSave.labTestId)},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})),"new"!=this.noteLabTestId&&(t.showProgress=!0,this.noteLabTestId&&"undefined"!=this.noteLabTestId&&this.doctorService.getClinicNoteLabTestById(this.noteLabTestId).subscribe(function(e){t.labTestToSave=e},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1}))}getClinicDepartmentLaboratoryTestsGroupsForTreeView(){let e=this;e.isAll=!0,this.doctorService.getClinicDivisionLaboratoryTestsGroupsForTreeView(e.divisionId).subscribe(function(t){e.labTests=t,e.labTestToSave&&(e.addModelToServicesList(e.labTestToSave),e.expandAll())},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}displaySelectedParentGroupNode(e){let t=this;t.labTests.forEach(n=>{t.displaySelectedNodeRecursive(n,e)})}getAllLabTestsGroupsForTreeView(e){let t=this;t.isAll=!1,this.doctorService.getLaboratoryTestsGroupsForTreeView(t.clinicId).subscribe(function(n){t.labTests=n,e&&(t.getAllLabs=!1,t.labTreeDataSourceItems=n,t.expandAll())},function(e){t.toastr.error(e,"")},function(){t.showProgress=!1})}displaySelectedNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displaySelectedNodeRecursive(e,t),e.data==t&&"laboratorytest"==e.type.toLocaleLowerCase()&&(this.selectedNode=e)})}nodeSelect(e){this.labTestToSave.labTestId=e.node.data,this.labTestToSave.labTestCode=e.node.code,this.labTestToSave.labTestName=e.node.name}nodeUnselect(e){this.labTestToSave.labTestId=""}expandAll(){this.labTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.labTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}onSubmit(){let e=this;e.showProgress=!0,e.labTestToSave.clinicNoteId=e.noteId,this.labTestToSave.id>0?this.doctorService.updateClinicNoteLabTest(this.labTestToSave).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.labTestToSave=t,e.onBack.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):this.doctorService.createClinicNoteLabTest(this.labTestToSave).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.labTestToSave=t,e.noteLabTestId=e.labTestToSave.id,e.onBack.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}clear(){this.labTestToSave={quantity:1},this.noteLabTestId="new",this.selectedNode={},this.labTestToSave.labTestId="",this.active=!1,setTimeout(()=>this.active=!0,0)}goBack(){this.onBack.emit()}addModelToServicesList(e){this.displaySelectedNode(e.labTestId,this.labTreeDataSourceItems),null==this.selectedLabNode&&(this.displaySelectedNode(e.labTestId,this.labTests),null!=this.selectedLabNode&&this.addServiceToDepartmentList(this.selectedLabNode))}addServiceToDepartmentList(e){this.labTreeDataSourceItems[0].children.push(e),this.selectedLabNode=e}displaySelectedNode(e,t){let n=this;t.forEach(t=>{t.data==e&&"LaboratoryTest"==t.type&&(n.selectedLabNode=t),n.displayNodeRecursive(t,e)})}displayNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displayNodeRecursive(e,t),e.data==t&&"LaboratoryTest"==e.type&&(this.selectedMedicationNode=e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-lab-details"]],viewQuery:function(e,t){if(1&e&&s.Lc(Ue,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{noteId:"noteId",noteLabTestId:"noteLabTestId"},outputs:{onBack:"onBack"},features:[s.wb],decls:1,vars:1,consts:[["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-4"],["class","pointer",3,"click",4,"ngIf"],[1,"row","nopadding"],["name","txtFilterString",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["txtFilterString","ngModel"],[1,"nopadding","treeBorder"],["selectionMode","single",1,"height100",3,"value","selection","selectionChange","onNodeSelect","onNodeUnselect"],["pTemplate","ClinicDepartmentLaboratoryTestsGroup"],["pTemplate","LaboratoryTestsGroup"],["pTemplate","LaboratoryTest"],["for","labTestCode",1,"control-label","col-md-2"],[1,"col-md-2"],["id","labTestCode","name","labTestCode","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity",1,"control-label","col-md-2"],["type","number","id","quantity","name","quantity",1,"form-control",3,"ngModel","ngModelChange"],["for","ddlDiagnosis",1,"control-label","col-md-2"],["id","ddlDiagnosis","name","ddlDiagnosis",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","txtRemarks",1,"control-label","col-md-2"],[1,"col-md-6"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","col-md-offset-2"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pointer",3,"click"],[1,"nav-icon"],[1,"fa","fa-cubes"],[1,"fa","fa-cube"],[3,"value"]],template:function(e,t){1&e&&s.Dc(0,$e,111,48,"form",0),2&e&&s.hc("ngIf",t.active)},directives:[i.k,c.q,c.g,c.h,c.b,c.f,c.i,G.a,x.g,c.k,c.p,c.j,c.r,i.j],pipes:[b.c,A.a,R.a],encapsulation:2}),e})();const Ye=["fileInput"];function We(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",17),s.Fc(1,"\n            "),s.Qb(2,"button",18),s.Xb("click",function(){return s.wc(e),s.Zb(2).showDetails()}),s.Fc(3),s.ac(4,"translate"),s.Pb(),s.Fc(5,"\n        "),s.Pb()}2&e&&(s.yb(3),s.Hc("",s.bc(4,1,"NewTest")," "))}function Je(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",11),s.Fc(1,"\n    "),s.Qb(2,"div",12),s.Fc(3,"\n        "),s.Qb(4,"div",13),s.Fc(5,"\n            "),s.Qb(6,"input",14),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.Pb(),s.Fc(7,"\n        "),s.Pb(),s.Fc(8,"\n\n        "),s.Dc(9,We,6,3,"div",15),s.Fc(10,"\n    "),s.Pb(),s.Fc(11,"\n    "),s.Lb(12,"div",16),s.Fc(13,"\n\n    "),s.Fc(14,"\n    "),s.Fc(15,"\n    "),s.Fc(16,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.hc("ngModel",e.filterString),s.yb(3),s.hc("ngIf",e.allowEditing)}}function et(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",11),s.Fc(1,"\n    "),s.Qb(2,"patient-lab-details",19),s.Xb("onBack",function(){return s.wc(e),s.Zb().hideDetails()}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("noteId",e.noteId)("noteLabTestId",e.noteLabTestId)}}let tt=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.isDetailsVisible=!1,this.allowEditing=!0,this.usedInClinicNoteMedications=!1,this.lstToTranslated=[],this.active=!0,this.labTests=[],this.classifications=[],this.showProgress=!1}ngOnInit(){this.loadNoteLabTestList(),this.lstToTranslated=["diagnoseName","diagnoseNameTranslation","labTestName","labTestNameTranslation"]}loadNoteLabTestList(){if(this.noteId&&this.noteId>0){let e=this;e.showProgress=!0,this.doctorService.getClinicNoteLabTests(e.noteId).subscribe(function(t){e.labTests=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}}selectLabTestToDelete(e){this.labTestToBeDeleted=e}deleteSelectedItem(){let e=this;if(""!=this.labTestToBeDeleted)e.showProgress=!0,this.doctorService.deleteClinicNoteLabTest(this.labTestToBeDeleted).subscribe(function(t){let n=e.translate.instant("DeletedSuccessfully");e.toastr.success(n,"");var i=e.labTests.find(t=>t.id==e.labTestToBeDeleted),c=e.labTests.indexOf(i);c>-1&&e.labTests.splice(c,1)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1});else{let t=e.translate.instant("ItemToBeDeleted");e.toastr.warning(t,"")}}showDetails(e){this.isDetailsVisible=!0,this.noteLabTestId=e}hideDetails(){this.isDetailsVisible=!1,this.loadNoteLabTestList()}editItem(e){this.isDetailsVisible=!0,this.noteLabTestId=e}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-laboratory"]],viewQuery:function(e,t){if(1&e&&s.Lc(Ye,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{noteId:"noteId",allowEditing:"allowEditing",usedInClinicNoteMedications:"usedInClinicNoteMedications"},decls:41,vars:14,consts:[["id","divTable","class","padding5",4,"ngIf"],["id","deleteNoteLabTest","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary"],["id","divTable",1,"padding5"],[1,"row"],[1,"col-md-4","nopadding"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-8 align-reverse nopadding",4,"ngIf"],[1,"padding2"],[1,"col-md-8","align-reverse","nopadding"],["type","button",1,"btn","btn-primary",3,"click"],[3,"noteId","noteLabTestId","onBack"]],template:function(e,t){1&e&&(s.Dc(0,Je,17,2,"div",0),s.Fc(1,"\n"),s.Dc(2,et,4,2,"div",0),s.Fc(3,"\n\n"),s.Qb(4,"div",1),s.Fc(5,"\n    "),s.Qb(6,"div",2),s.Fc(7,"\n        "),s.Fc(8,"\n        "),s.Qb(9,"div",3),s.Fc(10,"\n            "),s.Qb(11,"div",4),s.Fc(12,"\n                "),s.Qb(13,"button",5),s.Fc(14,"\xd7"),s.Pb(),s.Fc(15,"\n                "),s.Qb(16,"h4",6),s.Fc(17),s.ac(18,"translate"),s.Pb(),s.Fc(19,"\n            "),s.Pb(),s.Fc(20,"\n            "),s.Qb(21,"div",7),s.Fc(22,"\n                "),s.Qb(23,"p"),s.Fc(24),s.ac(25,"translate"),s.Pb(),s.Fc(26,"\n            "),s.Pb(),s.Fc(27,"\n            "),s.Qb(28,"div",8),s.Fc(29,"\n                "),s.Qb(30,"button",9),s.Xb("click",function(){return t.deleteSelectedItem()}),s.Fc(31),s.ac(32,"translate"),s.Pb(),s.Fc(33,"\n                "),s.Qb(34,"button",10),s.Fc(35),s.ac(36,"translate"),s.Pb(),s.Fc(37,"\n            "),s.Pb(),s.Fc(38,"\n        "),s.Pb(),s.Fc(39,"\n\n    "),s.Pb(),s.Fc(40,"\n"),s.Pb()),2&e&&(s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible),s.yb(15),s.Hc(" ",s.bc(18,6,"DeleteConfirmation"),""),s.yb(7),s.Gc(s.bc(25,8,"AreYouSureDelete")),s.yb(7),s.Gc(s.bc(32,10,"Yes")),s.yb(4),s.Gc(s.bc(36,12,"No")))},directives:[i.k,c.b,c.f,c.i,_e],pipes:[b.c],encapsulation:2}),e})();const nt=["fileInput"];function it(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",30),s.Xb("click",function(){return s.wc(e),s.Zb(2).getRadiologyTestsGroupsForTreeView()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetAll")))}function ct(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",30),s.Xb("click",function(){return s.wc(e),s.Zb(2).getClinicDepartmentRadiologyTestsGroups()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"GetSpecific")))}function at(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",31),s.Lb(2,"i",32),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function st(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",31),s.Lb(2,"i",32),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function ot(e,t){if(1&e&&(s.Fc(0,"\n                        "),s.Qb(1,"span",31),s.Lb(2,"i",33),s.Pb(),s.Fc(3)),2&e){const e=t.$implicit;s.yb(3),s.Hc("\n                        \xa0\n                        ",e.label,"\n                    ")}}function rt(e,t){if(1&e&&(s.Qb(0,"option",34),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function lt(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",1,2),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n    "),s.Qb(3,"div",3),s.Fc(4,"\n        "),s.Qb(5,"label",4),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Qb(9,"div",5),s.Fc(10,"\n            "),s.Dc(11,it,3,3,"a",6),s.Fc(12,"\n            "),s.Dc(13,ct,3,3,"a",6),s.Fc(14,"\n            "),s.Qb(15,"div",7),s.Fc(16,"\n                "),s.Qb(17,"input",8,9),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.Pb(),s.Fc(19,"\n            "),s.Pb(),s.Fc(20,"\n            "),s.Qb(21,"div",10),s.Fc(22,"\n                "),s.Qb(23,"p-tree",11),s.Xb("selectionChange",function(t){return s.wc(e),s.Zb().selectedFiles=t})("onNodeSelect",function(t){return s.wc(e),s.Zb().nodeSelect(t)})("onNodeUnselect",function(t){return s.wc(e),s.Zb().nodeUnselect(t)}),s.ac(24,"translateObjects"),s.ac(25,"filterbynameorcode"),s.Fc(26,"\n                    "),s.Dc(27,at,4,1,"ng-template",12),s.Fc(28,"\n                    "),s.Dc(29,st,4,1,"ng-template",13),s.Fc(30,"\n                    "),s.Dc(31,ot,4,1,"ng-template",14),s.Fc(32,"\n                "),s.Pb(),s.Fc(33,"\n            "),s.Pb(),s.Fc(34,"\n        "),s.Pb(),s.Fc(35,"\n    "),s.Pb(),s.Fc(36,"\n    "),s.Qb(37,"div",3),s.Fc(38,"\n        "),s.Qb(39,"label",15),s.Fc(40),s.ac(41,"translate"),s.Pb(),s.Fc(42,"\n        "),s.Qb(43,"div",16),s.Fc(44,"\n            "),s.Qb(45,"input",17),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().radTestToSave.radTestCode=t}),s.Pb(),s.Fc(46,"\n        "),s.Pb(),s.Fc(47,"\n    "),s.Pb(),s.Fc(48,"\n    "),s.Qb(49,"div",3),s.Fc(50,"\n        "),s.Qb(51,"label",18),s.Fc(52),s.ac(53,"translate"),s.Pb(),s.Fc(54,"\n        "),s.Qb(55,"div",16),s.Fc(56,"\n            "),s.Qb(57,"input",19),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().radTestToSave.quantity=t}),s.Pb(),s.Fc(58,"\n        "),s.Pb(),s.Fc(59,"\n    "),s.Pb(),s.Fc(60,"\n    "),s.Qb(61,"div",3),s.Fc(62,"\n        "),s.Qb(63,"label",20),s.Fc(64),s.ac(65,"translate"),s.Pb(),s.Fc(66,"\n        "),s.Qb(67,"div",21),s.Fc(68,"\n            "),s.Qb(69,"select",22),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().radTestToSave.diagnoseId=t}),s.Fc(70,"\n                "),s.Qb(71,"option",23),s.Fc(72),s.ac(73,"translate"),s.Pb(),s.Fc(74,"\n                "),s.Dc(75,rt,2,2,"option",24),s.Fc(76,"\n            "),s.Pb(),s.Fc(77,"\n        "),s.Pb(),s.Fc(78,"\n    "),s.Pb(),s.Fc(79,"\n    "),s.Qb(80,"div",3),s.Fc(81,"\n        "),s.Qb(82,"label",4),s.Fc(83),s.ac(84,"translate"),s.Pb(),s.Fc(85,"\n        "),s.Qb(86,"div",5),s.Fc(87,"\n            "),s.Qb(88,"textarea",25),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().radTestToSave.description=t}),s.Pb(),s.Fc(89,"\n        "),s.Pb(),s.Fc(90,"\n    "),s.Pb(),s.Fc(91,"\n    "),s.Qb(92,"div",3),s.Fc(93,"\n        "),s.Qb(94,"div",26),s.Fc(95,"\n            "),s.Qb(96,"button",27),s.Fc(97),s.ac(98,"translate"),s.Pb(),s.Fc(99,"\n            "),s.Qb(100,"button",28),s.Xb("click",function(){return s.wc(e),s.Zb().clear()}),s.Fc(101),s.ac(102,"translate"),s.Pb(),s.Fc(103,"\n            "),s.Qb(104,"button",29),s.Xb("click",function(){return s.wc(e),s.Zb().goBack()}),s.Fc(105),s.ac(106,"translate"),s.Pb(),s.Fc(107,"\n        "),s.Pb(),s.Fc(108,"\n    "),s.Pb(),s.Fc(109,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Gc(s.bc(7,19,"TestName")),s.yb(5),s.hc("ngIf",e.isAll),s.yb(2),s.hc("ngIf",!e.isAll),s.yb(4),s.hc("ngModel",e.filterString),s.yb(6),s.hc("value",s.dc(24,21,s.dc(25,25,e.radTests,e.filterString,e.leafType),"label","labelTranslation"))("selection",e.selectedFiles),s.yb(17),s.Gc(s.bc(41,29,"TestCode")),s.yb(5),s.hc("ngModel",e.radTestToSave.radTestCode),s.yb(7),s.Gc(s.bc(53,31,"Quantity")),s.yb(5),s.hc("ngModel",e.radTestToSave.quantity),s.yb(7),s.Gc(s.bc(65,33,"Diagnosis")),s.yb(5),s.hc("ngModel",e.radTestToSave.diagnoseId),s.yb(3),s.Hc("Select",s.bc(73,35,"Select"),""),s.yb(3),s.hc("ngForOf",e.noteDiagnosis),s.yb(8),s.Hc("",s.bc(84,37,"Description")," "),s.yb(5),s.hc("ngModel",e.radTestToSave.description),s.yb(9),s.Gc(s.bc(98,39,"Save")),s.yb(4),s.Gc(s.bc(102,41,"New")),s.yb(4),s.Gc(s.bc(106,43,"Back"))}}let dt=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.onBack=new s.n,this.noteId="",this.active=!0,this.radTestToSave={id:0,quantity:1},this.leafType="RadiologyTest",this.selectedAction=1,this.classifications=[],this.showProgress=!1,this.isRadTest=!0,this.noteDiagnosis=[],this.radTestCode="",this.isAll=!0,this.divisionId="",this.clinicId="",this.radTreeDataSourceItems=[],this.getAllRads=!0}ngOnChanges(e){let t=this;"new"==this.noteRadTestId&&(t.showProgress=!0,this.noteRadTestId&&null!=this.noteRadTestId&&this.doctorService.getClinicNoteRadTestById(this.noteRadTestId).subscribe(function(e){t.radTestToSave=e,t.displaySelectedParentGroupNode(t.radTestToSave.radiologyTestId)},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})),"new"!=this.noteRadTestId&&(t.showProgress=!0,this.noteRadTestId&&"undefined"!=this.noteRadTestId&&this.doctorService.getClinicNoteRadTestById(this.noteRadTestId).subscribe(function(e){t.radTestToSave=e},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1}))}ngOnInit(){let e=this;this.selectedMedicationNode=null,this.clinicId=this.storage.retrieve("ClinicID"),this.divisionId=this._route.snapshot.params.divisionId,e.getClinicDepartmentRadiologyTestsGroups(),this.doctorService.getNoteDiagnosis(e.noteId).subscribe(function(t){e.noteDiagnosis=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}clear(){this.radTestToSave={quantity:1},this.radTestToSave.radiologyTestId="",this.noteRadTestId="new",this.selectedNode={},this.active=!1,setTimeout(()=>this.active=!0,0)}getClinicDepartmentRadiologyTestsGroups(){let e=this;e.isAll=!0,this.doctorService.getClinicDivisionRadiologyTestsGroups(e.divisionId).subscribe(function(t){e.radTests=t,e.radTestToSave&&(e.addModelToServicesList(e.radTestToSave),e.expandAll())},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}displaySelectedParentGroupNode(e){let t=this;t.radTests.forEach(n=>{t.displaySelectedNodeRecursive(n,e)})}getRadiologyTestsGroupsForTreeView(e){let t=this;t.isAll=!1,this.doctorService.getRadiologyTestsGroupsForTreeView(t.clinicId).subscribe(function(n){t.radTests=n,e&&(t.getAllRads=!1,t.radTreeDataSourceItems=n,t.expandAll())},function(e){t.toastr.error(e,"")},function(){t.showProgress=!1})}displaySelectedNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displaySelectedNodeRecursive(e,t),e.data==t&&"radiologytest"==e.type.toLocaleLowerCase()&&(this.selectedNode=e)})}nodeSelect(e){this.radTestToSave.radiologyTestId=e.node.data,this.radTestToSave.radTestCode=e.node.code,this.radTestToSave.radTestName=e.node.name}nodeUnselect(e){this.radTestToSave.labTestId=""}expandAll(){this.radTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.radTreeDataSourceItems.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}onSubmit(){let e=this;e.showProgress=!0,e.radTestToSave.clinicNoteId=e.noteId,this.radTestToSave.id>0?this.doctorService.updateClinicNoteRadTest(this.radTestToSave).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.radTestToSave=t,e.onBack.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):this.doctorService.createClinicNoteRadTest(this.radTestToSave).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.radTestToSave=t,e.noteRadTestId=e.radTestToSave.id,e.onBack.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}goBack(){this.onBack.emit()}addModelToServicesList(e){this.displaySelectedNode(e.radiologyTestId,this.radTreeDataSourceItems),null==this.selectedLabNode&&(this.displaySelectedNode(e.labTestId,this.radTests),null!=this.selectedLabNode&&this.addServiceToDepartmentList(this.selectedLabNode))}addServiceToDepartmentList(e){this.radTreeDataSourceItems[0].children.push(e),this.selectedLabNode=e}displaySelectedNode(e,t){let n=this;t.forEach(t=>{t.data==e&&"RadiologyTest"==t.type&&(n.selectedLabNode=t),n.displayNodeRecursive(t,e)})}displayNodeRecursive(e,t){e.children&&e.children.forEach(e=>{this.displayNodeRecursive(e,t),e.data==t&&"RadiologyTest"==e.type&&(this.selectedMedicationNode=e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-radiology-details"]],viewQuery:function(e,t){if(1&e&&s.Lc(nt,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{noteId:"noteId",noteRadTestId:"noteRadTestId"},outputs:{onBack:"onBack"},features:[s.wb],decls:1,vars:1,consts:[["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","txtName",1,"control-label","col-md-2"],[1,"col-md-6"],["class","pointer",3,"click",4,"ngIf"],[1,"row","nopadding"],["placeholder","Search by name or code...","name","txtFilterString",1,"form-control",3,"ngModel","ngModelChange"],["txtFilterString","ngModel"],[1,"nopadding","treeBorder"],["selectionMode","single",1,"height100",3,"value","selection","selectionChange","onNodeSelect","onNodeUnselect"],["pTemplate","ClinicDepartmentRadiologyTestsGroup"],["pTemplate","RadiologyTestsGroup"],["pTemplate","RadiologyTest"],["for","radTestCode",1,"control-label","col-md-2"],[1,"col-md-2"],["id","radTestCode","name","radTestCode","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity",1,"control-label","col-md-2"],["type","number","id","quantity","name","quantity",1,"form-control",3,"ngModel","ngModelChange"],["for","ddlDiagnosis",1,"control-label","col-md-2"],[1,"col-md-4"],["id","ddlDiagnosis","name","ddlDiagnosis",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","col-md-offset-2"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pointer",3,"click"],[1,"nav-icon"],[1,"fa","fa-cubes"],[1,"fa","fa-cube"],[3,"value"]],template:function(e,t){1&e&&s.Dc(0,lt,110,45,"form",0),2&e&&s.hc("ngIf",t.active)},directives:[i.k,c.q,c.g,c.h,c.b,c.f,c.i,G.a,x.g,c.k,c.p,c.j,c.r,i.j],pipes:[b.c,A.a,R.a],encapsulation:2}),e})();const bt=["fileInput"];function ht(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",17),s.Fc(1,"\n            "),s.Qb(2,"button",18),s.Xb("click",function(){return s.wc(e),s.Zb(2).showDetails()}),s.Fc(3),s.ac(4,"translate"),s.Pb(),s.Fc(5,"\n        "),s.Pb()}2&e&&(s.yb(3),s.Gc(s.bc(4,1,"NewTest")))}function ut(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",11),s.Fc(1,"\n    "),s.Qb(2,"div",12),s.Fc(3,"\n        "),s.Qb(4,"div",13),s.Fc(5,"\n            "),s.Qb(6,"input",14),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().filterString=t}),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n        "),s.Pb(),s.Fc(9,"\n        "),s.Dc(10,ht,6,3,"div",15),s.Fc(11,"\n    "),s.Pb(),s.Fc(12,"\n    "),s.Lb(13,"div",16),s.Fc(14,"\n    "),s.Fc(15,"\n\n\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.hc("placeholder",s.bc(7,3,"Search"))("ngModel",e.filterString),s.yb(4),s.hc("ngIf",e.allowEditing)}}function gt(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",11),s.Fc(1,"\n    "),s.Qb(2,"patient-radiology-details",19),s.Xb("onBack",function(){return s.wc(e),s.Zb().hideDetails()}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("noteId",e.noteId)("noteRadTestId",e.noteRadtId)}}let pt=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.lstToTranslated=[],this.isDetailsVisible=!1,this.allowEditing=!0,this.active=!0,this.radTests=[],this.classifications=[],this.showProgress=!1}ngOnInit(){this.lstToTranslated=["radTestName","radTestNameTranslation","diagnoseName","diagnoseNameTranslation"],this.showProgress=!0,this.loadNoteRadTestList()}selectRadTestToDelete(e){this.radTestToBeDeleted=e}deleteSelectedItem(){let e=this;if(""!=this.radTestToBeDeleted)e.showProgress=!0,this.doctorService.deleteClinicNoteRadTest(this.radTestToBeDeleted).subscribe(function(t){let n=e.translate.instant("DeletedSuccessfully");e.toastr.success(n,"");var i=e.radTests.find(t=>t.id==e.radTestToBeDeleted),c=e.radTests.indexOf(i);c>-1&&e.radTests.splice(c,1)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1});else{let t=e.translate.instant("ItemToBeDeleted");e.toastr.warning(t,"")}}loadNoteRadTestList(){let e=this;e.noteId&&e.noteId>0&&this.doctorService.getClinicNoteRadTests(e.noteId).subscribe(function(t){e.radTests=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}showDetails(e){this.isDetailsVisible=!0,this.noteRadtId=e}hideDetails(){this.isDetailsVisible=!1,this.loadNoteRadTestList()}editItem(e){this.isDetailsVisible=!0,this.noteRadtId=e}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-radiology"]],viewQuery:function(e,t){if(1&e&&s.Lc(bt,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{allowEditing:"allowEditing",noteId:"noteId"},decls:41,vars:14,consts:[["id","divTable","class","padding5",4,"ngIf"],["id","deleteNoteRadTest","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary"],["id","divTable",1,"padding5"],[1,"row"],[1,"col-md-4","nopadding"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["class","col-md-8 align-reverse nopadding",4,"ngIf"],[1,"padding2"],[1,"col-md-8","align-reverse","nopadding"],["type","button",1,"btn","btn-primary",3,"click"],[3,"noteId","noteRadTestId","onBack"]],template:function(e,t){1&e&&(s.Dc(0,ut,16,5,"div",0),s.Fc(1,"\n"),s.Dc(2,gt,4,2,"div",0),s.Fc(3,"\n\n\n"),s.Qb(4,"div",1),s.Fc(5,"\n    "),s.Qb(6,"div",2),s.Fc(7,"\n        "),s.Fc(8,"\n        "),s.Qb(9,"div",3),s.Fc(10,"\n            "),s.Qb(11,"div",4),s.Fc(12,"\n                "),s.Qb(13,"button",5),s.Fc(14,"\xd7"),s.Pb(),s.Fc(15,"\n                "),s.Qb(16,"h4",6),s.Fc(17),s.ac(18,"translate"),s.Pb(),s.Fc(19,"\n            "),s.Pb(),s.Fc(20,"\n            "),s.Qb(21,"div",7),s.Fc(22,"\n                "),s.Qb(23,"p"),s.Fc(24),s.ac(25,"translate"),s.Pb(),s.Fc(26,"\n            "),s.Pb(),s.Fc(27,"\n            "),s.Qb(28,"div",8),s.Fc(29,"\n                "),s.Qb(30,"button",9),s.Xb("click",function(){return t.deleteSelectedItem()}),s.Fc(31),s.ac(32,"translate"),s.Pb(),s.Fc(33,"\n                "),s.Qb(34,"button",10),s.Fc(35),s.ac(36,"translate"),s.Pb(),s.Fc(37,"\n            "),s.Pb(),s.Fc(38,"\n        "),s.Pb(),s.Fc(39,"\n\n    "),s.Pb(),s.Fc(40,"\n"),s.Pb()),2&e&&(s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible),s.yb(15),s.Gc(s.bc(18,6,"DeleteConfirmation")),s.yb(7),s.Gc(s.bc(25,8,"AreYouSureDelete")),s.yb(7),s.Gc(s.bc(32,10,"Yes")),s.yb(4),s.Gc(s.bc(36,12,"No")))},directives:[i.k,c.b,c.f,c.i,dt],pipes:[b.c],encapsulation:2}),e})();var Ft=function(e){return e[e.Muharram=1]="Muharram",e[e.Safar=2]="Safar",e[e.RabiAlAwwal=3]="RabiAlAwwal",e[e.RabiAlThani=4]="RabiAlThani",e[e.JumadaAlAwwal=5]="JumadaAlAwwal",e[e.JumadaAlThani=6]="JumadaAlThani",e[e.Rajab=7]="Rajab",e[e.Shaban=8]="Shaban",e[e.Ramadan=9]="Ramadan",e[e.Shawwal=10]="Shawwal",e[e.DhuAlQiDah=11]="DhuAlQiDah",e[e.DhuAlHijjah=12]="DhuAlHijjah",e}({}),mt=function(e){return e[e.January=1]="January",e[e.February=2]="February",e[e.March=3]="March",e[e.April=4]="April",e[e.May=5]="May",e[e.June=6]="June",e[e.July=7]="July",e[e.August=8]="August",e[e.September=9]="September",e[e.October=10]="October",e[e.November=11]="November",e[e.December=12]="December",e}({});const ft=["fileInput"],vt=["patientAccountForm"];function yt(e,t){if(1&e&&(s.Qb(0,"option",19),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e),s.yb(1),s.Gc(e)}}function Pt(e,t){if(1&e&&(s.Qb(0,"option",19),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e),s.yb(1),s.Gc(s.bc(2,2,e))}}function St(e,t){if(1&e&&(s.Qb(0,"option",19),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e),s.yb(1),s.Gc(e)}}let It=(()=>{class e{constructor(e,t,n,i,c,a,o){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.router=c,this.storage=a,this.translate=o,this.birthDateInfo={birthDateType:""},this.onModelUpdated=new s.n,this.title="",this.hagriDays=[],this.gregorianDays=[],this.selctedDaysType=[],this.GregorianMonths=[],this.HijriMonths=[],this.hagriYears=[],this.gregorianYears=[],this.selctedYearsType=[],this.selctedMonthsType=[],this.isDatePartsChanged=!1,this.HagriDateValues=new Date,this.GregorianDateValues=new Date,this.showProgress=!1,this.onNewDateSaved=new s.n,this.utilityClass=new N.a}ngOnChanges(e){this.birthDateInfo&&this.birthDateInfo.birthDateType&&this.selectDiseredDate(this.birthDateInfo.birthDateType)}ngOnInit(){this.subscription=this.patientService.notifyObservable$.subscribe(e=>{e.hasOwnProperty("option")&&"call_child"===e.option&&(this.birthDateInfo=e.value,this.isHagri(),this.isGregorian())}),this.hagriDays=[];let e=0;for(;this.hagriDays.push(++e)<30;);this.gregorianDays=[];let t=0;for(;this.gregorianDays.push(++t)<31;);this.hagriYears=[];let n=1318;for(;this.hagriYears.push(++n)<154;);this.gregorianYears=[];let i=1900;for(;this.gregorianYears.push(++i)<150;);this.convertHijriMonthListToArray(),this.convertGregorianMonthListToArray()}convertHijriMonthListToArray(){for(var e in this.HijriMonths=[],Ft)if(this.HijriMonths.push(Ft[e]),12==this.HijriMonths.length)break}convertGregorianMonthListToArray(){for(var e in this.GregorianMonths=[],mt)if(this.GregorianMonths.push(mt[e]),12==this.GregorianMonths.length)break}selectDiseredDate(e){"hagri"==e.toLowerCase()?(1==this.isDatePartsChanged&&this.CheckIfCurrentBirthDateChanged(this.birthDateInfo),this.setHijriValues()):(1==this.isDatePartsChanged&&this.CheckIfCurrentBirthDateChanged(this.birthDateInfo),this.setGregorianValues())}CheckIfCurrentBirthDateChanged(e){let t=this;t.isDatePartsChanged=!1,this.patientService.checkIfCurrentBirthDateChanged(e).subscribe(function(e){t.birthDateInfo=e,"Hagri"==t.birthDateInfo.birthDateType?t.setGregorianValues():t.setHijriValues()},function(e){t.toastr.error(e),t.showProgress=!1},function(){t.showProgress=!1})}isHagri(){return this.birthDateInfo&&this.birthDateInfo.birthDateType&&(1==this.birthDateInfo.birthDateType||"Hagri"==this.birthDateInfo.birthDateType)}isGregorian(){return this.birthDateInfo&&this.birthDateInfo.birthDateType&&(2==this.birthDateInfo.birthDateType||"Gourgian"==this.birthDateInfo.birthDateType)}isDateChanged(e,t){"ddlDays"==t?(this.birthDateInfo.dayValue=e,this.isDatePartsChanged=!0):"ddlMonths"==t?(this.birthDateInfo.monthValue=1==this.birthDateInfo.birthDateType?Ft[e]:mt[e],this.isDatePartsChanged=!0):"ddlYears"==t&&(this.birthDateInfo.yearValue=e,this.isDatePartsChanged=!0),this.onNewDateSaved.emit(this.birthDateInfo)}setHijriValues(){if(this.selctedDaysType=this.hagriDays,this.selctedMonthsType=this.HijriMonths,this.selctedYearsType=this.hagriYears,this.birthDateInfo.birthDateType=1,this.isHagri(),null!=this.birthDateInfo.hijriBirthDate){this.HagriDateValues=new Date(this.birthDateInfo.hijriBirthDate),this.birthDateInfo.dayValue=this.HagriDateValues.getDate();let e=this.HagriDateValues.getMonth();this.birthDateInfo.monthValue=Ft[e+1],this.birthDateInfo.yearValue=this.HagriDateValues.getFullYear()}}setGregorianValues(){if(this.selctedDaysType=this.gregorianDays,this.selctedMonthsType=this.GregorianMonths,this.selctedYearsType=this.gregorianYears,this.birthDateInfo.birthDateType=2,this.isGregorian(),null!=this.birthDateInfo.birthDate){this.GregorianDateValues=new Date(this.birthDateInfo.birthDate),this.birthDateInfo.dayValue=this.GregorianDateValues.getDate();let e=this.GregorianDateValues.getMonth();this.birthDateInfo.monthValue=mt[e+1],this.birthDateInfo.yearValue=this.GregorianDateValues.getFullYear()}}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(a.b),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["date-hijri-gregorian"]],viewQuery:function(e,t){if(1&e&&(s.Lc(ft,1),s.Lc(vt,1)),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first),s.uc(e=s.Yb())&&(t.patientAccountForm=e.first)}},inputs:{birthDateInfo:"birthDateInfo",title:"title"},outputs:{onModelUpdated:"onModelUpdated",onNewDateSaved:"onNewDateSaved"},features:[s.wb],decls:90,vars:17,consts:[[1,"form-group"],["for","birthDate",1,"control-label","col-md-2"],[1,"col-md-4"],["type","radio","id","rbBirthDate","value","hagri","name","rbBirthDate","required","",3,"checked","click"],["hagri",""],["type","radio","id","rbBirthDate","value","gregorian","name","rbBirthDate",3,"checked","click"],["gregorian",""],[1,"control-label","col-md-2"],[1,"col-md-2"],["for","ddlDays",1,"control-label","col-md-2"],["id","ddlDays","name","ddlDays",3,"ngModel","change","ngModelChange"],["ddlDays",""],["selected","",3,"value",4,"ngFor","ngForOf"],["for","ddlMonths",1,"control-label","col-md-2"],["id","ddlMonths","name","ddlMonths",3,"ngModel","change","ngModelChange"],["ddlMonths",""],["for","ddlYears",1,"control-label","col-md-2"],["id","ddlYears","name","ddlYears",3,"ngModel","change","ngModelChange"],["ddlYears",""],["selected","",3,"value"]],template:function(e,t){if(1&e){const e=s.Rb();s.Fc(0,"    \n\n            "),s.Qb(1,"div",0),s.Fc(2,"\n                "),s.Qb(3,"label",1),s.Fc(4),s.ac(5,"translate"),s.Pb(),s.Fc(6,"\n                "),s.Qb(7,"div",2),s.Fc(8,"\n                    "),s.Qb(9,"table"),s.Fc(10,"\n                        "),s.Qb(11,"tr"),s.Fc(12,"\n                            "),s.Qb(13,"td"),s.Fc(14,"\n                                "),s.Qb(15,"input",3,4),s.Xb("click",function(){s.wc(e);const n=s.vc(16);return t.selectDiseredDate(n.value)}),s.Pb(),s.Fc(17),s.ac(18,"translate"),s.Pb(),s.Fc(19,"\n                            "),s.Qb(20,"td"),s.Fc(21,"\n                                "),s.Qb(22,"input",5,6),s.Xb("click",function(){s.wc(e);const n=s.vc(23);return t.selectDiseredDate(n.value)}),s.Pb(),s.Fc(24),s.ac(25,"translate"),s.Pb(),s.Fc(26,"\n                        "),s.Pb(),s.Fc(27,"\n                    "),s.Pb(),s.Fc(28,"\n                "),s.Pb(),s.Fc(29,"\n            "),s.Pb(),s.Fc(30,"\n           "),s.Qb(31,"div",0),s.Fc(32,"\n                "),s.Lb(33,"label",7),s.Fc(34,"\n\n                "),s.Qb(35,"div",8),s.Fc(36,"\n                    "),s.Qb(37,"table"),s.Fc(38,"\n                        "),s.Qb(39,"tr"),s.Fc(40,"\n\n                           \n                            "),s.Qb(41,"td"),s.Fc(42,"\n                                "),s.Qb(43,"label",9),s.Fc(44," "),s.Pb(),s.Fc(45,"\n                            "),s.Pb(),s.Fc(46,"\n                            "),s.Qb(47,"td"),s.Fc(48,"\n                                "),s.Qb(49,"select",10,11),s.Xb("change",function(){s.wc(e);const n=s.vc(50);return t.isDateChanged(n.value,n.id)})("ngModelChange",function(e){return t.birthDateInfo.dayValue=e}),s.Fc(51,"\n                                    "),s.Dc(52,yt,2,2,"option",12),s.Fc(53,"\n                                "),s.Pb(),s.Fc(54,"\n                            "),s.Pb(),s.Fc(55,"\n                            "),s.Qb(56,"td"),s.Fc(57,"\n                                "),s.Qb(58,"label",13),s.Fc(59," "),s.Pb(),s.Fc(60,"\n                            "),s.Pb(),s.Fc(61,"\n                            "),s.Qb(62,"td"),s.Fc(63,"\n                                "),s.Qb(64,"select",14,15),s.Xb("change",function(){s.wc(e);const n=s.vc(65);return t.isDateChanged(n.value,n.id)})("ngModelChange",function(e){return t.birthDateInfo.monthValue=e}),s.Fc(66,"\n                                    "),s.Dc(67,Pt,3,4,"option",12),s.Fc(68,"\n                                "),s.Pb(),s.Fc(69," \n                            "),s.Pb(),s.Fc(70,"\n                            "),s.Qb(71,"td"),s.Fc(72,"\n                                "),s.Qb(73,"label",16),s.Fc(74," "),s.Pb(),s.Fc(75,"\n                            "),s.Pb(),s.Fc(76,"\n                            "),s.Qb(77,"td"),s.Fc(78,"\n                                "),s.Qb(79,"select",17,18),s.Xb("change",function(){s.wc(e);const n=s.vc(80);return t.isDateChanged(n.value,n.id)})("ngModelChange",function(e){return t.birthDateInfo.yearValue=e}),s.Fc(81,"\n                                    "),s.Dc(82,St,2,2,"option",12),s.Fc(83,"\n                                "),s.Pb(),s.Fc(84," \n                            "),s.Pb(),s.Fc(85,"\n                        "),s.Pb(),s.Fc(86,"\n\n                    "),s.Pb(),s.Fc(87,"\n                "),s.Pb(),s.Fc(88,"\n            "),s.Pb(),s.Fc(89,"\n            \n  \n\n")}2&e&&(s.yb(4),s.Hc("",s.bc(5,11,"BirthDate")," "),s.yb(11),s.hc("checked",t.isHagri()),s.yb(2),s.Hc("",s.bc(18,13,"Hijri"),"\n                            "),s.yb(5),s.hc("checked",t.isGregorian()),s.yb(2),s.Hc("",s.bc(25,15,"Gregorian"),"\n                            "),s.yb(25),s.hc("ngModel",t.birthDateInfo.dayValue),s.yb(3),s.hc("ngForOf",t.selctedDaysType),s.yb(12),s.hc("ngModel",t.birthDateInfo.monthValue),s.yb(3),s.hc("ngForOf",t.selctedMonthsType),s.yb(12),s.hc("ngModel",t.birthDateInfo.yearValue),s.yb(3),s.hc("ngForOf",t.selctedYearsType))},directives:[c.p,c.f,c.i,i.j,c.j,c.r],pipes:[b.c],encapsulation:2}),e})();const Dt=["fileInput"],Qt=["patientAccountForm"];function Tt(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function wt(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",4,5),s.Fc(2,"\n            "),s.Qb(3,"div",6),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(4,"\n                "),s.Qb(5,"label",7),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n                "),s.Qb(9,"div",8),s.Fc(10,"\n                    "),s.Qb(11,"input",9,10),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().patientAccountToSave.firstName=t}),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"div",11),s.Fc(15),s.ac(16,"translate"),s.Pb(),s.Fc(17,"\n                "),s.Pb(),s.Fc(18,"\n            "),s.Pb(),s.Fc(19,"\n            "),s.Qb(20,"div",12),s.Fc(21,"\n                "),s.Qb(22,"label",13),s.Fc(23),s.ac(24,"translate"),s.Pb(),s.Fc(25,"\n                "),s.Qb(26,"div",8),s.Fc(27,"\n                    "),s.Qb(28,"input",14,15),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().patientAccountToSave.middleName=t}),s.Pb(),s.Fc(30,"\n                    "),s.Qb(31,"div",11),s.Fc(32),s.ac(33,"translate"),s.Pb(),s.Fc(34,"\n                "),s.Pb(),s.Fc(35,"\n            "),s.Pb(),s.Fc(36,"\n            "),s.Qb(37,"div",12),s.Fc(38,"\n                "),s.Qb(39,"label",16),s.Fc(40),s.ac(41,"translate"),s.Pb(),s.Fc(42,"\n                "),s.Qb(43,"div",8),s.Fc(44,"\n                    "),s.Qb(45,"input",17,18),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().patientAccountToSave.lastName=t}),s.Pb(),s.Fc(47,"\n                    "),s.Qb(48,"div",11),s.Fc(49),s.ac(50,"translate"),s.Pb(),s.Fc(51,"\n                "),s.Pb(),s.Fc(52,"\n            "),s.Pb(),s.Fc(53,"\n            "),s.Qb(54,"div",12),s.Fc(55,"\n                "),s.Qb(56,"label",19),s.Fc(57),s.ac(58,"translate"),s.Pb(),s.Fc(59,"\n                "),s.Qb(60,"div",8),s.Fc(61,"\n                    "),s.Qb(62,"input",20,21),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().patientAccountToSave.reachInfo.mobile=t}),s.Pb(),s.Fc(64,"\n                    "),s.Qb(65,"div",11),s.Fc(66),s.ac(67,"translate"),s.Pb(),s.Fc(68,"\n                "),s.Pb(),s.Fc(69,"\n            "),s.Pb(),s.Fc(70,"\n\n            "),s.Qb(71,"date-hijri-gregorian",22),s.Xb("onNewDateSaved",function(t){return s.wc(e),s.Zb().intializePatientBirthDate(t)}),s.Pb(),s.Fc(72,"\n\n            "),s.Qb(73,"div",12),s.Fc(74,"\n                "),s.Qb(75,"label",23),s.Fc(76),s.ac(77,"translate"),s.Pb(),s.Fc(78,"\n                "),s.Qb(79,"div",8),s.Fc(80,"\n                    "),s.Qb(81,"table"),s.Fc(82,"\n                        "),s.Qb(83,"tr"),s.Fc(84,"\n                            "),s.Qb(85,"td"),s.Fc(86,"\n                                "),s.Qb(87,"input",24),s.Xb("change",function(){return s.wc(e),s.Zb().patientAccountToSave.gender="1"}),s.Pb(),s.Fc(88),s.ac(89,"translate"),s.Pb(),s.Fc(90,"\n                            "),s.Qb(91,"td"),s.Fc(92,"\n                                "),s.Qb(93,"input",25),s.Xb("change",function(){return s.wc(e),s.Zb().patientAccountToSave.gender="2"}),s.Pb(),s.Fc(94),s.ac(95,"translate"),s.Pb(),s.Fc(96,"\n                        "),s.Pb(),s.Fc(97,"\n\n                    "),s.Pb(),s.Fc(98,"\n                    "),s.Fc(99,"\n                "),s.Pb(),s.Fc(100,"\n            "),s.Pb(),s.Fc(101,"\n            "),s.Lb(102,"br"),s.Fc(103,"\n            "),s.Qb(104,"div",12),s.Fc(105,"\n                "),s.Qb(106,"div",26),s.Fc(107,"\n                    "),s.Qb(108,"button",27),s.Xb("click",function(){return s.wc(e),s.Zb().savePatientAccount()}),s.Fc(109),s.ac(110,"translate"),s.Pb(),s.Fc(111,"\n                    "),s.Qb(112,"button",28),s.Xb("click",function(){return s.wc(e),s.Zb().navigateToPackages()}),s.Fc(113),s.ac(114,"translate"),s.Pb(),s.Fc(115,"\n                "),s.Pb(),s.Fc(116,"\n            "),s.Pb(),s.Fc(117,"\n        "),s.Pb()}if(2&e){const e=s.vc(1),t=s.vc(12),n=s.vc(29),i=s.vc(46),c=s.vc(63),a=s.Zb();s.yb(6),s.Gc(s.bc(7,25,"FirstName")),s.yb(5),s.hc("ngModel",a.patientAccountToSave.firstName),s.yb(3),s.hc("hidden",t.valid||t.pristine),s.yb(1),s.Hc("\n                        ",s.bc(16,27,"RequiredField"),"\n                    "),s.yb(8),s.Gc(s.bc(24,29,"MiddleName")),s.yb(5),s.hc("ngModel",a.patientAccountToSave.middleName),s.yb(3),s.hc("hidden",n.valid||n.pristine),s.yb(1),s.Hc("\n                        ",s.bc(33,31,"RequiredField"),"\n                    "),s.yb(8),s.Gc(s.bc(41,33,"LastName")),s.yb(5),s.hc("ngModel",a.patientAccountToSave.lastName),s.yb(3),s.hc("hidden",i.valid||i.pristine),s.yb(1),s.Hc("\n                        ",s.bc(50,35,"RequiredField"),"\n                    "),s.yb(8),s.Gc(s.bc(58,37,"MobileNumber")),s.yb(5),s.hc("ngModel",a.patientAccountToSave.reachInfo.mobile),s.yb(3),s.hc("hidden",c.valid||c.pristine),s.yb(1),s.Hc("\n                        ",s.bc(67,39,"RequiredField"),"\n                    "),s.yb(5),s.hc("birthDateInfo",a.patientAccountToSave),s.yb(5),s.Gc(s.bc(77,41,"Gender")),s.yb(11),s.hc("checked",a.isPatientMale()),s.yb(1),s.Hc("",s.bc(89,43,"Male"),"\n                            "),s.yb(5),s.hc("checked",a.isPatientFemale()),s.yb(1),s.Hc("",s.bc(95,45,"Female"),"\n                            "),s.yb(14),s.hc("disabled",!e.valid),s.yb(1),s.Gc(s.bc(110,47,"Save")),s.yb(4),s.Gc(s.bc(114,49,"Back"))}}let Ct=(()=>{class e{constructor(e,t,n,i,c,a,o){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.router=c,this.storage=a,this.translate=o,this.selectBasicTab=!0,this.serviceId="new",this.patientAccountToSave={reachInfo:{mobile:""}},this.onModelUpdated=new s.n,this.title="",this.active=!0,this.selectedClinicId="0",this.patientType="",this.classifications=[],this.showProgress=!1,this.utilityClass=new N.a,this.isAttachmentsSelected=!0}ngOnInit(){this.selectedClinicId=this.storage.retrieve("ClinicID"),(null==this.patientAccountToSave.reachInfo||null==this.patientAccountToSave.reachInfo)&&(this.patientAccountToSave.reachInfo={})}intializePatientBirthDate(e){this.patientAccountToSave.dayValue=e.dayValue,this.patientAccountToSave.monthValue=e.monthValue,this.patientAccountToSave.yearValue=e.yearValue,this.patientAccountToSave.birthDateType=e.birthDateType}savePatientAccount(){let e=this;this.patientAccountToSave.hasOwnProperty("id")&&"new"!=this.patientAccountToSave.id.toString().toLowerCase()&&"0"!=this.patientAccountToSave.id.toString().toLowerCase()?this.patientService.updatePatientAccount(this.patientAccountToSave).subscribe(function(t){e.patientAccountToSave=t,e.patientAccountToSave.birthDate=e.utilityClass.getUtcDateFromString(e.patientAccountToSave.birthDate),e.raiseModelUpdated(e.patientAccountToSave);let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,"")},function(t){e.toastr.error(t),e.showProgress=!1},function(){e.showProgress=!1}):this.patientService.createPatientAccount(this.patientAccountToSave).subscribe(function(t){e.patientAccountToSave=t,e.raiseModelUpdated(e.patientAccountToSave);let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.clearWithParent()},function(t){e.toastr.error(t),e.showProgress=!1},function(){e.showProgress=!1}),e.patientService.notifyOther({option:"call_child",value:e.patientAccountToSave})}clearWithParent(){this.patientAccountToSave={},this.patientAccountForm.valid=!0,this.active=!1,setTimeout(()=>this.active=!0,0)}raiseModelUpdated(e){this.onModelUpdated.emit(e)}isPatientMale(){return this.patientAccountToSave&&this.patientAccountToSave.gender&&"male"==this.patientAccountToSave.gender.toLowerCase()}isPatientFemale(){return this.patientAccountToSave&&this.patientAccountToSave.gender&&"female"==this.patientAccountToSave.gender.toLowerCase()}onSubmit(){}navigateToPackages(){this.router.navigate(["/receptionist/patients",this.selectedClinicId])}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(a.b),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-account"]],viewQuery:function(e,t){if(1&e&&(s.Lc(Dt,1),s.Lc(Qt,1)),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first),s.uc(e=s.Yb())&&(t.patientAccountForm=e.first)}},inputs:{patientAccountToSave:"patientAccountToSave",title:"title"},outputs:{onModelUpdated:"onModelUpdated"},decls:10,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"row","nopadding"],["class","form-horizontal","name","patientAccountForm",4,"ngIf"],["name","patientAccountForm",1,"form-horizontal"],["patientAccountForm","ngForm"],[1,"form-group",3,"ngSubmit"],["for","firstNameTxt",1,"control-label","col-md-2"],[1,"col-md-4"],["id","firstNameTxt","name","firstNameTxt","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstNameTxt","ngModel"],[1,"alert","alert-danger",3,"hidden"],[1,"form-group"],["for","middleTxt",1,"control-label","col-md-2"],["id","middleTxt","name","middleTxt","required","",1,"form-control",3,"ngModel","ngModelChange"],["middleTxt","ngModel"],["for","lastNameTxt",1,"control-label","col-md-2"],["id","lastNameTxt","name","lastNameTxt","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastNameTxt","ngModel"],["for","mobileNumberTxt",1,"control-label","col-md-2"],["id","mobileNumberTxt","type","text","name","mobileNumberTxt","required","","pattern","^(\\+?[0-9]{1,5})?([1-9][0-9]{9})$",1,"form-control",3,"ngModel","ngModelChange"],["mobileNumberTxt","ngModel"],[3,"birthDateInfo","onNewDateSaved"],["for","rbGender",1,"control-label","col-md-2"],["type","radio","id","rbGender","value","1","name","rbGender","required","",3,"checked","change"],["type","radio","id","rbGender","value","2","name","rbGender",3,"checked","change"],[1,"col-md-4","col-md-offset-2"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(s.Dc(0,Tt,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n    "),s.Qb(4,"div",2),s.Fc(5,"\n        "),s.Dc(6,wt,118,51,"form",3),s.Fc(7,"\n    "),s.Pb(),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(6),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,c.b,c.o,c.f,c.i,c.l,It],pipes:[b.c],encapsulation:2}),e})();var Nt=n("5QCU");const Mt=["fileInput"];function Lt(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function kt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Gt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function xt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function At(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Rt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Zt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Ot(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Bt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Vt(e,t){if(1&e&&(s.Qb(0,"option",56),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function Ht(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",4,5),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n            "),s.Qb(3,"div",6),s.Fc(4,"\n                "),s.Qb(5,"label",7),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n                "),s.Qb(9,"label",7),s.Fc(10),s.Pb(),s.Fc(11,"\n                "),s.Qb(12,"label",7),s.Fc(13),s.ac(14,"translate"),s.Pb(),s.Fc(15,"\n                "),s.Qb(16,"label",7),s.Fc(17),s.Pb(),s.Fc(18,"\n            "),s.Pb(),s.Fc(19,"\n            "),s.Qb(20,"div",6),s.Fc(21,"\n                "),s.Qb(22,"label",8),s.Fc(23),s.ac(24,"translate"),s.Pb(),s.Fc(25,"\n                "),s.Qb(26,"div",9),s.Fc(27,"\n                    "),s.Qb(28,"input",10),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.unifiedMRN=t}),s.Pb(),s.Fc(29,"\n                "),s.Pb(),s.Fc(30,"\n                "),s.Qb(31,"label",11),s.Fc(32),s.ac(33,"translate"),s.Pb(),s.Fc(34,"\n                "),s.Qb(35,"div",9),s.Fc(36,"\n                    "),s.Qb(37,"input",12,13),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.clinicMRN=t}),s.Pb(),s.Fc(39,"\n                    "),s.Qb(40,"div",14),s.Fc(41),s.ac(42,"translate"),s.Pb(),s.Fc(43,"\n                "),s.Pb(),s.Fc(44,"\n            "),s.Pb(),s.Fc(45,"\n            "),s.Qb(46,"div",6),s.Fc(47,"\n                "),s.Qb(48,"label",15),s.Fc(49),s.ac(50,"translate"),s.Pb(),s.Fc(51,"\n                "),s.Qb(52,"div",9),s.Fc(53,"\n                    "),s.Qb(54,"select",16,17),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.birthCountryId=t})("change",function(){s.wc(e);const t=s.vc(56);return s.Zb().fillRegions(t.value)}),s.Fc(57,"\n                        "),s.Qb(58,"option",18),s.Fc(59),s.ac(60,"translate"),s.Pb(),s.Fc(61,"\n                        "),s.Dc(62,kt,2,2,"option",19),s.ac(63,"translateObjects"),s.Fc(64,"\n                    "),s.Pb(),s.Fc(65,"\n                    "),s.Qb(66,"div",14),s.Fc(67),s.ac(68,"translate"),s.Pb(),s.Fc(69,"\n                "),s.Pb(),s.Fc(70,"\n                "),s.Qb(71,"label",20),s.Fc(72),s.ac(73,"translate"),s.Pb(),s.Fc(74,"\n                "),s.Qb(75,"div",9),s.Fc(76,"\n                    "),s.Qb(77,"select",21,22),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.birthStateId=t})("change",function(){s.wc(e);const t=s.vc(79);return s.Zb().fillCities(t.value)}),s.Fc(80,"\n                        "),s.Qb(81,"option",18),s.Fc(82),s.ac(83,"translate"),s.Pb(),s.Fc(84,"\n                        "),s.Dc(85,Gt,2,2,"option",19),s.ac(86,"translateObjects"),s.Fc(87,"\n                    "),s.Pb(),s.Fc(88,"\n                    "),s.Qb(89,"div",14),s.Fc(90),s.ac(91,"translate"),s.Pb(),s.Fc(92,"\n                "),s.Pb(),s.Fc(93,"\n            "),s.Pb(),s.Fc(94,"\n            "),s.Qb(95,"div",6),s.Fc(96,"\n                "),s.Qb(97,"label",23),s.Fc(98),s.ac(99,"translate"),s.Pb(),s.Fc(100,"\n                "),s.Qb(101,"div",9),s.Fc(102,"\n                    "),s.Qb(103,"select",24,25),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.birthCityId=t}),s.Fc(105,"\n                        "),s.Qb(106,"option",18),s.Fc(107),s.ac(108,"translate"),s.Pb(),s.Fc(109,"\n                        "),s.Dc(110,xt,2,2,"option",19),s.ac(111,"translateObjects"),s.Fc(112,"\n                    "),s.Pb(),s.Fc(113,"\n                    "),s.Qb(114,"div",14),s.Fc(115),s.ac(116,"translate"),s.Pb(),s.Fc(117,"\n                "),s.Pb(),s.Fc(118,"\n                "),s.Qb(119,"label",26),s.Fc(120),s.ac(121,"translate"),s.Pb(),s.Fc(122,"\n                "),s.Qb(123,"div",9),s.Fc(124,"\n                    "),s.Qb(125,"select",27,28),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.religionId=t}),s.Fc(127,"\n                        "),s.Qb(128,"option",18),s.Fc(129),s.ac(130,"translate"),s.Pb(),s.Fc(131,"\n                        "),s.Dc(132,At,2,2,"option",19),s.ac(133,"translateObjects"),s.Fc(134,"\n                    "),s.Pb(),s.Fc(135,"\n                    "),s.Qb(136,"div",14),s.Fc(137),s.ac(138,"translate"),s.Pb(),s.Fc(139,"\n                "),s.Pb(),s.Fc(140,"\n            "),s.Pb(),s.Fc(141,"\n            "),s.Qb(142,"div",6),s.Fc(143,"\n                "),s.Qb(144,"label",29),s.Fc(145),s.ac(146,"translate"),s.Pb(),s.Fc(147,"\n                "),s.Qb(148,"div",9),s.Fc(149,"\n                    "),s.Qb(150,"select",30,31),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.mainNationalityId=t}),s.Fc(152,"\n                        "),s.Qb(153,"option",18),s.Fc(154),s.ac(155,"translate"),s.Pb(),s.Fc(156,"\n                        "),s.Dc(157,Rt,2,2,"option",19),s.ac(158,"translateObjects"),s.Fc(159,"\n                    "),s.Pb(),s.Fc(160,"\n                    "),s.Qb(161,"div",14),s.Fc(162),s.ac(163,"translate"),s.Pb(),s.Fc(164,"\n                "),s.Pb(),s.Fc(165,"\n                "),s.Qb(166,"label",32),s.Fc(167),s.ac(168,"translate"),s.Pb(),s.Fc(169,"\n                "),s.Qb(170,"div",9),s.Fc(171,"\n                    "),s.Qb(172,"select",33,34),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.otherNationalityId=t}),s.Fc(174,"\n                        "),s.Qb(175,"option",18),s.Fc(176),s.ac(177,"translate"),s.Pb(),s.Fc(178,"\n                        "),s.Dc(179,Zt,2,2,"option",19),s.ac(180,"translateObjects"),s.Fc(181,"\n                    "),s.Pb(),s.Fc(182,"\n                "),s.Pb(),s.Fc(183,"\n            "),s.Pb(),s.Fc(184,"\n            "),s.Qb(185,"div",6),s.Fc(186,"\n                "),s.Qb(187,"label",35),s.Fc(188),s.ac(189,"translate"),s.Pb(),s.Fc(190,"\n                "),s.Qb(191,"div",9),s.Fc(192,"\n                    "),s.Qb(193,"select",36,37),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.maritalStatusId=t}),s.Fc(195,"\n                        "),s.Qb(196,"option",18),s.Fc(197),s.ac(198,"translate"),s.Pb(),s.Fc(199,"\n                        "),s.Dc(200,Ot,2,2,"option",19),s.ac(201,"translateObjects"),s.Fc(202,"\n                    "),s.Pb(),s.Fc(203,"\n                "),s.Pb(),s.Fc(204,"\n                "),s.Qb(205,"label",38),s.Fc(206),s.ac(207,"translate"),s.Pb(),s.Fc(208,"\n                "),s.Qb(209,"div",9),s.Fc(210,"\n                    "),s.Qb(211,"select",39,40),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.bloodGroupId=t}),s.Fc(213,"\n                        "),s.Qb(214,"option",18),s.Fc(215),s.ac(216,"translate"),s.Pb(),s.Fc(217,"\n                        "),s.Dc(218,Bt,2,2,"option",19),s.ac(219,"translateObjects"),s.Fc(220,"\n                    "),s.Pb(),s.Fc(221,"\n                "),s.Pb(),s.Fc(222,"\n            "),s.Pb(),s.Fc(223,"\n            "),s.Qb(224,"div",6),s.Fc(225,"\n                "),s.Qb(226,"label",41),s.Fc(227),s.ac(228,"translate"),s.Pb(),s.Fc(229,"\n                "),s.Qb(230,"div",9),s.Fc(231,"\n                    "),s.Qb(232,"select",42,43),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.idTypeId=t}),s.Fc(234,"\n                        "),s.Qb(235,"option",18),s.Fc(236),s.ac(237,"translate"),s.Pb(),s.Fc(238,"\n                        "),s.Dc(239,Vt,2,2,"option",19),s.ac(240,"translateObjects"),s.Fc(241,"\n                    "),s.Pb(),s.Fc(242,"\n                "),s.Pb(),s.Fc(243,"\n                "),s.Qb(244,"label",44),s.Fc(245),s.ac(246,"translate"),s.Pb(),s.Fc(247,"\n                "),s.Qb(248,"div",9),s.Fc(249,"\n                    "),s.Qb(250,"input",45,43),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.idNumber=t}),s.Pb(),s.Fc(252,"\n                "),s.Pb(),s.Fc(253,"\n            "),s.Pb(),s.Fc(254,"\n            "),s.Qb(255,"div",6),s.Fc(256,"\n                "),s.Qb(257,"label",46),s.Fc(258),s.ac(259,"translate"),s.Pb(),s.Fc(260,"\n                "),s.Qb(261,"div",47),s.Fc(262,"\n                    "),s.Qb(263,"textarea",48),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.alertMessage=t}),s.Pb(),s.Fc(264,"\n                "),s.Pb(),s.Fc(265,"\n            "),s.Pb(),s.Fc(266,"\n            "),s.Qb(267,"div",6),s.Fc(268,"\n                "),s.Qb(269,"label",7),s.Fc(270),s.ac(271,"translate"),s.Pb(),s.Fc(272,"\n                "),s.Qb(273,"div",47),s.Fc(274,"\n                    "),s.Qb(275,"textarea",49),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.description=t}),s.Pb(),s.Fc(276,"\n                "),s.Pb(),s.Fc(277,"\n            "),s.Pb(),s.Fc(278,"\n\n            "),s.Qb(279,"div",6),s.Fc(280,"\n                "),s.Qb(281,"label",50),s.Fc(282),s.ac(283,"translate"),s.Pb(),s.Fc(284,"\n                "),s.Qb(285,"div",51),s.Fc(286,"\n                    "),s.Qb(287,"image-uploader",52),s.Xb("imageIdChange",function(t){return s.wc(e),s.Zb().model.imageId=t})("imageDataChange",function(t){return s.wc(e),s.Zb().model.imageData=t})("change",function(t){return s.wc(e),s.Zb().imageChanged(t)}),s.Pb(),s.Fc(288,"\n                "),s.Pb(),s.Fc(289,"\n            "),s.Pb(),s.Fc(290,"\n            "),s.Lb(291,"br"),s.Fc(292,"\n            "),s.Qb(293,"div",6),s.Fc(294,"\n                "),s.Qb(295,"div",53),s.Fc(296,"\n                    "),s.Qb(297,"button",54),s.Fc(298),s.ac(299,"translate"),s.Pb(),s.Fc(300,"\n                    "),s.Qb(301,"button",55),s.Xb("click",function(){return s.wc(e),s.Zb().navigateToPackages()}),s.Fc(302),s.ac(303,"translate"),s.Pb(),s.Fc(304,"\n                "),s.Pb(),s.Fc(305,"\n            "),s.Pb(),s.Fc(306,"\n        "),s.Pb()}if(2&e){const e=s.vc(1),t=s.vc(38),n=s.vc(55),i=s.vc(78),c=s.vc(104),a=s.vc(126),o=s.vc(151),r=s.Zb();s.yb(6),s.Hc("",s.bc(7,68,"PatientName")," "),s.yb(4),s.Hc("",r.model.name," "),s.yb(3),s.Hc("",s.bc(14,70,"ClinicMRN")," "),s.yb(4),s.Hc("",r.model.clinicMRN," "),s.yb(6),s.Gc(s.bc(24,72,"UnifiedMRN")),s.yb(5),s.hc("ngModel",r.model.unifiedMRN),s.yb(4),s.Gc(s.bc(33,74,"ClinicMRN")),s.yb(5),s.hc("ngModel",r.model.clinicMRN),s.yb(3),s.hc("hidden",t.valid||t.pristine),s.yb(1),s.Hc("\n                        ",s.bc(42,76,"RequiredField"),"\n                    "),s.yb(8),s.Gc(s.bc(50,78,"BirthCountry")),s.yb(5),s.hc("ngModel",r.model.birthCountryId),s.yb(5),s.Gc(s.bc(60,80,"Select")),s.yb(3),s.hc("ngForOf",s.bc(63,82,r.countries)),s.yb(4),s.hc("hidden",n.valid||n.pristine),s.yb(1),s.Hc("\n                        ",s.bc(68,84,"RequiredField"),"\n                    "),s.yb(5),s.Gc(s.bc(73,86,"BirthState")),s.yb(5),s.hc("ngModel",r.model.birthStateId),s.yb(5),s.Gc(s.bc(83,88,"Select")),s.yb(3),s.hc("ngForOf",s.bc(86,90,r.regions)),s.yb(4),s.hc("hidden",i.valid||i.pristine),s.yb(1),s.Hc("\n                        ",s.bc(91,92,"RequiredField"),"\n                    "),s.yb(8),s.Gc(s.bc(99,94,"BirthCity")),s.yb(5),s.hc("ngModel",r.model.birthCityId),s.yb(4),s.Gc(s.bc(108,96,"Select")),s.yb(3),s.hc("ngForOf",s.bc(111,98,r.cities)),s.yb(4),s.hc("hidden",c.valid||c.pristine),s.yb(1),s.Hc("\n                        ",s.bc(116,100,"RequiredField"),"\n                    "),s.yb(5),s.Gc(s.bc(121,102,"Religion")),s.yb(5),s.hc("ngModel",r.model.religionId),s.yb(4),s.Gc(s.bc(130,104,"Select")),s.yb(3),s.hc("ngForOf",s.bc(133,106,r.religions)),s.yb(4),s.hc("hidden",a.valid||a.pristine),s.yb(1),s.Hc("\n                        ",s.bc(138,108,"RequiredField"),"\n                    "),s.yb(8),s.Gc(s.bc(146,110,"MainNationality")),s.yb(5),s.hc("ngModel",r.model.mainNationalityId),s.yb(4),s.Gc(s.bc(155,112,"Select")),s.yb(3),s.hc("ngForOf",s.bc(158,114,r.nationalities)),s.yb(4),s.hc("hidden",o.valid||o.pristine),s.yb(1),s.Hc("\n                        ",s.bc(163,116,"RequiredField"),"\n                    "),s.yb(5),s.Gc(s.bc(168,118,"OtherNationality")),s.yb(5),s.hc("ngModel",r.model.otherNationalityId),s.yb(4),s.Gc(s.bc(177,120,"Select")),s.yb(3),s.hc("ngForOf",s.bc(180,122,r.nationalities)),s.yb(9),s.Gc(s.bc(189,124,"MaritalStatus")),s.yb(5),s.hc("ngModel",r.model.maritalStatusId),s.yb(4),s.Gc(s.bc(198,126,"Select")),s.yb(3),s.hc("ngForOf",s.bc(201,128,r.maritalStatuses)),s.yb(6),s.Gc(s.bc(207,130,"BloodGroup")),s.yb(5),s.hc("ngModel",r.model.bloodGroupId),s.yb(4),s.Gc(s.bc(216,132,"Select")),s.yb(3),s.hc("ngForOf",s.bc(219,134,r.bloodGroups)),s.yb(9),s.Gc(s.bc(228,136,"IDType")),s.yb(5),s.hc("ngModel",r.model.idTypeId),s.yb(4),s.Gc(s.bc(237,138,"Select")),s.yb(3),s.hc("ngForOf",s.bc(240,140,r.idTypes)),s.yb(6),s.Gc(s.bc(246,142,"IdNumber")),s.yb(5),s.hc("ngModel",r.model.idNumber),s.yb(8),s.Gc(s.bc(259,144,"AlertMessage")),s.yb(5),s.hc("ngModel",r.model.alertMessage),s.yb(7),s.Hc("",s.bc(271,146,"Remarks")," "),s.yb(5),s.hc("ngModel",r.model.description),s.yb(7),s.Gc(s.bc(283,148,"Picture")),s.yb(5),s.hc("imageId",r.model.imageId)("imageData",r.model.imageData),s.yb(10),s.hc("disabled",!e.form.valid),s.yb(1),s.Gc(s.bc(299,150,"Save")),s.yb(4),s.Hc("",s.bc(303,152,"Back")," ")}}let Ut=(()=>{class e{constructor(e,t,n,i,c,a,o){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.router=a,this.translate=o,this.selectBasicTab=!0,this.model={},this.onModelUpdated=new s.n,this.patientId="",this.title="",this.active=!0,this.countries=[],this.regions=[],this.cities=[],this.religions=[],this.nationalities=[],this.maritalStatuses=[],this.idTypes=[],this.bloodGroups=[],this.showProgress=!1,this.utilityClass=new N.a}ngOnInit(){let e=this;this.selectedClinicId=this.storage.retrieve("ClinicID"),e.showProgress=!0,this.patientService.getPatientPersonalWrapper().subscribe(function(t){e.countries=t.countries,e.religions=t.religions,e.nationalities=t.nationalities,e.bloodGroups=t.bloodGroups,e.idTypes=t.idTypes,e.maritalStatuses=t.maritalStatuses},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}ngOnChanges(){}ngAfterContentChecked(){let e=this;null!=e&&null!=e&&null!=e.model&&(null!=e.model.birthCountryId&&e.model.birthCountryId>0&&e.fillRegions(e.model.birthCountryId),null!=e.model.birthStateId&&e.model.birthStateId>0&&e.fillCities(e.model.birthStateId))}onSubmit(){let e=this;e.showProgress=!0,this.patientService.updatePatientPersonalData(this.model).subscribe(function(t){e.model=t,e.model.birthDate&&(e.model.birthDate=e.utilityClass.getUtcDateFromString(e.model.birthDate)),e.raiseModelUpdated(e.model);let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),null!=t.imageData&&(e.model.imageData=t.imageData,e.model.imageId=t.imageId)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}clear(){this.model={},this.active=!1,setTimeout(()=>this.active=!0,0)}deleteOrganization(e){(null==e||isNaN(e))&&this.toastr.warning("\u0644\u0627\u064a\u0648\u062c\u062f \u062c\u0645\u0639\u064a\u0629 \u0645\u062e\u062a\u0627\u0631\u0629 \u0644\u0645\u0633\u062d\u0647\u0627","")}imageChanged(e){let t={};if(null!=e){if(null==e.originalName)return void(this.model.attachmentInfo=null);this.model.attachmentInfo=t,this.model.attachmentInfo.originalName=e.originalName,this.model.attachmentInfo.keyName=e.keyName,this.model.attachmentInfo.fullPath=e.fullPath,this.model.attachmentInfo.fileType=e.fileType}else this.model.attachmentInfo=null}fillRegions(e){var t=this.countries.find(t=>t.id==e);null!=t?(this.regions=t.regions,this.cities=[]):(this.regions=[],this.cities=[])}fillCities(e){var t=this.regions.find(t=>t.id==e);this.cities=null!=t?t.cities:[]}raiseModelUpdated(e){this.onModelUpdated.emit(e)}navigateToPackages(){this.router.navigate(["/receptionist/patients",this.selectedClinicId])}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(a.b),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-personal"]],viewQuery:function(e,t){if(1&e&&s.Lc(Mt,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{model:"model",patientId:"patientId",title:"title"},outputs:{onModelUpdated:"onModelUpdated"},features:[s.wb],decls:11,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"row","nopadding"],["novalidate","","class","form-horizontal","name","patientForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","patientForm",1,"form-horizontal",3,"ngSubmit"],["patientForm","ngForm"],[1,"form-group"],["for","txtRemarks",1,"control-label","col-md-2"],["for","txtUnifiedMRN",1,"control-label","col-md-2"],[1,"col-md-2"],["id","txtUnifiedMRN","name","txtUnifiedMRN","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","txtClinicMRN",1,"control-label","col-md-2"],["id","txtClinicMRN","name","txtClinicMRN",1,"form-control",3,"ngModel","ngModelChange"],["txtClinicMRN","ngModel"],[1,"alert","alert-danger",3,"hidden"],["for","ddlBirthCountry",1,"control-label","col-md-2"],["id","ddlBirthCountry","name","ddlBirthCountry",1,"form-control",3,"ngModel","ngModelChange","change"],["ddlBirthCountry","ngModel","d",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","ddlBirthState",1,"control-label","col-md-2"],["id","ddlBirthState","name","ddlBirthState",1,"form-control",3,"ngModel","ngModelChange","change"],["ddlBirthState","ngModel","r",""],["for","ddlBirthCity",1,"control-label","col-md-2"],["id","ddlBirthCity","name","ddlBirthCity",1,"form-control",3,"ngModel","ngModelChange"],["ddlBirthCity","ngModel"],["for","ddlReligion",1,"control-label","col-md-2"],["id","ddlReligion","name","ddlReligion","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlReligion","ngModel"],["for","ddlMainNationality",1,"control-label","col-md-2"],["id","ddlMainNationality","name","ddlMainNationality","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlMainNationality","ngModel"],["for","ddlOtherNationality",1,"control-label","col-md-2"],["id","ddlOtherNationality","name","ddlOtherNationality",1,"form-control",3,"ngModel","ngModelChange"],["ddlOtherNationality","ngModel"],["for","ddlMaritalStatus",1,"control-label","col-md-2"],["id","ddlMaritalStatus","name","ddlMaritalStatus",1,"form-control",3,"ngModel","ngModelChange"],["ddlMaritalStatus","ngModel"],["for","ddlBloodGroup",1,"control-label","col-md-2"],["id","ddlBloodGroup","name","ddlBloodGroup",1,"form-control",3,"ngModel","ngModelChange"],["ddlBloodGroup","ngModel"],["for","ddlIDType",1,"control-label","col-md-2"],["id","ddlIDType","name","ddlIDType",1,"form-control",3,"ngModel","ngModelChange"],["ddlIDType","ngModel"],["for","txtIDNumber",1,"control-label","col-md-2"],["type","text","id","txtIdNumber","name","txtIdNumber",1,"form-control",3,"ngModel","ngModelChange"],["for","txtAlertMessage",1,"control-label","col-md-2"],[1,"col-md-6"],["id","txtAlertMessage","name","txtAlertMessage",1,"form-control",3,"ngModel","ngModelChange"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],["for","fileImage",1,"control-label","col-md-2"],[1,"col-md-4"],[3,"imageId","imageData","imageIdChange","imageDataChange","change"],[1,"col-md-4","col-md-offset-2"],[1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s.Dc(0,Lt,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n    "),s.Fc(4,"\n    "),s.Qb(5,"div",2),s.Fc(6,"\n        "),s.Dc(7,Ht,307,154,"form",3),s.Fc(8,"\n    "),s.Pb(),s.Fc(9,"\n"),s.Pb(),s.Fc(10,"\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(7),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,c.b,c.f,c.i,c.p,c.j,c.r,i.j,c.o,Nt.a],pipes:[b.c,A.a],encapsulation:2}),e})();var Kt=n("YBnm");function Xt(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function Et(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",4,5),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n            "),s.Qb(3,"div",6),s.Fc(4,"\n                "),s.Qb(5,"label",7),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n                "),s.Qb(9,"label",7),s.Fc(10),s.Pb(),s.Fc(11,"\n                "),s.Qb(12,"label",7),s.Fc(13),s.ac(14,"translate"),s.Pb(),s.Fc(15,"\n                "),s.Qb(16,"label",7),s.Fc(17),s.Pb(),s.Fc(18,"\n            "),s.Pb(),s.Fc(19,"\n            "),s.Qb(20,"div",6),s.Fc(21,"\n                "),s.Lb(22,"address",8),s.Fc(23,"\n            "),s.Pb(),s.Fc(24,"\n            "),s.Qb(25,"div",6),s.Fc(26,"\n                "),s.Qb(27,"div",9),s.Fc(28,"\n                    "),s.Qb(29,"button",10),s.Fc(30),s.ac(31,"translate"),s.Pb(),s.Fc(32,"\n                    "),s.Qb(33,"button",11),s.Xb("click",function(){return s.wc(e),s.Zb().navigateToPackages()}),s.Fc(34),s.ac(35,"translate"),s.Pb(),s.Fc(36,"\n                "),s.Pb(),s.Fc(37,"\n            "),s.Pb(),s.Fc(38,"\n        "),s.Pb()}if(2&e){const e=s.vc(1),t=s.Zb();s.yb(6),s.Hc("",s.bc(7,8,"PatientName")," "),s.yb(4),s.Hc("",t.model.name," "),s.yb(3),s.Hc("",s.bc(14,10,"ClinicMRN")," "),s.yb(4),s.Hc("",t.model.clinicMRN," "),s.yb(5),s.hc("reachInfo",t.model.reachInfo),s.yb(7),s.hc("disabled",!e.form.valid),s.yb(1),s.Gc(s.bc(31,12,"Save")),s.yb(4),s.Gc(s.bc(35,14,"Back"))}}let qt=(()=>{class e{constructor(e,t,n,i,c,a){this.patientService=e,this.localStorage=t,this.toastr=n,this._route=i,this.router=c,this.translate=a,this.selectAddressTab=!0,this.patientId="",this.onModelUpdated=new s.n,this.model={},this.title="",this.utilityClass=new N.a,this.active=!0,this.showProgress=!1}ngOnInit(){this.selectedClinicId=this.localStorage.retrieve("ClinicID")}ngOnChanges(){null!=this.model.reachInfo&&null!=this.model.reachInfo||(this.model.reachInfo={})}clear(){}onSubmit(){let e=this;e.showProgress=!0,this.patientService.saveorUpdateReachInformation(this.model).subscribe(function(t){e.model=t,e.model.birthDate&&(e.model.birthDate=e.utilityClass.getUtcDateFromString(e.model.birthDate)),e.raiseModelUpdated(e.model);let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,"")},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}raiseModelUpdated(e){this.onModelUpdated.emit(e)}navigateToPackages(){this.router.navigate(["/receptionist/patients",this.selectedClinicId])}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(d.a),s.Kb(l.b),s.Kb(a.a),s.Kb(a.b),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-address"]],inputs:{patientId:"patientId",model:"model",title:"title"},outputs:{onModelUpdated:"onModelUpdated"},features:[s.wb],decls:11,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"row","nopadding"],["novalidate","","class","form-horizontal","name","addressForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","addressForm",1,"form-horizontal",3,"ngSubmit"],["addressForm","ngForm"],[1,"form-group"],["for","txtRemarks",1,"control-label","col-md-2"],[3,"reachInfo"],[1,"col-md-offset-2","col-md-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(s.Dc(0,Xt,4,0,"div",0),s.Fc(1,"\n\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n    "),s.Fc(4,"\n    "),s.Qb(5,"div",2),s.Fc(6,"\n        "),s.Dc(7,Et,39,16,"form",3),s.Fc(8,"\n\n    "),s.Pb(),s.Fc(9,"\n"),s.Pb(),s.Fc(10,"\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(7),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,Kt.a],pipes:[b.c],encapsulation:2}),e})();const zt=["fileInput"];function jt(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function $t(e,t){if(1&e&&(s.Qb(0,"option",25),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}function _t(e,t){if(1&e&&(s.Qb(0,"option",25),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}const Yt=function(){return{standalone:!0}};function Wt(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",3,4),s.Xb("ngSubmit",function(){return s.wc(e),s.Zb().onSubmit()}),s.Fc(2,"\n            "),s.Qb(3,"div",5),s.Fc(4,"\n                "),s.Qb(5,"label",6),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n                "),s.Qb(9,"div",7),s.Fc(10,"\n                    "),s.Qb(11,"select",8,9),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.companyId=t})("change",function(){s.wc(e);const t=s.vc(13);return s.Zb().fillPolicies(t.value)}),s.Fc(14,"\n                        "),s.Dc(15,$t,2,2,"option",10),s.ac(16,"translateObjects"),s.Fc(17,"\n                    "),s.Pb(),s.Fc(18,"\n                "),s.Pb(),s.Fc(19,"\n                "),s.Qb(20,"label",11),s.Fc(21),s.ac(22,"translate"),s.Pb(),s.Fc(23,"\n                "),s.Qb(24,"div",7),s.Fc(25,"\n                    "),s.Qb(26,"select",12,13),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.policyId=t}),s.Fc(28,"\n                        "),s.Dc(29,_t,2,2,"option",10),s.ac(30,"translateObjects"),s.Fc(31,"\n                    "),s.Pb(),s.Fc(32,"\n                "),s.Pb(),s.Fc(33,"\n            "),s.Pb(),s.Fc(34,"\n            "),s.Qb(35,"div",5),s.Fc(36,"\n                "),s.Qb(37,"label",14),s.Fc(38),s.ac(39,"translate"),s.Pb(),s.Fc(40,"\n                "),s.Qb(41,"div",7),s.Fc(42,"\n                    "),s.Qb(43,"p-calendar",15),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.startDate=t}),s.Pb(),s.Fc(44,"\n                "),s.Pb(),s.Fc(45,"\n                "),s.Qb(46,"label",16),s.Fc(47),s.ac(48,"translate"),s.Pb(),s.Fc(49,"\n                "),s.Qb(50,"div",7),s.Fc(51,"\n                    "),s.Qb(52,"p-calendar",15),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.endDate=t}),s.Pb(),s.Fc(53,"\n                "),s.Pb(),s.Fc(54,"\n            "),s.Pb(),s.Fc(55,"\n            "),s.Qb(56,"div",5),s.Fc(57,"\n                "),s.Qb(58,"label",17),s.Fc(59),s.ac(60,"translate"),s.Pb(),s.Fc(61,"\n                "),s.Qb(62,"div",7),s.Fc(63,"\n                    "),s.Qb(64,"input",18),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.cardNumber=t}),s.Pb(),s.Fc(65,"\n                "),s.Pb(),s.Fc(66,"\n            "),s.Pb(),s.Fc(67,"\n            "),s.Qb(68,"div",5),s.Fc(69,"\n                "),s.Qb(70,"label",19),s.Fc(71),s.ac(72,"translate"),s.Pb(),s.Fc(73,"\n                "),s.Qb(74,"div",20),s.Fc(75,"\n                    "),s.Qb(76,"textarea",21),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().model.description=t}),s.Pb(),s.Fc(77,"\n                "),s.Pb(),s.Fc(78,"\n            "),s.Pb(),s.Fc(79,"\n            "),s.Lb(80,"br"),s.Fc(81,"\n            "),s.Qb(82,"div",5),s.Fc(83,"\n                "),s.Qb(84,"div",22),s.Fc(85,"\n                    "),s.Qb(86,"button",23),s.Fc(87),s.ac(88,"translate"),s.Pb(),s.Fc(89,"\n                    "),s.Qb(90,"button",24),s.Xb("click",function(){return s.wc(e),s.Zb().clear()}),s.Fc(91),s.ac(92,"translate"),s.Pb(),s.Fc(93,"\n                    "),s.Qb(94,"button",24),s.Xb("click",function(){return s.wc(e),s.Zb().onClick()}),s.Fc(95),s.ac(96,"translate"),s.Pb(),s.Fc(97,"\n                "),s.Pb(),s.Fc(98,"\n            "),s.Pb(),s.Fc(99,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(6),s.Gc(s.bc(7,27,"InsuranceCompany")),s.yb(5),s.hc("ngModel",e.model.companyId),s.yb(4),s.hc("ngForOf",s.bc(16,29,e.companies)),s.yb(6),s.Gc(s.bc(22,31,"PolicyName")),s.yb(5),s.hc("ngModel",e.model.policyId),s.yb(3),s.hc("ngForOf",s.bc(30,33,e.policies)),s.yb(9),s.Hc(" ",s.bc(39,35,"StartDate"),""),s.yb(5),s.hc("ngModel",e.model.startDate)("monthNavigator",!0)("yearNavigator",!0)("showIcon",!0)("required",!0)("ngModelOptions",s.lc(49,Yt)),s.yb(4),s.Hc(" ",s.bc(48,37,"EndDate"),""),s.yb(5),s.hc("ngModel",e.model.endDate)("monthNavigator",!0)("yearNavigator",!0)("showIcon",!0)("required",!0)("ngModelOptions",s.lc(50,Yt)),s.yb(7),s.Gc(s.bc(60,39,"CardNumber")),s.yb(5),s.hc("ngModel",e.model.cardNumber),s.yb(7),s.Hc("",s.bc(72,41,"Description")," "),s.yb(5),s.hc("ngModel",e.model.description),s.yb(11),s.Gc(s.bc(88,43,"Save")),s.yb(4),s.Gc(s.bc(92,45,"New")),s.yb(4),s.Gc(s.bc(96,47,"Back"))}}let Jt=(()=>{class e{constructor(e,t,n,i,c,a){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.patientId="",this.insuranceId="",this.title="",this.isTableViewValue=new s.n,this.active=!0,this.model={},this.isTableView=!0,this.companies=[],this.policies=[],this.utilityClass=new N.a,this.showProgress=!1}ngOnInit(){let e=this;e.showProgress=!0,e.insuranceIdvalue=e.insuranceId,this.patientService.getpatientInsuranceWrapper().subscribe(function(t){e.companies=t.companies},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}),"new"!=this.insuranceIdvalue.toString().toLowerCase()&&(e.showProgress=!0,this.patientService.getPatientInsuranceById(this.insuranceIdvalue).subscribe(function(t){e.model=t,e.model.startDate&&(e.model.startDate=e.utilityClass.getUtcDateFromString(e.model.startDate)),e.model.endDate&&(e.model.endDate=e.utilityClass.getUtcDateFromString(e.model.endDate))},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}ngAfterContentChecked(){let e=this;null!=e.model.companyId&&e.model.companyId>0&&e.fillPolicies(e.model.companyId)}fillPolicies(e){var t=this.companies.find(t=>t.id==e);this.policies=null!=t?t.insurancePolicies:[]}onSubmit(){let e=this;e.showProgress=!0,e.model.patientId=e.patientId,this.model.startDate&&(this.model.startDate=this.utilityClass.getUtcDate(this.model.startDate)),this.model.endDate&&(this.model.endDate=this.utilityClass.getUtcDate(this.model.endDate)),isNaN(e.insuranceIdvalue)&&"new"==e.insuranceIdvalue.toString().toLowerCase()?this.patientService.createPatientInsurance(this.model).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.model=t,e.model.startDate=e.utilityClass.getUtcDateFromString(e.model.startDate),e.model.endDate=e.utilityClass.getUtcDateFromString(e.model.endDate)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}):this.patientService.updatePatientInsurance(this.model).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.model=t,e.model.startDate=e.utilityClass.getUtcDateFromString(e.model.startDate),e.model.endDate=e.utilityClass.getUtcDateFromString(e.model.endDate)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}onClick(){this.isTableViewValue.emit(this.isTableView)}clear(){this.model={},this.active=!1,this.insuranceIdvalue="new",setTimeout(()=>this.active=!0,0)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-insurance-details"]],viewQuery:function(e,t){if(1&e&&s.Lc(zt,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{patientId:"patientId",insuranceId:"insuranceId",title:"title"},outputs:{isTableViewValue:"isTableViewValue"},decls:7,vars:2,consts:[[4,"ngIf"],[1,"row"],["novalidate","","class","form-horizontal","name","organizationForm",3,"ngSubmit",4,"ngIf"],["novalidate","","name","organizationForm",1,"form-horizontal",3,"ngSubmit"],["organizationForm","ngForm"],[1,"form-group"],["for","ddlCompany",1,"control-label","col-md-2"],[1,"col-md-3"],["id","ddlCompany","name","ddlCompany","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["ddlCompany","ngModel","d",""],[3,"value",4,"ngFor","ngForOf"],["for","ddlPolicy",1,"control-label","col-md-2"],["id","ddlPolicy","name","ddlPolicy","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlPolicy","ngModel"],["for","txtPhysicalStartDate",1,"control-label","col-md-2"],["dateFormat","dd/mm/yy","yearRange","2000:2050",3,"ngModel","monthNavigator","yearNavigator","showIcon","required","ngModelOptions","ngModelChange"],["for","txtPhysicalEndDate",1,"control-label","col-md-2"],["for","txtcardNumber",1,"control-label","col-md-2"],["id","txtcardNumber","name","txtcardNumber",1,"form-control",3,"ngModel","ngModelChange"],["for","txtRemarks",1,"control-label","col-md-2"],[1,"col-md-6"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","col-md-offset-2"],[1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s.Dc(0,jt,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n        "),s.Dc(4,Wt,100,51,"form",2),s.Fc(5,"\n"),s.Pb(),s.Fc(6,"\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(4),s.hc("ngIf",t.active))},directives:[i.k,L.a,c.q,c.g,c.h,c.p,c.o,c.f,c.i,i.j,Y.a,c.b,c.j,c.r],pipes:[b.c,A.a],encapsulation:2}),e})();const en=["fileInput"];function tn(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function nn(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",13),s.Fc(1,"\n        "),s.Qb(2,"div",14),s.Fc(3,"\n            "),s.Qb(4,"div",15),s.Fc(5,"\n                "),s.Qb(6,"div",16),s.Fc(7,"\n                    "),s.Qb(8,"label",17),s.Fc(9,"Insured?"),s.Pb(),s.Fc(10,"\n                    \xa0\xa0\xa0\n                    "),s.Qb(11,"label"),s.Fc(12,"\n                        "),s.Qb(13,"input",18),s.Xb("click",function(t){s.wc(e);const n=s.Zb();return n.changeInsuranceStatus(n.patientModel.id,t)}),s.Pb(),s.Fc(14,"\n                        "),s.Lb(15,"span",19),s.Fc(16,"\n                    "),s.Pb(),s.Fc(17," \n                    \xa0\xa0\xa0\n                    \xa0\xa0\xa0\n                    "),s.Fc(18,"\n                "),s.Pb(),s.Fc(19,"\n            "),s.Pb(),s.Fc(20,"\n            "),s.Lb(21,"hr"),s.Fc(22,"\n            "),s.Qb(23,"div",1),s.Fc(24,"\n                "),s.Qb(25,"div",20),s.Fc(26,"\n                    "),s.Lb(27,"input",21,22),s.Fc(29,"\n                "),s.Pb(),s.Fc(30,"\n                "),s.Qb(31,"div",23),s.Fc(32,"\n                    "),s.Qb(33,"button",24),s.Xb("click",function(){return s.wc(e),s.Zb().setInsuranceIdValue("new")})("disabledChange",function(t){return s.wc(e),!(s.Zb().patientModel.isInsured=t)}),s.Fc(34),s.ac(35,"translate"),s.Pb(),s.Fc(36,"\n\n                    "),s.Qb(37,"button",25),s.Xb("click",function(){return s.wc(e),s.Zb().navigateToPackages()}),s.Fc(38),s.ac(39,"translate"),s.Pb(),s.Fc(40,"                "),s.Pb(),s.Fc(41,"\n            "),s.Pb(),s.Fc(42,"\n            "),s.Lb(43,"div",26),s.Fc(44,"\n            "),s.Qb(45,"div",1),s.Fc(46,"\n                "),s.Fc(47,"\n                "),s.Fc(48,"\n            "),s.Pb(),s.Fc(49,"\n        "),s.Pb(),s.Fc(50,"\n    "),s.Pb()}if(2&e){const e=s.Zb();s.yb(13),s.hc("checked",e.patientModel.isInsured),s.yb(20),s.hc("disabled",!e.patientModel.isInsured),s.yb(1),s.Gc(s.bc(35,4,"New")),s.yb(4),s.Gc(s.bc(39,6,"Back"))}}function cn(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div"),s.Fc(1,"\n        "),s.Qb(2,"patient-insurance-details",27),s.Xb("isTableViewValue",function(t){return s.wc(e),s.Zb().onIsTableViewValue(t)}),s.Pb(),s.Fc(3,"\n    "),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("patientId",e.patientIdValue)("insuranceId",e.insuranceId)}}let an=(()=>{class e{constructor(e,t,n,i,c,a,o){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.router=a,this.translate=o,this.selectBasicTab=!0,this.patientId="",this.onModelUpdated=new s.n,this.lstToTranslated=[],this.active=!0,this.model={},this.hasInsurance=!1,this.isTableView=!0,this.showProgress=!1,this.tst="test",this.utilityClass=new N.a}ngOnInit(){this.lstToTranslated=["companyName","companyNameTranslation","policyName","policyNameTranslation","patientName","patientNameTranslation"];let e=this;this.selectedClinicId=this.storage.retrieve("ClinicID"),e.showProgress=!0,e.patientIdValue=e.patientId,"new"!=this.patientIdValue.toString().toLowerCase()?e.loadPatientInsurances():e.showProgress=!1}ngOnChanges(){let e=this;e.patientIdValue=e.patientModel.id,e.hasInsurance=!!e.patientModel.isInsured}loadPatientInsurances(){let e=this;this.patientService.getAllPatientInsurances(e.patientIdValue).subscribe(function(t){e.insurances=t,e.patientModel.birthDate&&(e.patientModel.birthDate=e.utilityClass.getUtcDateFromString(e.patientModel.birthDate))},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}changeActivation(e,t){let n=this;n.showProgress=!0,this.patientService.togglePatientInsuranceActivation(e).subscribe(function(e){n.loadPatientInsurances()},function(e){n.toastr.error(e,""),n.showProgress=!1},function(){n.showProgress=!1})}editItem(e){this.isTableView=!1,this.insuranceId=e}setInsuranceIdValue(e){this.isTableView=!1,this.insuranceId=e}onIsTableViewValue(e){this.isTableView=e,this.loadPatientInsurances()}selectPatientInsuranceToDelete(e){this.insuranceToBeDeleted=e}deleteSelectedItem(){let e=this;if(""!=this.insuranceToBeDeleted)e.showProgress=!0,this.patientService.deletePatientInsurance(this.insuranceToBeDeleted).subscribe(function(t){let n=e.translate.instant("DeletedSuccessfully");e.toastr.success(n,"");var i=e.insurances.find(t=>t.id==e.insuranceToBeDeleted),c=e.insurances.indexOf(i);c>-1&&e.insurances.splice(c,1)},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1});else{let t=e.translate.instant("ItemToBeDeleted");e.toastr.warning(t,"")}}navigateToPackages(){this.router.navigate(["/receptionist/patients",this.selectedClinicId])}changeInsuranceStatus(e,t){let n=this;n.showProgress=!0,n.patientModel.isInsured=!!t.target.checked,this.patientService.updatePatientPersonalData(n.patientModel).subscribe(function(e){n.patientModel=e,n.model.birthDate&&(n.model.birthDate=n.utilityClass.getUtcDateFromString(n.model.birthDate)),n.raiseModelUpdated(n.patientModel)},function(e){n.toastr.error(e,""),n.showProgress=!1},function(){n.showProgress=!1})}raiseModelUpdated(e){this.onModelUpdated.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(a.b),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-insurance"]],viewQuery:function(e,t){if(1&e&&s.Lc(en,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{patientId:"patientId",patientModel:"patientModel"},outputs:{onModelUpdated:"onModelUpdated"},features:[s.wb],decls:48,vars:15,consts:[[4,"ngIf"],[1,"row"],["class","row nopadding",4,"ngIf"],["id","deleteAppointmentSchedule","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary"],[1,"row","nopadding"],[1,"padding5"],[1,"row",2,"vertical-align","middle"],[1,"col-md-12"],[1,"lead"],["type","checkbox","id","chkBoxHasInsurance","name","chkBoxHasInsurance",1,"ace","ace-switch","ace-switch-6",3,"checked","click"],[1,"lbl"],[1,"col-md-4","nopadding"],["type","text","placeholder","Search...",1,"form-control"],["gb",""],[1,"col-md-8","align-reverse","nopadding"],["type","button",1,"btn","btn-primary",3,"disabled","click","disabledChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"padding2"],[3,"patientId","insuranceId","isTableViewValue"]],template:function(e,t){1&e&&(s.Dc(0,tn,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n   "),s.Fc(4,"\n    "),s.Dc(5,nn,51,8,"div",2),s.Fc(6,"\n    "),s.Dc(7,cn,4,2,"div",0),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n"),s.Qb(10,"div",3),s.Fc(11,"\n    "),s.Qb(12,"div",4),s.Fc(13,"\n        "),s.Fc(14,"\n        "),s.Qb(15,"div",5),s.Fc(16,"\n            "),s.Qb(17,"div",6),s.Fc(18,"\n                "),s.Qb(19,"button",7),s.Fc(20,"\xd7"),s.Pb(),s.Fc(21,"\n                "),s.Qb(22,"h4",8),s.Fc(23),s.ac(24,"translate"),s.Pb(),s.Fc(25,"\n            "),s.Pb(),s.Fc(26,"\n            "),s.Qb(27,"div",9),s.Fc(28,"\n                "),s.Qb(29,"p"),s.Fc(30),s.ac(31,"translate"),s.Pb(),s.Fc(32,"\n            "),s.Pb(),s.Fc(33,"\n            "),s.Qb(34,"div",10),s.Fc(35,"\n                "),s.Qb(36,"button",11),s.Xb("click",function(){return t.deleteSelectedItem()}),s.Fc(37),s.ac(38,"translate"),s.Pb(),s.Fc(39,"\n                "),s.Qb(40,"button",12),s.Fc(41),s.ac(42,"translate"),s.Pb(),s.Fc(43,"\n            "),s.Pb(),s.Fc(44,"\n        "),s.Pb(),s.Fc(45,"\n\n    "),s.Pb(),s.Fc(46,"\n"),s.Pb(),s.Fc(47,"\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(5),s.hc("ngIf",t.isTableView),s.yb(2),s.hc("ngIf",!t.isTableView),s.yb(16),s.Gc(s.bc(24,7,"PasswordCriteria")),s.yb(7),s.Gc(s.bc(31,9,"AreYouSureDelete")),s.yb(7),s.Gc(s.bc(38,11,"Yes")),s.yb(4),s.Gc(s.bc(42,13,"No")))},directives:[i.k,L.a,Jt],pipes:[b.c],encapsulation:2}),e})();var sn=n("mzWq"),on=n("D2EG");function rn(e,t){1&e&&(s.Qb(0,"div",16),s.Fc(1,"\n            "),s.Lb(2,"br"),s.Fc(3,"\n            "),s.Qb(4,"h3"),s.Fc(5),s.ac(6,"translate"),s.Pb(),s.Fc(7,"\n        "),s.Pb()),2&e&&(s.yb(5),s.Hc(" ",s.bc(6,1,"PatientClinicalNotes"),""))}function ln(e,t){if(1&e&&(s.Qb(0,"div",17),s.Fc(1,"\n            "),s.Lb(2,"patient-diagnosis",18),s.Fc(3,"\n        "),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("allowEditing",!1)("patientId",e.patientId)}}function dn(e,t){if(1&e&&(s.Qb(0,"div",19),s.Fc(1,"\n            "),s.Lb(2,"patient-medication",18),s.Fc(3,"\n        "),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("allowEditing",!1)("patientId",e.patientId)}}function bn(e,t){if(1&e&&(s.Qb(0,"div",20),s.Fc(1,"\n            "),s.Lb(2,"patient-surgeries",21),s.Fc(3,"\n        "),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("patientId",e.patientId)("patientDOB",e.patientDOB)("allServices",e.allServices)("enable",e.enable)}}function hn(e,t){if(1&e&&(s.Qb(0,"div",22),s.Fc(1,"\n            "),s.Lb(2,"patient-allergies",23),s.Fc(3,"\n        "),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("patientId",e.patientId)("enable",e.enable)}}function un(e,t){1&e&&(s.Qb(0,"div",24),s.Fc(1,"\n            "),s.Fc(2,"\n        "),s.Pb())}function gn(e,t){1&e&&(s.Qb(0,"div",25),s.Fc(1,"\n            "),s.Lb(2,"patient-laboratory"),s.Fc(3,"\n        "),s.Pb())}function pn(e,t){1&e&&(s.Qb(0,"div",26),s.Fc(1,"\n            "),s.Lb(2,"patient-radiology"),s.Fc(3,"\n        "),s.Pb())}let Fn=(()=>{class e{constructor(e,t,n,i,c){this.localStorage=e,this.doctorService=t,this.toastr=n,this._route=i,this.translate=c,this.activeTabIndex=0,this.isDoctor=!1,this.isNotesSelected=!1,this.isDiagnosisSelected=!0,this.isMedicationSelected=!1,this.isSurgeriesSelected=!1,this.isAllergiesSelected=!1,this.isServicesSelected=!1,this.isLaboratorySelected=!1,this.isRadiologySelected=!1,this.headerText=this.translate.instant("Diagnosis"),this.allServices=[],this.divisionId="",this.appointmentId="",this.enable=!0}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.appointmentId=this._route.snapshot.params.appointmentId,this.clinicId=this.localStorage.retrieve("ClinicID");let e=this;"0"==e.divisionId&&"0"==e.appointmentId&&(e.enable=!1),this.getAllServiceGroupsForTreeView(!1)}getAllServiceGroupsForTreeView(e){let t=this;this.doctorService.getServiceGroupsForTreeView(t.clinicId).subscribe(function(e){t.allServices=e},function(e){t.toastr.error(e,"")},function(){})}ngOnChanges(e){}setSelectedTab(e){this.isNotesSelected=!1,this.isDiagnosisSelected=!1,this.isMedicationSelected=!1,this.isSurgeriesSelected=!1,this.isAllergiesSelected=!1,this.isServicesSelected=!1,this.isLaboratorySelected=!1,this.isRadiologySelected=!1,"Notes"==e?this.isNotesSelected=!0:"Diagnosis"==e?(this.isDiagnosisSelected=!0,this.headerText=this.translate.instant("Diagnosis")):"Medication"==e?(this.isMedicationSelected=!0,this.headerText=this.translate.instant("Medication")):"Surgeries"==e?(this.isSurgeriesSelected=!0,this.headerText=this.translate.instant("PastSurgeries")):"Allergies"==e?(this.isAllergiesSelected=!0,this.headerText=this.translate.instant("DrugAllergies")):"Services"==e?(this.isServicesSelected=!0,this.headerText="Services"):"Laboratory"==e?(this.isLaboratorySelected=!0,this.headerText="Lab Tests"):"Radiology"==e&&(this.isRadiologySelected=!0,this.headerText="Radiology Test")}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(d.a),s.Kb(M.a),s.Kb(l.b),s.Kb(a.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-snapshot"]],inputs:{activeTabIndex:"activeTabIndex",patientId:"patientId",patientDOB:"patientDOB"},features:[s.wb],decls:76,vars:32,consts:[[1,"row"],[1,"col-md-2","nopadding"],["id","nav",1,"list-group"],[1,"aStyle",3,"click"],[1,"nav-label","spanActive"],[1,"nav-icon"],[1,"nav-label"],[1,"col-md-10","nopadding"],["id","notes",4,"ngIf"],["id","diagnosis",4,"ngIf"],["id","medication",4,"ngIf"],["id","surgeries",4,"ngIf"],["id","allergies",4,"ngIf"],["id","services",4,"ngIf"],["id","laboratory",4,"ngIf"],["id","radiology",4,"ngIf"],["id","notes"],["id","diagnosis"],[3,"allowEditing","patientId"],["id","medication"],["id","surgeries"],[3,"patientId","patientDOB","allServices","enable"],["id","allergies"],[3,"patientId","enable"],["id","services"],["id","laboratory"],["id","radiology"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Fc(1,"\n    "),s.Qb(2,"div",1),s.Fc(3,"\n        "),s.Qb(4,"ul",2),s.Fc(5,"\n            "),s.Fc(6,"\n            "),s.Qb(7,"li"),s.Fc(8,"\n                "),s.Qb(9,"a",3),s.Xb("click",function(){return t.setSelectedTab("Diagnosis")}),s.Fc(10,"\n                  "),s.Qb(11,"span",4),s.Fc(12),s.ac(13,"translate"),s.Pb(),s.Fc(14,"\n                "),s.Pb(),s.Fc(15,"\n            "),s.Pb(),s.Fc(16,"\n            "),s.Qb(17,"li"),s.Fc(18,"\n                "),s.Qb(19,"a",3),s.Xb("click",function(){return t.setSelectedTab("Medication")}),s.Fc(20,"\n                    "),s.Lb(21,"span",5),s.Qb(22,"span",6),s.Fc(23),s.ac(24,"translate"),s.Pb(),s.Fc(25,"\n                "),s.Pb(),s.Fc(26,"\n            "),s.Pb(),s.Fc(27,"\n            "),s.Qb(28,"li"),s.Fc(29,"\n                "),s.Qb(30,"a",3),s.Xb("click",function(){return t.setSelectedTab("Surgeries")}),s.Fc(31,"\n                    "),s.Lb(32,"span",5),s.Qb(33,"span",6),s.Fc(34),s.ac(35,"translate"),s.Pb(),s.Fc(36,"\n                "),s.Pb(),s.Fc(37,"\n            "),s.Pb(),s.Fc(38,"\n            "),s.Qb(39,"li"),s.Fc(40,"\n        "),s.Qb(41,"a",3),s.Xb("click",function(){return t.setSelectedTab("Allergies")}),s.Fc(42,"\n            "),s.Lb(43,"span",5),s.Qb(44,"span",6),s.Fc(45),s.ac(46,"translate"),s.Pb(),s.Fc(47,"\n                "),s.Pb(),s.Fc(48,"\n            "),s.Pb(),s.Fc(49,"\n            "),s.Fc(50,"\n            "),s.Fc(51,"\n            "),s.Fc(52,"\n        "),s.Pb(),s.Fc(53,"\n    "),s.Pb(),s.Fc(54,"\n    "),s.Qb(55,"div",7),s.Fc(56,"\n        "),s.Fc(57,"\n        "),s.Dc(58,rn,8,3,"div",8),s.Fc(59,"\n        "),s.Dc(60,ln,4,2,"div",9),s.Fc(61,"\n        "),s.Dc(62,dn,4,2,"div",10),s.Fc(63,"\n        "),s.Dc(64,bn,4,4,"div",11),s.Fc(65,"\n        "),s.Dc(66,hn,4,2,"div",12),s.Fc(67,"\n        "),s.Dc(68,un,3,0,"div",13),s.Fc(69,"\n        "),s.Dc(70,gn,4,0,"div",14),s.Fc(71,"\n        "),s.Dc(72,pn,4,0,"div",15),s.Fc(73,"\n    "),s.Pb(),s.Fc(74,"\n"),s.Pb(),s.Fc(75,"\n\n")),2&e&&(s.yb(7),s.Bb("",t.isDiagnosisSelected?"selectednavbaritem active":""," pointer list-group-item"),s.yb(5),s.Hc("\xa0",s.bc(13,24,"Diagnosis"),""),s.yb(5),s.Bb("",t.isMedicationSelected?"selectednavbaritem active":""," pointer list-group-item"),s.yb(6),s.Hc("\xa0",s.bc(24,26,"Medication"),""),s.yb(5),s.Bb("",t.isSurgeriesSelected?"selectednavbaritem active":""," pointer list-group-item"),s.yb(6),s.Hc("\xa0",s.bc(35,28,"PastSurgeries"),""),s.yb(5),s.Bb("",t.isAllergiesSelected?"selectednavbaritem active":""," pointer list-group-item"),s.yb(6),s.Hc("\xa0",s.bc(46,30,"DrugAllergies"),""),s.yb(13),s.hc("ngIf",t.isNotesSelected),s.yb(2),s.hc("ngIf",t.isDiagnosisSelected),s.yb(2),s.hc("ngIf",t.isMedicationSelected),s.yb(2),s.hc("ngIf",t.isSurgeriesSelected),s.yb(2),s.hc("ngIf",t.isAllergiesSelected),s.yb(2),s.hc("ngIf",t.isServicesSelected),s.yb(2),s.hc("ngIf",t.isLaboratorySelected),s.yb(2),s.hc("ngIf",t.isRadiologySelected))},directives:[i.k,_,Fe,Ce,He,tt,pt],pipes:[b.c],encapsulation:2}),e})();var mn=n("286d");function fn(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function vn(e,t){1&e&&s.Lb(0,"img",28)}function yn(e,t){if(1&e&&(s.Qb(0,"tr"),s.Fc(1,"\n                    "),s.Qb(2,"td"),s.Fc(3),s.Pb(),s.Fc(4,"\n                    "),s.Qb(5,"td"),s.Fc(6),s.Pb(),s.Fc(7,"\n                    "),s.Qb(8,"td"),s.Fc(9),s.Pb(),s.Fc(10,"\n                    "),s.Qb(11,"td"),s.Fc(12),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"td"),s.Fc(15),s.Pb(),s.Fc(16,"\n                    "),s.Qb(17,"td"),s.Fc(18),s.Pb(),s.Fc(19,"\n                    "),s.Qb(20,"td"),s.Fc(21,"\n                        "),s.Dc(22,vn,1,0,"img",27),s.Fc(23,"\n                    "),s.Pb(),s.Fc(24,"\n                "),s.Pb()),2&e){const e=t.$implicit;s.yb(3),s.Gc(e.diagnoseCode),s.yb(3),s.Gc(e.diagnoseName),s.yb(3),s.Gc(e.dateTimeString),s.yb(3),s.Gc(e.description),s.yb(3),s.Gc(e.doctorName),s.yb(3),s.Gc(e.status),s.yb(4),s.hc("ngIf",e.isCurrent)}}function Pn(e,t){if(1&e&&(s.Qb(0,"tr"),s.Fc(1,"\n                    "),s.Qb(2,"td"),s.Fc(3),s.Pb(),s.Fc(4,"\n                    "),s.Qb(5,"td"),s.Fc(6),s.Pb(),s.Fc(7,"\n                    "),s.Qb(8,"td"),s.Fc(9),s.Pb(),s.Fc(10,"\n                    "),s.Qb(11,"td"),s.Fc(12),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"td"),s.Fc(15),s.Pb(),s.Fc(16,"\n                    "),s.Qb(17,"td"),s.Fc(18),s.Pb(),s.Fc(19,"\n                    "),s.Qb(20,"td"),s.Fc(21),s.Pb(),s.Fc(22,"\n                    "),s.Qb(23,"td"),s.Fc(24),s.Pb(),s.Fc(25,"\n                    "),s.Qb(26,"td"),s.Fc(27),s.Pb(),s.Fc(28,"\n                    "),s.Qb(29,"td"),s.Fc(30),s.Pb(),s.Fc(31,"\n                    "),s.Qb(32,"td"),s.Fc(33),s.Pb(),s.Fc(34,"\n                "),s.Pb()),2&e){const e=t.$implicit;s.yb(3),s.Gc(e.drugCode),s.yb(3),s.Gc(e.drugName),s.yb(3),s.Gc(e.dosageQuantity),s.yb(3),s.Gc(e.dosageUnitName),s.yb(3),s.Gc(e.frequencyName),s.yb(3),s.Gc(e.startDateString),s.yb(3),s.Gc(e.duration),s.yb(3),s.Gc(e.description),s.yb(3),s.Gc(e.relatedDiagnoseName),s.yb(3),s.Gc(e.recorderName),s.yb(3),s.Gc(e.recordingDateString)}}function Sn(e,t){if(1&e&&(s.Qb(0,"tr"),s.Fc(1,"\n                    "),s.Qb(2,"td"),s.Fc(3),s.Pb(),s.Fc(4,"\n                    "),s.Qb(5,"td"),s.Fc(6),s.Pb(),s.Fc(7,"\n                    "),s.Qb(8,"td"),s.Fc(9),s.Pb(),s.Fc(10,"\n                    "),s.Qb(11,"td"),s.Fc(12),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"td"),s.Fc(15),s.Pb(),s.Fc(16,"\n                    "),s.Qb(17,"td"),s.Fc(18),s.Pb(),s.Fc(19,"\n                "),s.Pb()),2&e){const e=t.$implicit;s.yb(3),s.Gc(e.serviceCode),s.yb(3),s.Gc(e.serviceName),s.yb(3),s.Gc(e.quantity),s.yb(3),s.Gc(e.discount),s.yb(3),s.Gc(e.diagnoseName),s.yb(3),s.Gc(e.description)}}function In(e,t){if(1&e&&(s.Qb(0,"tr"),s.Fc(1,"\n                    "),s.Qb(2,"td"),s.Fc(3),s.Pb(),s.Fc(4,"\n                    "),s.Qb(5,"td"),s.Fc(6),s.Pb(),s.Fc(7,"\n                    "),s.Qb(8,"td"),s.Fc(9),s.Pb(),s.Fc(10,"\n                    "),s.Qb(11,"td"),s.Fc(12),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"td"),s.Fc(15),s.Pb(),s.Fc(16,"\n                "),s.Pb()),2&e){const e=t.$implicit;s.yb(3),s.Gc(e.labTestCode),s.yb(3),s.Gc(e.labTestName),s.yb(3),s.Gc(e.quantity),s.yb(3),s.Gc(e.diagnoseName),s.yb(3),s.Gc(e.description)}}function Dn(e,t){if(1&e&&(s.Qb(0,"tr"),s.Fc(1,"\n                    "),s.Qb(2,"td"),s.Fc(3),s.Pb(),s.Fc(4,"\n                    "),s.Qb(5,"td"),s.Fc(6),s.Pb(),s.Fc(7,"\n                    "),s.Qb(8,"td"),s.Fc(9),s.Pb(),s.Fc(10,"\n                    "),s.Qb(11,"td"),s.Fc(12),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"td"),s.Fc(15),s.Pb(),s.Fc(16,"\n                "),s.Pb()),2&e){const e=t.$implicit;s.yb(3),s.Gc(e.radTestCode),s.yb(3),s.Gc(e.radTestName),s.yb(3),s.Gc(e.quantity),s.yb(3),s.Gc(e.diagnoseName),s.yb(3),s.Gc(e.description)}}const Qn=function(){return{height:"200px"}},Tn=function(){return{height:"500px"}};let wn=(()=>{class e{constructor(e,t,n,i){this.localStorage=e,this.patientService=t,this.toastr=n,this._route=i,this.PrintNoteDive="PrintArea",this.showProgress=!1,this.model={},this.lstToTranslatedDiagnosis=[],this.lstToTranslatedMedications=[],this.lstToTranslatedLabTests=[],this.lstToTranslatedRadiologyTests=[],this.lstToTranslatedServices=[],this.lstToTranslated=[]}ngOnChanges(e){}ngOnInit(){this.lstToTranslatedDiagnosis=["diagnoseName","diagnoseNameTranslation","visitTypeName","visitTypeNameTranslation","doctorName","doctorNameTranslation"],this.lstToTranslatedMedications=["dosageUnitName","dosageUnitNameTranslation","frequencyName","frequencyNameNameTranslation","relatedDiagnoseName","relatedDiagnoseNameTranslation","recorderName","recorderNameTranslation"],this.lstToTranslatedServices=["serviceName","serviceNameTranslation","diagnoseName","diagnoseNameTranslation","servicePackageName","servicePackageNameTranslation","recorderName","recorderNameTranslation"],this.lstToTranslatedLabTests=["diagnoseName","diagnoseNameTranslation","labTestName","labTestNameTranslation"],this.lstToTranslatedRadiologyTests=["radTestName","radTestNameTranslation","diagnoseName","diagnoseNameTranslation"],this.model.patient={},this.model.patient.activeInsurance={},this.model.chiefComplaint={}}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(d.a),s.Kb(o.a),s.Kb(l.b),s.Kb(a.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-note-view"]],inputs:{model:"model"},features:[s.wb],decls:968,vars:371,consts:[[4,"ngIf"],[3,"section"],[1,"row"],[1,"forum-header"],[1,"col-md-8"],[1,"label","label-success"],[1,"label","label-pink"],[1,"forum-title"],[1,"forum-sub-title"],[1,"topic-meta"],[1,"col-md-4"],[1,"forum-meta"],[1,"forum-meta-info"],[1,"col-md-2"],[1,"col-md-6"],[1,"col-md-1"],[1,"col-md-5"],["readonly","true",3,"ngModel"],["id","PrintArea",1,"row","hidden"],[1,"table","table-condensed",2,"border","none"],["colspan","3"],[1,"table","table-bordered","table-striped"],["width","30%"],["colspan","2"],[1,"table","table-responsive","table-hover","table-bordered","table-striped"],[1,"alert","alert-info"],[4,"ngFor","ngForOf"],["src","assets/images/ok-24.jpg",4,"ngIf"],["src","assets/images/ok-24.jpg"]],template:function(e,t){if(1&e){s.Dc(0,fn,4,0,"div",0),s.Fc(1,"\n\n"),s.Lb(2,"print-page",1),s.Fc(3,"\n\n"),s.Qb(4,"div",2),s.Fc(5,"\n    "),s.Qb(6,"strong"),s.Fc(7),s.ac(8,"translate"),s.Pb(),s.Fc(9),s.Pb(),s.Fc(10,"\n\n"),s.Qb(11,"div",2),s.Fc(12,"\n    "),s.Qb(13,"div",3),s.Fc(14,"\n        "),s.Qb(15,"div",2),s.Fc(16,"\n            "),s.Qb(17,"div",4),s.Fc(18,"\n                "),s.Qb(19,"div"),s.Fc(20,"\n                    "),s.Qb(21,"label",5),s.Fc(22),s.ac(23,"translate"),s.Pb(),s.Fc(24,"\n                    "),s.Qb(25,"label",6),s.Fc(26),s.ac(27,"translate"),s.Pb(),s.Fc(28,"\n                "),s.Pb(),s.Fc(29,"\n                "),s.Qb(30,"h2",7),s.Fc(31),s.Pb(),s.Fc(32,"\n                "),s.Qb(33,"p",8),s.Fc(34,"\n                    "),s.Qb(35,"span",9),s.Fc(36,"\n                        "),s.Qb(37,"em"),s.Fc(38,"\n                            "),s.Qb(39,"strong"),s.Fc(40),s.ac(41,"translate"),s.Pb(),s.Fc(42),s.Pb(),s.Fc(43,"\n                    "),s.Pb(),s.Fc(44,"\n                "),s.Pb(),s.Fc(45,"\n            "),s.Pb(),s.Fc(46,"\n            "),s.Qb(47,"div",10),s.Fc(48,"\n                "),s.Qb(49,"div",11),s.Fc(50,"\n                    "),s.Qb(51,"div",12),s.Fc(52,"\n                        "),s.Qb(53,"ul"),s.Fc(54,"\n                            "),s.Qb(55,"li"),s.Fc(56,"\n                                "),s.Qb(57,"label"),s.Fc(58),s.ac(59,"translate"),s.Pb(),s.Fc(60),s.Pb(),s.Fc(61,"\n                            "),s.Qb(62,"li"),s.Fc(63,"\n                                "),s.Qb(64,"label"),s.Fc(65),s.ac(66,"translate"),s.Pb(),s.Fc(67),s.Pb(),s.Fc(68,"\n                        "),s.Pb(),s.Fc(69,"\n                    "),s.Pb(),s.Fc(70,"\n                "),s.Pb(),s.Fc(71,"\n            "),s.Pb(),s.Fc(72,"\n        "),s.Pb(),s.Fc(73,"\n    "),s.Pb(),s.Fc(74,"\n"),s.Pb(),s.Fc(75,"\n\n"),s.Lb(76,"br"),s.Fc(77,"\n"),s.Qb(78,"h4"),s.Fc(79),s.ac(80,"translate"),s.Pb(),s.Fc(81,"\n"),s.Qb(82,"div",2),s.Fc(83,"\n    "),s.Qb(84,"div",13),s.Fc(85,"\n        "),s.Qb(86,"strong"),s.Fc(87),s.ac(88,"translate"),s.Pb(),s.Fc(89,"\n    "),s.Pb(),s.Fc(90,"\n    "),s.Qb(91,"div",13),s.Fc(92),s.Pb(),s.Fc(93,"\n    "),s.Qb(94,"div",13),s.Fc(95,"\n        "),s.Qb(96,"strong"),s.Fc(97),s.ac(98,"translate"),s.Pb(),s.Fc(99,"\n    "),s.Pb(),s.Fc(100,"\n    "),s.Qb(101,"div",13),s.Fc(102),s.Pb(),s.Fc(103,"\n"),s.Pb(),s.Fc(104,"\n"),s.Qb(105,"div",2),s.Fc(106,"\n    "),s.Qb(107,"div",13),s.Fc(108,"\n        "),s.Qb(109,"strong"),s.Fc(110),s.ac(111,"translate"),s.Pb(),s.Fc(112,"\n    "),s.Pb(),s.Fc(113,"\n    "),s.Qb(114,"div",13),s.Fc(115),s.Pb(),s.Fc(116,"\n    "),s.Qb(117,"div",13),s.Fc(118,"\n        "),s.Qb(119,"strong"),s.Fc(120),s.ac(121,"translate"),s.Pb(),s.Fc(122,"\n    "),s.Pb(),s.Fc(123,"\n    "),s.Qb(124,"div",13),s.Fc(125),s.Pb(),s.Fc(126,"\n"),s.Pb(),s.Fc(127,"\n"),s.Qb(128,"div",2),s.Fc(129,"\n    "),s.Qb(130,"div",13),s.Fc(131,"\n        "),s.Qb(132,"strong"),s.Fc(133),s.ac(134,"translate"),s.Pb(),s.Fc(135,"\n    "),s.Pb(),s.Fc(136,"\n    "),s.Qb(137,"div",14),s.Fc(138),s.Pb(),s.Fc(139,"\n"),s.Pb(),s.Fc(140,"\n\n"),s.Lb(141,"br"),s.Fc(142,"\n"),s.Qb(143,"h4"),s.Fc(144),s.ac(145,"translate"),s.Pb(),s.Fc(146,"\n"),s.Qb(147,"div",2),s.Fc(148,"\n    "),s.Qb(149,"div",13),s.Fc(150,"\n    "),s.Pb(),s.Fc(151,"\n    "),s.Qb(152,"div",14),s.Fc(153),s.Pb(),s.Fc(154,"\n"),s.Pb(),s.Fc(155,"\n\n"),s.Lb(156,"br"),s.Fc(157,"\n"),s.Qb(158,"h4"),s.Fc(159),s.ac(160,"translate"),s.Pb(),s.Fc(161,"\n"),s.Qb(162,"div",2),s.Fc(163,"\n    "),s.Qb(164,"div",13),s.Fc(165,"\n        "),s.Qb(166,"strong"),s.Fc(167),s.ac(168,"translate"),s.Pb(),s.Fc(169,"\n    "),s.Pb(),s.Fc(170,"\n    "),s.Qb(171,"div",15),s.Fc(172),s.Pb(),s.Fc(173,"\n    "),s.Qb(174,"div",16),s.Fc(175),s.Pb(),s.Fc(176,"\n"),s.Pb(),s.Fc(177,"\n"),s.Qb(178,"div",2),s.Fc(179,"\n    "),s.Qb(180,"div",13),s.Fc(181,"\n        "),s.Qb(182,"strong"),s.Fc(183),s.ac(184,"translate"),s.Pb(),s.Fc(185,"\n    "),s.Pb(),s.Fc(186,"\n    "),s.Qb(187,"div",15),s.Fc(188),s.Pb(),s.Fc(189,"\n    "),s.Qb(190,"div",16),s.Fc(191),s.Pb(),s.Fc(192,"\n"),s.Pb(),s.Fc(193,"\n"),s.Qb(194,"div",2),s.Fc(195,"\n    "),s.Qb(196,"div",13),s.Fc(197,"\n        "),s.Qb(198,"strong"),s.Fc(199),s.ac(200,"translate"),s.Pb(),s.Fc(201,"\n    "),s.Pb(),s.Fc(202,"\n    "),s.Qb(203,"div",15),s.Fc(204),s.Pb(),s.Fc(205,"\n    "),s.Qb(206,"div",16),s.Fc(207),s.Pb(),s.Fc(208,"\n"),s.Pb(),s.Fc(209,"\n"),s.Qb(210,"div",2),s.Fc(211,"\n    "),s.Qb(212,"div",13),s.Fc(213,"\n        "),s.Qb(214,"strong"),s.Fc(215),s.ac(216,"translate"),s.Pb(),s.Fc(217,"\n    "),s.Pb(),s.Fc(218,"\n    "),s.Qb(219,"div",15),s.Fc(220),s.Pb(),s.Fc(221,"\n    "),s.Qb(222,"div",16),s.Fc(223),s.Pb(),s.Fc(224,"\n"),s.Pb(),s.Fc(225,"\n"),s.Qb(226,"div",2),s.Fc(227,"\n    "),s.Qb(228,"div",13),s.Fc(229,"\n        "),s.Qb(230,"strong"),s.Fc(231),s.ac(232,"translate"),s.Pb(),s.Fc(233,"\n    "),s.Pb(),s.Fc(234,"\n    "),s.Qb(235,"div",15),s.Fc(236),s.Pb(),s.Fc(237,"\n    "),s.Qb(238,"div",16),s.Fc(239),s.Pb(),s.Fc(240,"\n"),s.Pb(),s.Fc(241,"\n"),s.Qb(242,"div",2),s.Fc(243,"\n    "),s.Qb(244,"div",13),s.Fc(245,"\n        "),s.Qb(246,"strong"),s.Fc(247),s.ac(248,"translate"),s.Pb(),s.Fc(249,"\n    "),s.Pb(),s.Fc(250,"\n    "),s.Qb(251,"div",15),s.Fc(252),s.Pb(),s.Fc(253,"\n    "),s.Qb(254,"div",16),s.Fc(255),s.Pb(),s.Fc(256,"\n"),s.Pb(),s.Fc(257,"\n"),s.Qb(258,"div",2),s.Fc(259,"\n    "),s.Qb(260,"div",13),s.Fc(261,"\n        "),s.Qb(262,"strong"),s.Fc(263),s.ac(264,"translate"),s.Pb(),s.Fc(265,"\n    "),s.Pb(),s.Fc(266,"\n    "),s.Qb(267,"div",15),s.Fc(268),s.Pb(),s.Fc(269,"\n    "),s.Qb(270,"div",16),s.Fc(271),s.Pb(),s.Fc(272,"\n"),s.Pb(),s.Fc(273,"\n"),s.Qb(274,"div",2),s.Fc(275,"\n    "),s.Qb(276,"div",13),s.Fc(277,"\n        "),s.Qb(278,"strong"),s.Fc(279),s.ac(280,"translate"),s.Pb(),s.Fc(281,"\n    "),s.Pb(),s.Fc(282,"\n    "),s.Qb(283,"div",15),s.Fc(284),s.Pb(),s.Fc(285,"\n    "),s.Qb(286,"div",16),s.Fc(287),s.Pb(),s.Fc(288,"\n"),s.Pb(),s.Fc(289,"\n"),s.Qb(290,"div",2),s.Fc(291,"\n    "),s.Qb(292,"div",13),s.Fc(293,"\n        "),s.Qb(294,"strong"),s.Fc(295),s.ac(296,"translate"),s.Pb(),s.Fc(297,"\n    "),s.Pb(),s.Fc(298,"\n    "),s.Qb(299,"div",15),s.Fc(300),s.Pb(),s.Fc(301,"\n    "),s.Qb(302,"div",16),s.Fc(303),s.Pb(),s.Fc(304,"\n"),s.Pb(),s.Fc(305,"\n"),s.Qb(306,"div",2),s.Fc(307,"\n    "),s.Qb(308,"div",13),s.Fc(309,"\n        "),s.Qb(310,"strong"),s.Fc(311),s.ac(312,"translate"),s.Pb(),s.Fc(313,"\n    "),s.Pb(),s.Fc(314,"\n    "),s.Qb(315,"div",15),s.Fc(316),s.Pb(),s.Fc(317,"\n    "),s.Qb(318,"div",16),s.Fc(319),s.Pb(),s.Fc(320,"\n"),s.Pb(),s.Fc(321,"\n"),s.Qb(322,"div",2),s.Fc(323,"\n    "),s.Qb(324,"div",13),s.Fc(325,"\n        "),s.Qb(326,"strong"),s.Fc(327),s.ac(328,"translate"),s.Pb(),s.Fc(329,"\n    "),s.Pb(),s.Fc(330,"\n    "),s.Qb(331,"div",14),s.Fc(332),s.Pb(),s.Fc(333,"\n"),s.Pb(),s.Fc(334,"\n\n"),s.Lb(335,"br"),s.Fc(336,"\n"),s.Qb(337,"h4"),s.Fc(338),s.ac(339,"translate"),s.Pb(),s.Fc(340,"\n"),s.Qb(341,"div",2),s.Fc(342,"\n    "),s.Fc(343,"\n"),s.Pb(),s.Fc(344,"\n\n"),s.Lb(345,"br"),s.Fc(346,"\n"),s.Qb(347,"h4"),s.Fc(348),s.ac(349,"translate"),s.Pb(),s.Fc(350,"\n"),s.Qb(351,"div",2),s.Fc(352,"\n    "),s.Fc(353,"\n"),s.Pb(),s.Fc(354,"\n\n"),s.Lb(355,"br"),s.Fc(356,"\n"),s.Qb(357,"h4"),s.Fc(358),s.ac(359,"translate"),s.Pb(),s.Fc(360,"\n"),s.Qb(361,"div",2),s.Fc(362,"\n    "),s.Fc(363,"\n"),s.Pb(),s.Fc(364,"\n\n"),s.Lb(365,"br"),s.Fc(366,"\n"),s.Qb(367,"h4"),s.Fc(368),s.ac(369,"translate"),s.Pb(),s.Fc(370,"\n"),s.Qb(371,"div",2),s.Fc(372,"\n    "),s.Fc(373,"\n"),s.Pb(),s.Fc(374,"\n\n"),s.Lb(375,"br"),s.Fc(376,"\n"),s.Qb(377,"h4"),s.Fc(378),s.ac(379,"translate"),s.Pb(),s.Fc(380,"\n"),s.Qb(381,"div",2),s.Fc(382,"\n    "),s.Fc(383,"\n"),s.Pb(),s.Fc(384,"\n\n\n"),s.Lb(385,"br"),s.Fc(386,"\n"),s.Qb(387,"h4"),s.Fc(388),s.ac(389,"translate"),s.Pb(),s.Fc(390,"\n"),s.Qb(391,"div",2),s.Fc(392,"\n    "),s.Qb(393,"p-editor",17),s.Fc(394,"\n    "),s.Pb(),s.Fc(395,"\n"),s.Pb(),s.Fc(396,"\n"),s.Lb(397,"br"),s.Fc(398,"\n\n"),s.Qb(399,"div",18),s.Fc(400,"\n    "),s.Qb(401,"div",2),s.Fc(402,"\n        "),s.Qb(403,"strong"),s.Fc(404),s.ac(405,"translate"),s.Pb(),s.Fc(406),s.Pb(),s.Fc(407,"\n\n    "),s.Qb(408,"div",2),s.Fc(409,"\n        "),s.Qb(410,"div",3),s.Fc(411,"\n            "),s.Qb(412,"div",2),s.Fc(413,"\n                "),s.Qb(414,"div",4),s.Fc(415,"\n                    "),s.Qb(416,"div"),s.Fc(417,"\n                        "),s.Qb(418,"label",5),s.Fc(419),s.ac(420,"translate"),s.Pb(),s.Fc(421,"\n                        "),s.Qb(422,"label",6),s.Fc(423),s.ac(424,"translate"),s.Pb(),s.Fc(425,"\n                    "),s.Pb(),s.Fc(426,"\n                    "),s.Qb(427,"h2",7),s.Fc(428),s.Pb(),s.Fc(429,"\n                    "),s.Qb(430,"p",8),s.Fc(431,"\n                        "),s.Qb(432,"span",9),s.Fc(433,"\n                            "),s.Qb(434,"em"),s.Fc(435,"\n                                "),s.Qb(436,"strong"),s.Fc(437),s.ac(438,"translate"),s.Pb(),s.Fc(439),s.Pb(),s.Fc(440,"\n                        "),s.Pb(),s.Fc(441,"\n                    "),s.Pb(),s.Fc(442,"\n                "),s.Pb(),s.Fc(443,"\n                "),s.Qb(444,"div",10),s.Fc(445,"\n                    "),s.Qb(446,"div",11),s.Fc(447,"\n                        "),s.Qb(448,"div",12),s.Fc(449,"\n                            "),s.Qb(450,"ul"),s.Fc(451,"\n                                "),s.Qb(452,"li"),s.Fc(453,"\n                                    "),s.Qb(454,"label"),s.Fc(455),s.ac(456,"translate"),s.Pb(),s.Fc(457),s.Pb(),s.Fc(458,"\n                                "),s.Qb(459,"li"),s.Fc(460,"\n                                    "),s.Qb(461,"label"),s.Fc(462),s.ac(463,"translate"),s.Pb(),s.Fc(464),s.Pb(),s.Fc(465,"\n                            "),s.Pb(),s.Fc(466,"\n                        "),s.Pb(),s.Fc(467,"\n                    "),s.Pb(),s.Fc(468,"\n                "),s.Pb(),s.Fc(469,"\n            "),s.Pb(),s.Fc(470,"\n        "),s.Pb(),s.Fc(471,"\n    "),s.Pb(),s.Fc(472,"\n\n    "),s.Lb(473,"br"),s.Fc(474,"\n    "),s.Qb(475,"h4"),s.Fc(476),s.ac(477,"translate"),s.Pb(),s.Fc(478,"\n    "),s.Qb(479,"table",19),s.Fc(480,"\n        "),s.Qb(481,"tr"),s.Fc(482,"\n            "),s.Qb(483,"td"),s.Fc(484,"\n                "),s.Qb(485,"strong"),s.Fc(486),s.ac(487,"translate"),s.Pb(),s.Fc(488,"\n            "),s.Pb(),s.Fc(489,"\n            "),s.Qb(490,"td"),s.Fc(491),s.Pb(),s.Fc(492,"\n            "),s.Qb(493,"td"),s.Fc(494,"\n                "),s.Qb(495,"strong"),s.Fc(496),s.ac(497,"translate"),s.Pb(),s.Fc(498,"\n            "),s.Pb(),s.Fc(499,"\n            "),s.Qb(500,"td"),s.Fc(501),s.Pb(),s.Fc(502,"\n        "),s.Pb(),s.Fc(503,"\n        "),s.Qb(504,"tr"),s.Fc(505,"\n            "),s.Qb(506,"td"),s.Fc(507,"\n                "),s.Qb(508,"strong"),s.Fc(509),s.ac(510,"translate"),s.Pb(),s.Fc(511,"\n            "),s.Pb(),s.Fc(512,"\n            "),s.Qb(513,"td"),s.Fc(514),s.Pb(),s.Fc(515,"\n            "),s.Qb(516,"td"),s.Fc(517,"\n                "),s.Qb(518,"strong"),s.Fc(519),s.ac(520,"translate"),s.Pb(),s.Fc(521,"\n            "),s.Pb(),s.Fc(522,"\n            "),s.Qb(523,"td"),s.Fc(524),s.Pb(),s.Fc(525,"\n        "),s.Pb(),s.Fc(526,"\n        "),s.Qb(527,"tr"),s.Fc(528,"\n            "),s.Qb(529,"td"),s.Fc(530,"\n                "),s.Qb(531,"strong"),s.Fc(532),s.ac(533,"translate"),s.Pb(),s.Fc(534,"\n            "),s.Pb(),s.Fc(535,"\n            "),s.Qb(536,"td",20),s.Fc(537),s.Pb(),s.Fc(538,"\n        "),s.Pb(),s.Fc(539,"\n    "),s.Pb(),s.Fc(540,"\n\n    "),s.Lb(541,"br"),s.Fc(542,"\n    "),s.Qb(543,"h4"),s.Fc(544),s.ac(545,"translate"),s.Pb(),s.Fc(546,"\n    "),s.Qb(547,"div",2),s.Fc(548,"\n        "),s.Qb(549,"div",13),s.Fc(550,"\n        "),s.Pb(),s.Fc(551,"\n        "),s.Qb(552,"div",14),s.Fc(553),s.Pb(),s.Fc(554,"\n    "),s.Pb(),s.Fc(555,"\n\n    "),s.Lb(556,"br"),s.Fc(557,"\n    "),s.Qb(558,"h4"),s.Fc(559),s.ac(560,"translate"),s.Pb(),s.Fc(561,"\n    "),s.Qb(562,"table",21),s.Fc(563,"\n        "),s.Qb(564,"tr"),s.Fc(565,"\n            "),s.Qb(566,"td",22),s.Fc(567),s.ac(568,"translate"),s.Pb(),s.Fc(569,"\n            "),s.Qb(570,"td"),s.Fc(571),s.Pb(),s.Fc(572,"\n            "),s.Qb(573,"td"),s.Fc(574),s.Pb(),s.Fc(575,"\n        "),s.Pb(),s.Fc(576,"\n        "),s.Qb(577,"tr"),s.Fc(578,"\n            "),s.Qb(579,"td"),s.Fc(580),s.ac(581,"translate"),s.Pb(),s.Fc(582,"\n            "),s.Qb(583,"td"),s.Fc(584),s.Pb(),s.Fc(585,"\n            "),s.Qb(586,"td"),s.Fc(587),s.Pb(),s.Fc(588,"\n        "),s.Pb(),s.Fc(589,"\n        "),s.Qb(590,"tr"),s.Fc(591,"\n            "),s.Qb(592,"td"),s.Fc(593),s.ac(594,"translate"),s.Pb(),s.Fc(595,"\n            "),s.Qb(596,"td"),s.Fc(597),s.Pb(),s.Fc(598,"\n            "),s.Qb(599,"td"),s.Fc(600),s.Pb(),s.Fc(601,"\n        "),s.Pb(),s.Fc(602,"\n        "),s.Qb(603,"tr"),s.Fc(604,"\n            "),s.Qb(605,"td"),s.Fc(606),s.ac(607,"translate"),s.Pb(),s.Fc(608,"\n            "),s.Qb(609,"td"),s.Fc(610),s.Pb(),s.Fc(611,"\n            "),s.Qb(612,"td"),s.Fc(613),s.Pb(),s.Fc(614,"\n        "),s.Pb(),s.Fc(615,"\n        "),s.Qb(616,"tr"),s.Fc(617,"\n            "),s.Qb(618,"td"),s.Fc(619),s.ac(620,"translate"),s.Pb(),s.Fc(621,"\n            "),s.Qb(622,"td");s.Fc(623),s.Pb(),s.Fc(624,"\n            "),s.Qb(625,"td"),s.Fc(626),s.Pb(),s.Fc(627,"\n        "),s.Pb(),s.Fc(628,"\n        "),s.Qb(629,"tr"),s.Fc(630,"\n            "),s.Qb(631,"td"),s.Fc(632),s.ac(633,"translate"),s.Pb(),s.Fc(634,"\n            "),s.Qb(635,"td"),s.Fc(636),s.Pb(),s.Fc(637,"\n            "),s.Qb(638,"td"),s.Fc(639),s.Pb(),s.Fc(640,"\n        "),s.Pb(),s.Fc(641,"\n        "),s.Qb(642,"tr"),s.Fc(643,"\n            "),s.Qb(644,"td"),s.Fc(645),s.ac(646,"translate"),s.Pb(),s.Fc(647,"\n            "),s.Qb(648,"td"),s.Fc(649),s.Pb(),s.Fc(650,"\n            "),s.Qb(651,"td"),s.Fc(652),s.Pb(),s.Fc(653,"\n        "),s.Pb(),s.Fc(654,"\n        "),s.Qb(655,"tr"),s.Fc(656,"\n            "),s.Qb(657,"td"),s.Fc(658),s.ac(659,"translate"),s.Pb(),s.Fc(660,"\n            "),s.Qb(661,"td"),s.Fc(662),s.Pb(),s.Fc(663,"\n            "),s.Qb(664,"td"),s.Fc(665),s.Pb(),s.Fc(666,"\n        "),s.Pb(),s.Fc(667,"\n        "),s.Qb(668,"tr"),s.Fc(669,"\n            "),s.Qb(670,"td"),s.Fc(671),s.ac(672,"translate"),s.Pb(),s.Fc(673,"\n            "),s.Qb(674,"td"),s.Fc(675),s.Pb(),s.Fc(676,"\n            "),s.Qb(677,"td"),s.Fc(678),s.Pb(),s.Fc(679,"\n        "),s.Pb(),s.Fc(680,"\n        "),s.Qb(681,"tr"),s.Fc(682,"\n            "),s.Qb(683,"td"),s.Fc(684),s.ac(685,"translate"),s.Pb(),s.Fc(686,"\n            "),s.Qb(687,"td"),s.Fc(688),s.Pb(),s.Fc(689,"\n            "),s.Qb(690,"td"),s.Fc(691),s.Pb(),s.Fc(692,"\n        "),s.Pb(),s.Fc(693,"\n        "),s.Qb(694,"tr"),s.Fc(695,"\n            "),s.Qb(696,"td"),s.Fc(697),s.ac(698,"translate"),s.Pb(),s.Fc(699,"\n            "),s.Qb(700,"td",23),s.Fc(701),s.Pb(),s.Fc(702,"\n        "),s.Pb(),s.Fc(703,"\n    "),s.Pb(),s.Fc(704,"\n\n    "),s.Lb(705,"br"),s.Fc(706,"\n    "),s.Qb(707,"h4"),s.Fc(708),s.ac(709,"translate"),s.Pb(),s.Fc(710,"\n    "),s.Qb(711,"div",2),s.Fc(712,"\n        "),s.Qb(713,"table",24),s.Fc(714,"\n            "),s.Qb(715,"thead",25),s.Fc(716,"\n                "),s.Qb(717,"tr"),s.Fc(718,"\n                    "),s.Qb(719,"th"),s.Fc(720),s.ac(721,"translate"),s.Pb(),s.Fc(722,"\n                    "),s.Qb(723,"th"),s.Fc(724),s.ac(725,"translate"),s.Pb(),s.Fc(726,"\n                    "),s.Qb(727,"th"),s.Fc(728),s.ac(729,"translate"),s.Pb(),s.Fc(730,"\n                    "),s.Qb(731,"th"),s.Fc(732),s.ac(733,"translate"),s.Pb(),s.Fc(734,"\n                    "),s.Qb(735,"th"),s.Fc(736),s.ac(737,"translate"),s.Pb(),s.Fc(738,"\n                    "),s.Qb(739,"th"),s.Fc(740),s.ac(741,"translate"),s.Pb(),s.Fc(742,"\n                    "),s.Qb(743,"th"),s.Fc(744),s.ac(745,"translate"),s.Pb(),s.Fc(746,"\n                "),s.Pb(),s.Fc(747,"\n            "),s.Pb(),s.Fc(748,"\n            "),s.Qb(749,"tbody"),s.Fc(750,"\n                "),s.Dc(751,yn,25,7,"tr",26),s.Fc(752,"\n            "),s.Pb(),s.Fc(753,"\n        "),s.Pb(),s.Fc(754,"\n    "),s.Pb(),s.Fc(755,"\n\n    "),s.Lb(756,"br"),s.Fc(757,"\n    "),s.Qb(758,"h4"),s.Fc(759),s.ac(760,"translate"),s.Pb(),s.Fc(761,"\n    "),s.Qb(762,"div",2),s.Fc(763,"\n        "),s.Qb(764,"table",24),s.Fc(765,"\n            "),s.Qb(766,"thead",25),s.Fc(767,"\n                "),s.Qb(768,"tr"),s.Fc(769,"\n                    "),s.Qb(770,"th"),s.Fc(771),s.ac(772,"translate"),s.Pb(),s.Fc(773,"\n                    "),s.Qb(774,"th"),s.Fc(775),s.ac(776,"translate"),s.Pb(),s.Fc(777,"\n                    "),s.Qb(778,"th"),s.Fc(779),s.ac(780,"translate"),s.Pb(),s.Fc(781,"\n                    "),s.Qb(782,"th"),s.Fc(783),s.ac(784,"translate"),s.Pb(),s.Fc(785,"\n                    "),s.Qb(786,"th"),s.Fc(787),s.ac(788,"translate"),s.Pb(),s.Fc(789,"\n                    "),s.Qb(790,"th"),s.Fc(791),s.ac(792,"translate"),s.Pb(),s.Fc(793,"\n                    "),s.Qb(794,"th"),s.Fc(795),s.ac(796,"translate"),s.Pb(),s.Fc(797,"\n                    "),s.Qb(798,"th"),s.Fc(799),s.ac(800,"translate"),s.Pb(),s.Fc(801,"\n                    "),s.Qb(802,"th"),s.Fc(803),s.ac(804,"translate"),s.Pb(),s.Fc(805,"\n                    "),s.Qb(806,"th"),s.Fc(807),s.ac(808,"translate"),s.Pb(),s.Fc(809,"\n                    "),s.Qb(810,"th"),s.Fc(811),s.ac(812,"translate"),s.Pb(),s.Fc(813,"\n                "),s.Pb(),s.Fc(814,"\n            "),s.Pb(),s.Fc(815,"\n            "),s.Qb(816,"tbody"),s.Fc(817,"\n                "),s.Dc(818,Pn,35,11,"tr",26),s.Fc(819,"\n            "),s.Pb(),s.Fc(820,"\n        "),s.Pb(),s.Fc(821,"\n    "),s.Pb(),s.Fc(822,"\n\n    "),s.Lb(823,"br"),s.Fc(824,"\n    "),s.Qb(825,"h4"),s.Fc(826),s.ac(827,"translate"),s.Pb(),s.Fc(828,"\n    "),s.Qb(829,"div",2),s.Fc(830,"\n        "),s.Qb(831,"table",24),s.Fc(832,"\n            "),s.Qb(833,"thead",25),s.Fc(834,"\n                "),s.Qb(835,"tr"),s.Fc(836,"\n                    "),s.Qb(837,"th"),s.Fc(838),s.ac(839,"translate"),s.Pb(),s.Fc(840,"\n                    "),s.Qb(841,"th"),s.Fc(842),s.ac(843,"translate"),s.Pb(),s.Fc(844,"\n                    "),s.Qb(845,"th"),s.Fc(846),s.ac(847,"translate"),s.Pb(),s.Fc(848,"\n                    "),s.Qb(849,"th"),s.Fc(850),s.ac(851,"translate"),s.Pb(),s.Fc(852,"\n                    "),s.Qb(853,"th"),s.Fc(854),s.ac(855,"translate"),s.Pb(),s.Fc(856,"\n                    "),s.Qb(857,"th"),s.Fc(858),s.ac(859,"translate"),s.Pb(),s.Fc(860,"\n                "),s.Pb(),s.Fc(861,"\n            "),s.Pb(),s.Fc(862,"\n            "),s.Qb(863,"tbody"),s.Fc(864,"\n                "),s.Dc(865,Sn,20,6,"tr",26),s.Fc(866,"\n            "),s.Pb(),s.Fc(867,"\n        "),s.Pb(),s.Fc(868,"\n    "),s.Pb(),s.Fc(869,"\n\n\n    "),s.Lb(870,"br"),s.Fc(871,"\n    "),s.Qb(872,"h4"),s.Fc(873),s.ac(874,"translate"),s.Pb(),s.Fc(875,"\n    "),s.Qb(876,"div",2),s.Fc(877,"\n        "),s.Qb(878,"table",24),s.Fc(879,"\n            "),s.Qb(880,"thead",25),s.Fc(881,"\n                "),s.Qb(882,"tr"),s.Fc(883,"\n                    "),s.Qb(884,"th"),s.Fc(885),s.ac(886,"translate"),s.Pb(),s.Fc(887,"\n                    "),s.Qb(888,"th"),s.Fc(889),s.ac(890,"translate"),s.Pb(),s.Fc(891,"\n                    "),s.Qb(892,"th"),s.Fc(893),s.ac(894,"translate"),s.Pb(),s.Fc(895,"\n                    "),s.Qb(896,"th"),s.Fc(897),s.ac(898,"translate"),s.Pb(),s.Fc(899,"\n                    "),s.Qb(900,"th"),s.Fc(901),s.ac(902,"translate"),s.Pb(),s.Fc(903,"\n                "),s.Pb(),s.Fc(904,"\n            "),s.Pb(),s.Fc(905,"\n            "),s.Qb(906,"tbody"),s.Fc(907,"\n                "),s.Dc(908,In,17,5,"tr",26),s.Fc(909,"\n            "),s.Pb(),s.Fc(910,"\n        "),s.Pb(),s.Fc(911,"\n    "),s.Pb(),s.Fc(912,"\n\n    "),s.Lb(913,"br"),s.Fc(914,"\n    "),s.Qb(915,"h4"),s.Fc(916),s.ac(917,"translate"),s.Pb(),s.Fc(918,"\n    "),s.Qb(919,"div",2),s.Fc(920,"\n        "),s.Qb(921,"table",24),s.Fc(922,"\n            "),s.Qb(923,"thead",25),s.Fc(924,"\n                "),s.Qb(925,"tr"),s.Fc(926,"\n                    "),s.Qb(927,"th"),s.Fc(928),s.ac(929,"translate"),s.Pb(),s.Fc(930,"\n                    "),s.Qb(931,"th"),s.Fc(932),s.ac(933,"translate"),s.Pb(),s.Fc(934,"\n                    "),s.Qb(935,"th"),s.Fc(936),s.ac(937,"translate"),s.Pb(),s.Fc(938,"\n                    "),s.Qb(939,"th"),s.Fc(940),s.ac(941,"translate"),s.Pb(),s.Fc(942,"\n                    "),s.Qb(943,"th"),s.Fc(944),s.ac(945,"translate"),s.Pb(),s.Fc(946,"\n                "),s.Pb(),s.Fc(947,"\n            "),s.Pb(),s.Fc(948,"\n            "),s.Qb(949,"tbody"),s.Fc(950,"\n                "),s.Dc(951,Dn,17,5,"tr",26),s.Fc(952,"\n            "),s.Pb(),s.Fc(953,"\n        "),s.Pb(),s.Fc(954,"\n    "),s.Pb(),s.Fc(955,"\n\n    "),s.Lb(956,"br"),s.Fc(957,"\n    "),s.Qb(958,"h4"),s.Fc(959),s.ac(960,"translate"),s.Pb(),s.Fc(961,"\n    "),s.Qb(962,"div"),s.Fc(963,"\n        "),s.Qb(964,"p-editor",17),s.Fc(965,"\n        "),s.Pb(),s.Fc(966,"\n    "),s.Pb(),s.Fc(967,"\n\n"),s.Pb()}2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("section",t.PrintNoteDive),s.yb(5),s.Hc("\n        ",s.bc(8,177,"CreationDate"),"\n    "),s.yb(2),s.Hc("\n    : \xa0\xa0\xa0\n    ",t.model.creationDateString,"\n"),s.yb(13),s.Ic("\n                        ",s.bc(23,179,"UnifiedMRN")," : ",t.model.patient.unifiedMRN,"\n                    "),s.yb(4),s.Ic("\n                        ",s.bc(27,181,"ClinicMRN")," : ",t.model.patient.clinicMRN,"\n                    "),s.yb(5),s.Hc("\n                    ",t.model.patient.name,"\n                "),s.yb(9),s.Hc("\n                                ",s.bc(41,183,"Description"),":\n                            "),s.yb(2),s.Hc("\n                            ",t.model.patient.description,"\n                        "),s.yb(16),s.Hc("",s.bc(59,185,"Gender"),":"),s.yb(2),s.Hc("\xa0 ",t.model.patient.gender,"\n                            "),s.yb(5),s.Hc("",s.bc(66,187,"Age"),": "),s.yb(2),s.Hc("\xa0",t.model.patient.age,"\n                            "),s.yb(12),s.Gc(s.bc(80,189,"MedicalInsuranceDetails")),s.yb(8),s.Hc("\n            ",s.bc(88,191,"Company"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.patient.activeInsurance.companyName,"\n    "),s.yb(5),s.Hc("\n            ",s.bc(98,193,"PolicyName"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.patient.activeInsurance.policyName,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(111,195,"StartDate"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.patient.activeInsurance.startDateString,"\n    "),s.yb(5),s.Hc("\n            ",s.bc(121,197,"EndDate"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.patient.activeInsurance.endDateString,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(134,199,"Description"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.patient.activeInsurance.description,"\n    "),s.yb(6),s.Gc(s.bc(145,201,"ChiefComplaint")),s.yb(9),s.Hc("\n        ",t.model.chiefComplaint.chiefComplaintMain,"\n    "),s.yb(6),s.Gc(s.bc(160,203,"VitalSigns")),s.yb(8),s.Hc("\n            ",s.bc(168,205,"Weight"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.weightValue,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.weightValueMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(184,207,"Temprature"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.temperatureTypeValue,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.temperatureTypeMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(200,209,"Respirationrate"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.respirationRate,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.respirationRateMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(216,211,"Pulse"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.pulse,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.pulseMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(232,213,"Height"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.heightvalue,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.heightValueMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(248,215,"HeadCircumferences"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.headCircumferences,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.headCircumferencesMArk,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(264,217,"BPSystolic"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.bpSystolic,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.bpSystolicMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(280,219,"BPDiastolic"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.bpDiastolic,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.bpDiastolicMArk,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(296,221,"BMI"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.bMI,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.bMIMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(312,223,"DurationOfIllness"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.durationOfIllness,"\n    "),s.yb(3),s.Hc("\n        ",t.model.chiefComplaint.durationOfIllnessMark,"\n    "),s.yb(8),s.Hc("\n            ",s.bc(328,225,"SignificantSigns"),"\n        "),s.yb(5),s.Hc("\n        ",t.model.chiefComplaint.significantSigns,"\n    "),s.yb(6),s.Gc(s.bc(339,227,"Diagnosis")),s.yb(10),s.Gc(s.bc(349,229,"NewMedication")),s.yb(10),s.Gc(s.bc(359,231,"Services")),s.yb(10),s.Gc(s.bc(369,233,"LabTests")),s.yb(10),s.Gc(s.bc(379,235,"RadiologyTests")),s.yb(10),s.Gc(s.bc(389,237,"Remarks")),s.yb(5),s.Ac(s.lc(369,Qn)),s.hc("ngModel",t.model.description),s.yb(11),s.Hc("\n            ",s.bc(405,239,"CreationDate"),"\n        "),s.yb(2),s.Hc("\n        : \xa0\xa0\xa0\n        ",t.model.creationDateString,"\n    "),s.yb(13),s.Ic("\n                            ",s.bc(420,241,"UnifiedMRN")," : ",t.model.patient.unifiedMRN,"\n                        "),s.yb(4),s.Ic("\n                            ",s.bc(424,243,"ClinicMRN")," : ",t.model.patient.clinicMRN,"\n                        "),s.yb(5),s.Hc("\n                        ",t.model.patient.name,"\n                    "),s.yb(9),s.Hc("\n                                    ",s.bc(438,245,"Description"),":\n                                "),s.yb(2),s.Hc("\n                                ",t.model.patient.description,"\n                            "),s.yb(16),s.Hc("",s.bc(456,247,"Gender"),":"),s.yb(2),s.Hc("\xa0 ",t.model.patient.gender,"\n                                "),s.yb(5),s.Hc("",s.bc(463,249,"Age"),": "),s.yb(2),s.Hc("\xa0",t.model.patient.age,"\n                                "),s.yb(12),s.Gc(s.bc(477,251,"MedicalInsuranceDetails")),s.yb(10),s.Hc("\n                    ",s.bc(487,253,"Company"),"\n                "),s.yb(5),s.Gc(t.model.patient.activeInsurance.companyName),s.yb(5),s.Hc("\n                    ",s.bc(497,255,"PolicyName"),"\n                "),s.yb(5),s.Gc(t.model.patient.activeInsurance.policyName),s.yb(8),s.Hc("\n                    ",s.bc(510,257,"StartDate"),"\n                "),s.yb(5),s.Gc(t.model.patient.activeInsurance.startDateString),s.yb(5),s.Hc("\n                    ",s.bc(520,259,"EndDate"),"\n                "),s.yb(5),s.Gc(t.model.patient.activeInsurance.endDateString),s.yb(8),s.Hc("\n                    ",s.bc(533,261,"Description"),"\n                "),s.yb(5),s.Hc("\n                ",t.model.patient.activeInsurance.description,"\n            "),s.yb(7),s.Gc(s.bc(545,263,"ChiefComplaint")),s.yb(9),s.Hc("\n            ",t.model.chiefComplaint.chiefComplaintMain,"\n        "),s.yb(6),s.Gc(s.bc(560,265,"VitalSigns")),s.yb(8),s.Gc(s.bc(568,267,"Weight")),s.yb(4),s.Gc(t.model.chiefComplaint.weightValue),s.yb(3),s.Gc(t.model.chiefComplaint.weightValueMark),s.yb(6),s.Gc(s.bc(581,269,"Temprature")),s.yb(4),s.Gc(t.model.chiefComplaint.temperatureTypeValue),s.yb(3),s.Gc(t.model.chiefComplaint.temperatureTypeMark),s.yb(6),s.Gc(s.bc(594,271,"Respirationrate")),s.yb(4),s.Gc(t.model.chiefComplaint.respirationRate),s.yb(3),s.Gc(t.model.chiefComplaint.respirationRateMark),s.yb(6),s.Gc(s.bc(607,273,"Pulse")),s.yb(4),s.Gc(t.model.chiefComplaint.pulse),s.yb(3),s.Gc(t.model.chiefComplaint.pulseMark),s.yb(6),s.Gc(s.bc(620,275,"Height")),s.yb(4),s.Gc(t.model.chiefComplaint.heightvalue),s.yb(3),s.Gc(t.model.chiefComplaint.heightValueMark),s.yb(6),s.Gc(s.bc(633,277,"HeadCircumferences")),s.yb(4),s.Gc(t.model.chiefComplaint.headCircumferences),s.yb(3),s.Gc(t.model.chiefComplaint.headCircumferencesMArk),s.yb(6),s.Gc(s.bc(646,279,"BPSystolic")),s.yb(4),s.Gc(t.model.chiefComplaint.bpSystolic),s.yb(3),s.Gc(t.model.chiefComplaint.bpSystolicMark),s.yb(6),s.Gc(s.bc(659,281,"BPDiastolic")),s.yb(4),s.Gc(t.model.chiefComplaint.bpDiastolic),s.yb(3),s.Gc(t.model.chiefComplaint.bpDiastolicMArk),s.yb(6),s.Gc(s.bc(672,283,"BMI")),s.yb(4),s.Gc(t.model.chiefComplaint.bMI),s.yb(3),s.Gc(t.model.chiefComplaint.bMIMark),s.yb(6),s.Gc(s.bc(685,285,"DurationOfIllness")),s.yb(4),s.Gc(t.model.chiefComplaint.durationOfIllness),s.yb(3),s.Gc(t.model.chiefComplaint.durationOfIllnessMark),s.yb(6),s.Gc(s.bc(698,287,"SignificantSigns")),s.yb(4),s.Gc(t.model.chiefComplaint.significantSigns),s.yb(7),s.Gc(s.bc(709,289,"Diagnosis")),s.yb(12),s.Gc(s.bc(721,291,"DiagnoseCode")),s.yb(4),s.Gc(s.bc(725,293,"DiagnoseName")),s.yb(4),s.Gc(s.bc(729,295,"Date")),s.yb(4),s.Gc(s.bc(733,297,"Description")),s.yb(4),s.Gc(s.bc(737,299,"DoctorName")),s.yb(4),s.Gc(s.bc(741,301,"Status")),s.yb(4),s.Gc(s.bc(745,303,"CurrentPast")),s.yb(7),s.hc("ngForOf",t.model.diagnosis),s.yb(8),s.Gc(s.bc(760,305,"NewMedication")),s.yb(12),s.Gc(s.bc(772,307,"MedicationCode")),s.yb(4),s.Gc(s.bc(776,309,"Name")),s.yb(4),s.Gc(s.bc(780,311,"DosageQuantity")),s.yb(4),s.Gc(s.bc(784,313,"DosageUnit")),s.yb(4),s.Gc(s.bc(788,315,"Frequency")),s.yb(4),s.Gc(s.bc(792,317,"StartDate")),s.yb(4),s.Gc(s.bc(796,319,"Duration")),s.yb(4),s.Gc(s.bc(800,321,"Description")),s.yb(4),s.Gc(s.bc(804,323,"Diagnosis")),s.yb(4),s.Gc(s.bc(808,325,"RecorderName")),s.yb(4),s.Gc(s.bc(812,327,"RecordedDate")),s.yb(7),s.hc("ngForOf",t.model.medications),s.yb(8),s.Gc(s.bc(827,329,"Services")),s.yb(12),s.Gc(s.bc(839,331,"ServiceCode")),s.yb(4),s.Gc(s.bc(843,333,"ServiceName")),s.yb(4),s.Gc(s.bc(847,335,"Quantity")),s.yb(4),s.Gc(s.bc(851,337,"Discount")),s.yb(4),s.Gc(s.bc(855,339,"DiagnoseName")),s.yb(4),s.Gc(s.bc(859,341,"Remarks")),s.yb(7),s.hc("ngForOf",t.model.services),s.yb(8),s.Gc(s.bc(874,343,"LabTests")),s.yb(12),s.Gc(s.bc(886,345,"TestCode")),s.yb(4),s.Gc(s.bc(890,347,"TestName")),s.yb(4),s.Gc(s.bc(894,349,"Quantity")),s.yb(4),s.Gc(s.bc(898,351,"DiagnoseName")),s.yb(4),s.Gc(s.bc(902,353,"Remarks")),s.yb(7),s.hc("ngForOf",t.model.labTests),s.yb(8),s.Gc(s.bc(917,355,"RadiologyTests")),s.yb(12),s.Gc(s.bc(929,357,"TestCode")),s.yb(4),s.Gc(s.bc(933,359,"TestName")),s.yb(4),s.Gc(s.bc(937,361,"Quantity")),s.yb(4),s.Gc(s.bc(941,363,"DiagnoseName")),s.yb(4),s.Gc(s.bc(945,365,"Remarks")),s.yb(7),s.hc("ngForOf",t.model.radiologyTests),s.yb(8),s.Gc(s.bc(960,367,"Remarks")),s.yb(5),s.Ac(s.lc(370,Tn)),s.hc("ngModel",t.model.description))},directives:[i.k,mn.a,c.f,c.i,i.j,L.a],pipes:[b.c],encapsulation:2}),e})();var Cn=n("sHDf");let Nn=(()=>{class e{constructor(){this.allDiagnosis=[],this.lstToTranslated=["diagnoseName","diagnoseNameTranslation"]}ngOnInit(){}ngOnChanges(){if(this.diagnosis&&this.noteDiagnosis&&this.masterList){this.allDiagnosis=[];for(let e of this.diagnosis){let t=this.createClinicNoteDiagnose(e);if(this.allDiagnosis.push(t),0==t.id){let n=this.noteDiagnosis.find(t=>t.diagnoseId==e.data);n&&(t.id=n.id,t.isSelected=!0,t.clinicNoteId=this.noteId,t.diagnoseId=e.data,t.diagnoseCode=e.code,t.diagnoseName=e.label,t.status=n.status,t.description=n.description,t.diagnoseNameTranslation=n.diagnoseNameTranslation)}}}}createClinicNoteDiagnose(e){let t;return t=this.masterList.find(t=>t.diagnoseId==e.data),null==t&&(t={id:0,isSelected:!1,clinicNoteId:this.noteId,diagnoseId:e.data,diagnoseCode:e.code,diagnoseName:e.label,status:1,diagnoseNameTranslation:e.labelTranslation},this.masterList.push(t)),t}updateSelectedDiagnose(e,t){if(t.target.checked){let t=this.allDiagnosis.find(t=>t.diagnoseId==e),n=this.masterList.find(t=>t.diagnoseId==e);t.isSelected=!0,n.isSelected=!0}else{let t=this.allDiagnosis.find(t=>t.diagnoseId==e);t.status="1",t.isSelected=!1,t.description="";let n=this.masterList.find(t=>t.diagnoseId==e);n.status="1",n.isSelected=!1,n.description=""}}isClinicNoteDiagnoseConfirmed(e){return e&&e.status&&("1"==e.status||"Confirmed"==e.status)}isClinicNoteDiagnoseSuspected(e){return e&&e.status&&("2"==e.status||"Suspicious"==e.status)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-diagnosisGrid"]],inputs:{diagnosis:"diagnosis",noteDiagnosis:"noteDiagnosis",masterList:"masterList",noteId:"noteId",diagnosisStatuses:"diagnosisStatuses"},features:[s.wb],decls:10,vars:3,consts:[[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Qb(1,"div",0),s.Fc(2,"\n    "),s.Lb(3,"i",1),s.Fc(4,"\n    "),s.Lb(5,"input",2,3),s.ac(7,"translate"),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n")),2&e&&(s.yb(5),s.hc("placeholder",s.bc(7,1,"Search")))},pipes:[b.c],encapsulation:2}),e})();function Mn(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function Ln(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",3),s.Xb("click",function(){return s.wc(e),s.Zb().SaveNoteDiagnosis()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"Save")))}function kn(e,t){if(1&e&&(s.Qb(0,"li"),s.Qb(1,"a",9),s.Fc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Ab(0===n?"active":""),s.yb(1),s.jc("href","#divDiagnoseGroup",e.data,"",s.yc),s.yb(1),s.Gc("ar"===i.selectedLang?e.label:e.labelTranslation)}}function Gn(e,t){if(1&e&&(s.Qb(0,"div",10),s.Fc(1,"\n            "),s.Lb(2,"patient-diagnosisGrid",11),s.Fc(3,"\n        "),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Bb("tab-pane fade ",0===n?"active in":"",""),s.jc("id","divDiagnoseGroup",e.data,""),s.yb(2),s.hc("diagnosis",e.children)("noteDiagnosis",i.noteDiagnosisList)("masterList",i.masterNoteDiagnosisList)("noteId",i.noteId)("diagnosisStatuses",i.diagnosisStatuses)}}function xn(e,t){if(1&e&&(s.Qb(0,"div",4),s.Fc(1,"\n    "),s.Qb(2,"ul",5),s.Fc(3,"\n        "),s.Dc(4,kn,3,5,"li",6),s.Fc(5,"\n    "),s.Pb(),s.Fc(6,"\n    "),s.Qb(7,"div",7),s.Fc(8,"\n        "),s.Dc(9,Gn,4,9,"div",8),s.Fc(10,"\n    "),s.Pb(),s.Fc(11,"\n"),s.Pb()),2&e){const e=s.Zb();s.yb(4),s.hc("ngForOf",e.departmentDiagnosis),s.yb(5),s.hc("ngForOf",e.departmentDiagnosis)}}let An=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectedLang="ar",this.showProgress=!1,this.departmentDiagnosis=[],this.noteDiagnosisList=[],this.masterNoteDiagnosisList=[],this.diagnosisStatuses=[],this.onDiagnosisSaved=new s.n,this.lstToTranslated=[],this.translateObjects=new A.a(this.storage),this.masterNoteDiagnosisList=[]}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.getClinicDepartmentDiagnoseGroupsForTreeView(),this.lstToTranslated=["label","labelTranslation"],this.getPatientNoteDiagnoseWrapper()}getPatientNoteDiagnoseWrapper(){let e=this;this.doctorService.getPatientNoteDiagnoseWrapper().subscribe(function(t){e.diagnosisStatuses=t.noteDiagnosisStatuses},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}ngOnChanges(){this.noteId&&(this.selectedLang=this.storage.retrieve("selectedLanguage"),this.loadNoteDiagnosisList())}getClinicDepartmentDiagnoseGroupsForTreeView(){let e=this;this.doctorService.getClinicDivisionDiagnoseGroupsForTreeView(this.divisionId).subscribe(function(t){e.departmentDiagnosis=t,e.translateObjects.transform(e.departmentDiagnosis,"",null,e.lstToTranslated)},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}loadNoteDiagnosisList(){let e=this;e.noteId&&e.noteId>0&&(e.showProgress=!0,this.doctorService.getClinicNoteDiagnosis(e.noteId).subscribe(function(t){e.noteDiagnosisList=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}))}SaveNoteDiagnosis(){let e=this;e.showProgress=!0,this.doctorService.createClinicNoteDiagnose(this.masterNoteDiagnosisList).subscribe(function(t){e.noteDiagnosisList=t;let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.onDiagnosisSaved.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-note-diagnosis"]],inputs:{noteId:"noteId"},outputs:{onDiagnosisSaved:"onDiagnosisSaved"},features:[s.wb],decls:9,vars:3,consts:[[4,"ngIf"],["class","btn btn-primary text-right",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"btn","btn-primary","text-right",3,"click"],[1,"row"],[1,"nav","nav-tabs"],[3,"class",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"class","id",4,"ngFor","ngForOf"],["data-toggle","tab","aria-expanded","true",3,"href"],[3,"id"],[3,"diagnosis","noteDiagnosis","masterList","noteId","diagnosisStatuses"]],template:function(e,t){1&e&&(s.Dc(0,Mn,4,0,"div",0),s.Fc(1,"\n\n"),s.Dc(2,Ln,3,3,"button",1),s.Fc(3,"\n"),s.Lb(4,"br"),s.Fc(5,"\n"),s.Lb(6,"br"),s.Fc(7,"\n"),s.Dc(8,xn,12,2,"div",2)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.departmentDiagnosis.length),s.yb(6),s.hc("ngIf",t.departmentDiagnosis.length))},directives:[i.k,L.a,i.j,Nn],pipes:[b.c],encapsulation:2}),e})(),Rn=(()=>{class e{constructor(){this.utilityClass=new N.a,this.diagnosis=[],this.drugDosageUnits=[],this.drugFrequencies=[],this.durationUnits=[],this.allDrugs=[],this.lstToTranslated=["drugName","drugNameTranslation"]}ngOnInit(){}ngOnChanges(){if(this.drugs&&this.noteDrugs&&this.masterList&&this.drugDosageUnits&&this.diagnosis){this.allDrugs=[];for(let e of this.drugs){let t=this.createClinicNoteDrug(e);if(this.allDrugs.push(t),0==t.id){let n=this.noteDrugs.find(t=>t.drugId==e.data);n&&(t.id=n.id,t.isSelected=!0,t.clinicNoteId=this.noteId,t.drugId=e.data,t.drugCode=e.code,t.drugName=e.label,t.drugNameTranslation=n.drugNameTranslation,t.dosageQuantity=n.dosageQuantity,t.dosageUnitId=n.dosageUnitId,t.frequencyId=n.frequencyId,t.duration=n.duration,t.durationUnit=n.durationUnit,t.startDate=this.utilityClass.getDateTimeFromString(n.startDate),t.relatedDiagnoseId=n.relatedDiagnoseId,t.description=n.description)}}}}createClinicNoteDrug(e){let t;return t=this.masterList.find(t=>t.drugId==e.data),null==t&&(t={id:0,isSelected:!1,clinicNoteId:this.noteId,drugId:e.data,drugCode:e.code,drugName:e.label,drugNameTranslation:e.labelTranslation,dosageQuantity:0,duration:0},this.masterList.push(t)),t}updateSelectedDrug(e,t){if(t.target.checked){let t=this.allDrugs.find(t=>t.drugId==e),n=this.masterList.find(t=>t.drugId==e);t.isSelected=!0,n.isSelected=!0}else{let t=this.allDrugs.find(t=>t.drugId==e);t.isSelected=!1,t.dosageQuantity=0,t.dosageUnitId=0,t.frequencyId=0,t.duration=0,t.durationUnit=0,t.startDate=null,t.relatedDiagnoseId=0,t.description="";let n=this.masterList.find(t=>t.drugId==e);n.isSelected=!1,n.dosageQuantity=0,n.dosageUnitId=0,n.frequencyId=0,n.duration=0,n.durationUnit=0,n.startDate=null,n.relatedDiagnoseId=0,n.description=""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-medicationsGrid"]],inputs:{drugs:"drugs",noteDrugs:"noteDrugs",diagnosis:"diagnosis",drugDosageUnits:"drugDosageUnits",drugFrequencies:"drugFrequencies",durationUnits:"durationUnits",masterList:"masterList",noteId:"noteId"},features:[s.wb],decls:10,vars:3,consts:[[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Qb(1,"div",0),s.Fc(2,"\n    "),s.Lb(3,"i",1),s.Fc(4,"\n    "),s.Lb(5,"input",2,3),s.ac(7,"translate"),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n")),2&e&&(s.yb(5),s.hc("placeholder",s.bc(7,1,"Search")))},pipes:[b.c],encapsulation:2}),e})();function Zn(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function On(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",3),s.Xb("click",function(){return s.wc(e),s.Zb().SaveNoteDrugs()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"Save")))}function Bn(e,t){if(1&e&&(s.Qb(0,"li"),s.Qb(1,"a",9),s.Fc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Ab(0===n?"active":""),s.yb(1),s.jc("href","#divDrugsGroup",e.data,"",s.yc),s.yb(1),s.Gc("ar"===i.selectedLang?e.label:e.labelTranslation)}}function Vn(e,t){if(1&e&&(s.Qb(0,"div",10),s.Fc(1,"\n            "),s.Lb(2,"patient-medicationsGrid",11),s.Fc(3,"\n        "),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Bb("tab-pane fade ",0===n?"active in":"",""),s.jc("id","divDrugsGroup",e.data,""),s.yb(2),s.hc("drugs",e.children)("noteDrugs",i.noteDrugsList)("diagnosis",i.noteDiagnosis)("drugDosageUnits",i.drugDosageUnitsList)("drugFrequencies",i.drugFrequenciesList)("durationUnits",i.durationUnitsList)("masterList",i.masterNoteDrugsList)("noteId",i.noteId)}}function Hn(e,t){if(1&e&&(s.Qb(0,"div",4),s.Fc(1,"\n    "),s.Qb(2,"ul",5),s.Fc(3,"\n        "),s.Dc(4,Bn,3,5,"li",6),s.Fc(5,"\n    "),s.Pb(),s.Fc(6,"\n    "),s.Qb(7,"div",7),s.Fc(8,"\n        "),s.Dc(9,Vn,4,12,"div",8),s.Fc(10,"\n    "),s.Pb(),s.Fc(11,"\n"),s.Pb()),2&e){const e=s.Zb();s.yb(4),s.hc("ngForOf",e.departmentDrugs),s.yb(5),s.hc("ngForOf",e.departmentDrugs)}}let Un=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectedLang="ar",this.showProgress=!1,this.noteDiagnosis=[],this.noteDrugsList=[],this.masterNoteDrugsList=[],this.drugDosageUnitsList=[],this.drugFrequenciesList=[],this.durationUnitsList=[],this.onMedicationSaved=new s.n,this.lstToTranslated=[],this.translateObjects=new A.a(this.storage),this.masterNoteDrugsList=[]}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.getClinicDepartmentDrugGroupsForTreeView(),this.lstToTranslated=["label","labelTranslation"],this.getClinicNoteMedicationWrapper()}ngOnChanges(){this.noteId&&(this.selectedLang=this.storage.retrieve("selectedLanguage"),this.getNoteDiagnosis(),this.loadnoteDrugsList())}getClinicNoteMedicationWrapper(){let e=this;this.doctorService.getClinicNoteMedicationWrapper(0).subscribe(function(t){e.drugDosageUnitsList=t.drugUnits,e.drugFrequenciesList=t.drugFrequencies,e.durationUnitsList=t.durationUnits},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getClinicDepartmentDrugGroupsForTreeView(){let e=this;this.doctorService.getClinicDivisionDrugGroupsForTreeView(this.divisionId).subscribe(function(t){e.departmentDrugs=t,e.translateObjects.transform(e.departmentDrugs,"",null,e.lstToTranslated)},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getNoteDiagnosis(){let e=this;this.doctorService.getNoteDiagnosis(this.noteId.toString()).subscribe(function(t){e.noteDiagnosis=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}loadnoteDrugsList(){let e=this;e.noteId&&e.noteId>0&&(e.showProgress=!0,this.doctorService.getClinicNoteMedications(e.noteId).subscribe(function(t){e.noteDrugsList=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}))}SaveNoteDrugs(){let e=this,t=this.validateRequiredFields();""==t?(e.showProgress=!0,this.doctorService.createClinicNoteMedication(this.masterNoteDrugsList).subscribe(function(t){e.noteDrugsList=t;let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.onMedicationSaved.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})):e.toastr.error(t,"")}validateRequiredFields(){for(let e of this.masterNoteDrugsList)if(e.isSelected){if(""==e.startDate||0==e.frequencyId||0==e.relatedDiagnoseId||0==e.durationUnit||0==e.dosageUnitId||null==e.startDate||null==e.frequencyId||null==e.relatedDiagnoseId||null==e.durationUnit||null==e.dosageUnitId)return this.translate.instant("MustFillAllRequiredFields");if(e.dosageQuantity<0||e.duration<0)return this.translate.instant("NegativeNumberValidation")}return""}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-note-medications"]],inputs:{noteId:"noteId"},outputs:{onMedicationSaved:"onMedicationSaved"},features:[s.wb],decls:9,vars:3,consts:[[4,"ngIf"],["class","btn btn-primary text-right",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"btn","btn-primary","text-right",3,"click"],[1,"row"],[1,"nav","nav-tabs"],[3,"class",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"class","id",4,"ngFor","ngForOf"],["data-toggle","tab","aria-expanded","true",3,"href"],[3,"id"],[3,"drugs","noteDrugs","diagnosis","drugDosageUnits","drugFrequencies","durationUnits","masterList","noteId"]],template:function(e,t){1&e&&(s.Dc(0,Zn,4,0,"div",0),s.Fc(1,"\n\n"),s.Dc(2,On,3,3,"button",1),s.Fc(3,"\n"),s.Lb(4,"br"),s.Fc(5,"\n"),s.Lb(6,"br"),s.Fc(7,"\n"),s.Dc(8,Hn,12,2,"div",2)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.departmentDrugs.length),s.yb(6),s.hc("ngIf",t.departmentDrugs.length))},directives:[i.k,L.a,i.j,Rn],pipes:[b.c],encapsulation:2}),e})(),Kn=(()=>{class e{constructor(){this.diagnosis=[],this.allServices=[],this.lstToTranslated=["serviceName","serviceNameTranslation"]}ngOnInit(){}ngOnChanges(){if(this.services&&this.noteServices&&this.masterList){this.allServices=[];for(let e of this.services){let t=this.createClinicNoteService(e);if(this.allServices.push(t),0==t.id){let n=this.noteServices.find(t=>t.serviceId==e.data);n&&(t.id=n.id,t.isSelected=!0,t.clinicNoteId=this.noteId,t.serviceId=e.data,t.serviceCode=e.code,t.serviceName=e.label,t.quantity=n.quantity,t.discount=n.discount,t.diagnoseId=n.diagnoseId,t.description=n.description,t.serviceNameTranslation=n.serviceNameTranslation)}}}}createClinicNoteService(e){let t;return t=this.masterList.find(t=>t.serviceId==e.data),null==t&&(t={id:0,isSelected:!1,clinicNoteId:this.noteId,serviceId:e.data,serviceCode:e.code,serviceName:e.label,quantity:1,discount:0,serviceNameTranslation:e.labelTranslation},this.masterList.push(t)),t}updateSelectedService(e,t){if(t.target.checked){let t=this.allServices.find(t=>t.serviceId==e),n=this.masterList.find(t=>t.serviceId==e);t.isSelected=!0,n.isSelected=!0}else{let t=this.allServices.find(t=>t.serviceId==e);t.quantity=1,t.discount=0,t.isSelected=!1,t.diagnoseId=0,t.description="";let n=this.masterList.find(t=>t.serviceId==e);n.quantity=1,n.discount=0,n.isSelected=!1,n.diagnoseId=0,n.description=""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-servicesGrid"]],inputs:{services:"services",noteServices:"noteServices",diagnosis:"diagnosis",masterList:"masterList",noteId:"noteId"},features:[s.wb],decls:10,vars:3,consts:[[1,"ui-widget-header","searchWidget"],[1,"fa","fa-search","searchIcon"],["type","text","pInputText","","size","50",3,"placeholder"],["gb",""]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Qb(1,"div",0),s.Fc(2,"\n    "),s.Lb(3,"i",1),s.Fc(4,"\n    "),s.Lb(5,"input",2,3),s.ac(7,"translate"),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n")),2&e&&(s.yb(5),s.hc("placeholder",s.bc(7,1,"Search")))},pipes:[b.c],encapsulation:2}),e})(),Xn=(()=>{class e{constructor(){this.diagnosis=[],this.allPackages=[],this.lstToTranslated=["servicePackageName","servicePackageNameTranslation"]}ngOnInit(){}ngOnChanges(){if(this.packages&&this.notePackages&&this.masterList){this.allPackages=[];for(let e of this.packages){let t=this.createClinicNoteService(e);if(this.allPackages.push(t),0==t.id){let n=this.notePackages.find(t=>t.servicePackageId==e.data);n&&(t.id=n.id,t.isSelected=!0,t.clinicNoteId=this.noteId,t.servicePackageId=e.data,t.servicePackageCode=e.code,t.servicePackageName=e.label,t.quantity=n.quantity,t.discount=n.discount,t.diagnoseId=n.diagnoseId,t.description=n.description,t.servicePackageNameTranslation=n.servicePackageNameTranslation)}}}}createClinicNoteService(e){let t;return t=this.masterList.find(t=>t.servicePackageId==e.data),null==t&&(t={id:0,isSelected:!1,clinicNoteId:this.noteId,servicePackageId:e.data,servicePackageCode:e.code,servicePackageName:e.label,quantity:1,discount:0,servicePackageNameTranslation:e.labelTranslation},this.masterList.push(t)),t}updateSelectedService(e,t){if(t.target.checked){let t=this.allPackages.find(t=>t.servicePackageId==e),n=this.masterList.find(t=>t.servicePackageId==e);t.isSelected=!0,n.isSelected=!0}else{let t=this.allPackages.find(t=>t.servicePackageId==e);t.quantity=1,t.discount=0,t.isSelected=!1,t.diagnoseId=0,t.description="";let n=this.masterList.find(t=>t.servicePackageId==e);n.quantity=1,n.discount=0,n.isSelected=!1,n.diagnoseId=0,n.description=""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-servicePackages-grid"]],inputs:{packages:"packages",notePackages:"notePackages",diagnosis:"diagnosis",masterList:"masterList",noteId:"noteId"},features:[s.wb],decls:14,vars:3,consts:[[1,"ui-widget-header","searchWidget"],[1,"fa","fa-search","searchIcon"],["type","text","pInputText","","size","50",3,"placeholder"],["gb",""]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Qb(1,"div"),s.Fc(2,"\n    "),s.Qb(3,"div",0),s.Fc(4,"\n        "),s.Lb(5,"i",1),s.Fc(6,"\n        "),s.Lb(7,"input",2,3),s.ac(9,"translate"),s.Fc(10,"\n    "),s.Pb(),s.Fc(11,"\n    "),s.Fc(12,"\n"),s.Pb(),s.Fc(13,"\n")),2&e&&(s.yb(7),s.hc("placeholder",s.bc(9,1,"Search")))},pipes:[b.c],encapsulation:2}),e})();function En(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function qn(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",12),s.Xb("click",function(){return s.wc(e),s.Zb().SaveNoteServices()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"Save")))}function zn(e,t){if(1&e&&(s.Qb(0,"li"),s.Qb(1,"a",13),s.Fc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb();s.Ab(0===n?"active":""),s.yb(1),s.jc("href","#divServicesGroup",e.data,"",s.yc),s.yb(1),s.Gc("ar"===i.selectedLang?e.label:e.labelTranslation)}}function jn(e,t){if(1&e&&(s.Qb(0,"div",14),s.Fc(1,"\n                                    "),s.Lb(2,"patient-servicesGrid",15),s.Fc(3,"\n                                "),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb();s.Bb("tab-pane fade ",0===n?"active in":"",""),s.jc("id","divServicesGroup",e.data,""),s.yb(2),s.hc("services",e.children)("noteServices",i.noteServicesList)("diagnosis",i.noteDiagnosis)("masterList",i.masterNoteServicesList)("noteId",i.noteId)}}function $n(e,t){if(1&e&&(s.Qb(0,"li"),s.Qb(1,"a",13),s.Fc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb();s.Ab(0===n?"active":""),s.yb(1),s.jc("href","#divServicePackagesGroup",e.data,"",s.yc),s.yb(1),s.Gc("ar"===i.selectedLang?e.label:e.labelTranslation)}}function _n(e,t){if(1&e&&(s.Qb(0,"div",14),s.Fc(1,"\n                                    "),s.Lb(2,"patient-servicePackages-grid",16),s.Fc(3,"\n                                "),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb();s.Bb("tab-pane fade ",0===n?"active in":"",""),s.jc("id","divServicePackagesGroup",e.data,""),s.yb(2),s.hc("packages",e.children)("notePackages",i.noteServicesList)("diagnosis",i.noteDiagnosis)("masterList",i.masterNoteServicesList)("noteId",i.noteId)}}let Yn=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectedLang="ar",this.showProgress=!1,this.departmentServices=[],this.noteDiagnosis=[],this.noteServicesList=[],this.noteServicePackagesList=[],this.masterNoteServicesList=[],this.masterNoteServicePackagesList=[],this.departmentServicePackages=[],this.rbSelections=[{value:1,text:"Service"},{value:2,text:"ServicePackage"}],this.isService=!0,this.selectedAction=1,this.onServicesSaved=new s.n,this.lstToTranslated=[],this.translateObjects=new A.a(this.storage),this.masterNoteServicesList=[],this.masterNoteServicePackagesList=[]}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.getClinicDepartmentServiceGroupsForTreeView(),this.getClinicDepartmentServicePackageGroupsForTreeView(),this.lstToTranslated=["label","labelTranslation"]}ngOnChanges(){this.noteId&&(this.selectedLang=this.storage.retrieve("selectedLanguage"),this.getNoteDiagnosis(),this.loadNoteServicesList())}getClinicDepartmentServiceGroupsForTreeView(){let e=this;this.doctorService.getClinicDivisionServiceGroupsForTreeView(this.divisionId).subscribe(function(t){e.departmentServices=t,e.translateObjects.transform(e.departmentServices,"",null,e.lstToTranslated)},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getClinicDepartmentServicePackageGroupsForTreeView(){let e=this;this.doctorService.getClinicDivisionServicePackageGroupsForTreeView(this.divisionId).subscribe(function(t){e.departmentServicePackages=t,e.translateObjects.transform(e.departmentServicePackages,"",null,e.lstToTranslated)},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getNoteDiagnosis(){let e=this;this.doctorService.getNoteDiagnosis(this.noteId.toString()).subscribe(function(t){e.noteDiagnosis=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}loadNoteServicesList(){let e=this;e.noteId&&e.noteId>0&&(e.showProgress=!0,this.doctorService.getNoteServicesList(e.noteId).subscribe(function(t){e.noteServicesList=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}))}SaveNoteServices(){let e=this;e.showProgress=!0,this.doctorService.createClinicNoteService(this.masterNoteServicesList).subscribe(function(t){e.noteServicesList=t;let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.onServicesSaved.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}onSelectionChange(e){this.selectedAction=e,1==this.selectedAction?this.isService=!0:2==this.selectedAction&&(this.isService=!1)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-note-services"]],inputs:{noteId:"noteId"},outputs:{onServicesSaved:"onServicesSaved"},features:[s.wb],decls:55,vars:12,consts:[[4,"ngIf"],["class","btn btn-primary text-right",3,"click",4,"ngIf"],[1,"row"],[1,"nav","nav-tabs"],[1,"active"],["href","#servicesPanel11","data-toggle","tab","aria-expanded","true"],["href","#serviceGroupPanel11","data-toggle","tab","aria-expanded","true"],[1,"tab-content"],["id","servicesPanel11",1,"tab-pane","fade","active","in"],[3,"class",4,"ngFor","ngForOf"],[3,"class","id",4,"ngFor","ngForOf"],["id","serviceGroupPanel11",1,"tab-pane","fade"],[1,"btn","btn-primary","text-right",3,"click"],["data-toggle","tab","aria-expanded","true",3,"href"],[3,"id"],[3,"services","noteServices","diagnosis","masterList","noteId"],[3,"packages","notePackages","diagnosis","masterList","noteId"]],template:function(e,t){1&e&&(s.Dc(0,En,4,0,"div",0),s.Fc(1,"\n"),s.Dc(2,qn,3,3,"button",1),s.Fc(3,"\n"),s.Lb(4,"br"),s.Fc(5,"\n"),s.Fc(6,"\n\n            "),s.Qb(7,"div",2),s.Fc(8,"\n                "),s.Qb(9,"ul",3),s.Fc(10,"\n                    "),s.Qb(11,"li",4),s.Qb(12,"a",5),s.Fc(13),s.ac(14,"translate"),s.Pb(),s.Pb(),s.Fc(15,"\n                    "),s.Qb(16,"li"),s.Qb(17,"a",6),s.Fc(18),s.ac(19,"translate"),s.Pb(),s.Pb(),s.Fc(20,"\n                "),s.Pb(),s.Fc(21,"\n                "),s.Qb(22,"div",7),s.Fc(23,"\n                    "),s.Qb(24,"div",8),s.Fc(25,"\n                            "),s.Qb(26,"ul",3),s.Fc(27,"\n                                "),s.Dc(28,zn,3,5,"li",9),s.Fc(29,"\n                            "),s.Pb(),s.Fc(30,"\n                            "),s.Qb(31,"div",7),s.Fc(32,"\n                                "),s.Dc(33,jn,4,9,"div",10),s.Fc(34,"\n                            "),s.Pb(),s.Fc(35,"\n                    "),s.Pb(),s.Fc(36,"\n                    "),s.Qb(37,"div",11),s.Fc(38,"\n                        "),s.Qb(39,"div",2),s.Fc(40,"\n                            "),s.Qb(41,"ul",3),s.Fc(42,"\n                                "),s.Dc(43,$n,3,5,"li",9),s.Fc(44,"\n                            "),s.Pb(),s.Fc(45,"\n                            "),s.Qb(46,"div",7),s.Fc(47,"\n                                "),s.Dc(48,_n,4,9,"div",10),s.Fc(49,"\n                            "),s.Pb(),s.Fc(50,"\n                        "),s.Pb(),s.Fc(51,"\n                    "),s.Pb(),s.Fc(52,"\n                "),s.Pb(),s.Fc(53,"\n            "),s.Pb(),s.Fc(54,"\n\n\n\n\n\n\n\n\n\n\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.departmentServices.length||t.departmentServicePackages.length),s.yb(11),s.Gc(s.bc(14,8,"Services")),s.yb(5),s.Gc(s.bc(19,10,"ServicePackage")),s.yb(10),s.hc("ngForOf",t.departmentServices),s.yb(5),s.hc("ngForOf",t.departmentServices),s.yb(10),s.hc("ngForOf",t.departmentServicePackages),s.yb(5),s.hc("ngForOf",t.departmentServicePackages))},directives:[i.k,i.j,L.a,Kn,Xn],pipes:[b.c],encapsulation:2}),e})(),Wn=(()=>{class e{constructor(){this.diagnosis=[],this.allLaboratories=[],this.lstToTranslated=["labTestName","labTestNameTranslation"]}ngOnInit(){}ngOnChanges(){if(this.laboratories&&this.noteLaboratories&&this.masterList){this.allLaboratories=[];for(let e of this.laboratories){let t=this.createClinicNoteLaboratory(e);if(this.allLaboratories.push(t),0==t.id){let n=this.noteLaboratories.find(t=>t.labTestId==e.data);n&&(t.id=n.id,t.isSelected=!0,t.clinicNoteId=this.noteId,t.labTestId=e.data,t.labTestCode=e.code,t.labTestName=e.label,t.quantity=n.quantity,t.diagnoseId=n.diagnoseId,t.description=n.description,t.labTestNameTranslation=n.labTestNameTranslation)}}}}createClinicNoteLaboratory(e){let t;return t=this.masterList.find(t=>t.labTestId==e.data),null==t&&(t={id:0,isSelected:!1,clinicNoteId:this.noteId,labTestId:e.data,labTestCode:e.code,labTestName:e.label,quantity:1,labTestNameTranslation:e.labelTranslation},this.masterList.push(t)),t}updateSelectedLaboratory(e,t){if(t.target.checked){let t=this.allLaboratories.find(t=>t.labTestId==e),n=this.masterList.find(t=>t.labTestId==e);t.isSelected=!0,n.isSelected=!0}else{let t=this.allLaboratories.find(t=>t.labTestId==e);t.quantity=1,t.isSelected=!1,t.diagnoseId=0,t.description="";let n=this.masterList.find(t=>t.labTestId==e);n.quantity=1,n.isSelected=!1,n.diagnoseId=0,n.description=""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-laboratoryGrid"]],inputs:{laboratories:"laboratories",noteLaboratories:"noteLaboratories",diagnosis:"diagnosis",masterList:"masterList",noteId:"noteId"},features:[s.wb],decls:10,vars:3,consts:[[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Qb(1,"div",0),s.Fc(2,"\n    "),s.Lb(3,"i",1),s.Fc(4,"\n    "),s.Lb(5,"input",2,3),s.ac(7,"translate"),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n")),2&e&&(s.yb(5),s.hc("placeholder",s.bc(7,1,"Search")))},pipes:[b.c],encapsulation:2}),e})();function Jn(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function ei(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",3),s.Xb("click",function(){return s.wc(e),s.Zb().SaveNoteLaboratories()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"Save")))}function ti(e,t){if(1&e&&(s.Qb(0,"li"),s.Qb(1,"a",9),s.Fc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Ab(0===n?"active":""),s.yb(1),s.jc("href","#divLaboratoryGroup",e.data,"",s.yc),s.yb(1),s.Gc("ar"===i.selectedLang?e.label:e.labelTranslation)}}function ni(e,t){if(1&e&&(s.Qb(0,"div",10),s.Fc(1,"\n            "),s.Lb(2,"patient-laboratoryGrid",11),s.Fc(3,"\n        "),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Bb("tab-pane fade ",0===n?"active in":"",""),s.jc("id","divLaboratoryGroup",e.data,""),s.yb(2),s.hc("laboratories",e.children)("noteLaboratories",i.noteLaboratoriesList)("diagnosis",i.noteDiagnosis)("masterList",i.masterNoteLaboratoriesList)("noteId",i.noteId)}}function ii(e,t){if(1&e&&(s.Qb(0,"div",4),s.Fc(1,"\n    "),s.Qb(2,"ul",5),s.Fc(3,"\n        "),s.Dc(4,ti,3,5,"li",6),s.Fc(5,"\n    "),s.Pb(),s.Fc(6,"\n    "),s.Qb(7,"div",7),s.Fc(8,"\n        "),s.Dc(9,ni,4,9,"div",8),s.Fc(10,"\n    "),s.Pb(),s.Fc(11,"\n"),s.Pb()),2&e){const e=s.Zb();s.yb(4),s.hc("ngForOf",e.departmentLaboratories),s.yb(5),s.hc("ngForOf",e.departmentLaboratories)}}let ci=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectedLang="ar",this.showProgress=!1,this.departmentLaboratories=[],this.noteDiagnosis=[],this.noteLaboratoriesList=[],this.masterNoteLaboratoriesList=[],this.onLaboratoriesSaved=new s.n,this.lstToTranslated=[],this.translateObjects=new A.a(this.storage),this.masterNoteLaboratoriesList=[]}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.getClinicDepartmentLaboratoryTestsGroupsForTreeView(),this.lstToTranslated=["label","labelTranslation"]}ngOnChanges(){this.noteId&&(this.selectedLang=this.storage.retrieve("selectedLanguage"),this.getNoteDiagnosis(),this.loadNoteLaboratoryList())}getClinicDepartmentLaboratoryTestsGroupsForTreeView(){let e=this;this.doctorService.getClinicDivisionLaboratoryTestsGroupsForTreeView(this.divisionId).subscribe(function(t){e.departmentLaboratories=t,e.translateObjects.transform(e.departmentLaboratories,"",null,e.lstToTranslated)},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getNoteDiagnosis(){let e=this;this.doctorService.getNoteDiagnosis(this.noteId.toString()).subscribe(function(t){e.noteDiagnosis=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}loadNoteLaboratoryList(){let e=this;e.noteId&&e.noteId>0&&(e.showProgress=!0,this.doctorService.getClinicNoteLabTests(e.noteId).subscribe(function(t){e.noteLaboratoriesList=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}))}SaveNoteLaboratories(){let e=this;e.showProgress=!0,this.doctorService.createClinicNoteLabTest(this.masterNoteLaboratoriesList).subscribe(function(t){e.noteLaboratoriesList=t;let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.onLaboratoriesSaved.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-note-laboratory"]],inputs:{noteId:"noteId"},outputs:{onLaboratoriesSaved:"onLaboratoriesSaved"},features:[s.wb],decls:9,vars:3,consts:[[4,"ngIf"],["class","btn btn-primary text-right",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"btn","btn-primary","text-right",3,"click"],[1,"row"],[1,"nav","nav-tabs"],[3,"class",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"class","id",4,"ngFor","ngForOf"],["data-toggle","tab","aria-expanded","true",3,"href"],[3,"id"],[3,"laboratories","noteLaboratories","diagnosis","masterList","noteId"]],template:function(e,t){1&e&&(s.Dc(0,Jn,4,0,"div",0),s.Fc(1,"\n\n"),s.Dc(2,ei,3,3,"button",1),s.Fc(3,"\n"),s.Lb(4,"br"),s.Fc(5,"\n"),s.Lb(6,"br"),s.Fc(7,"\n"),s.Dc(8,ii,12,2,"div",2)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.departmentLaboratories.length),s.yb(6),s.hc("ngIf",t.departmentLaboratories.length))},directives:[i.k,L.a,i.j,Wn],pipes:[b.c],encapsulation:2}),e})(),ai=(()=>{class e{constructor(){this.diagnosis=[],this.allRadiologies=[],this.lstToTranslated=["radTestName","radTestNameTranslation"]}ngOnInit(){}ngOnChanges(){if(this.radiologies&&this.noteRadiologies&&this.masterList){this.allRadiologies=[];for(let t of this.radiologies){let n={},i=this.noteRadiologies.find(e=>e.radiologyTestId==t.data);n=i?{id:i.id,isSelected:!0,clinicNoteId:this.noteId,radiologyTestId:t.data,radTestCode:t.code,radTestName:t.label,quantity:i.quantity,diagnoseId:i.diagnoseId,description:i.description,radTestNameTranslation:i.radTestNameTranslation}:{isSelected:!1,clinicNoteId:this.noteId,radiologyTestId:t.data,radTestCode:t.code,radTestName:t.label,quantity:1,radTestNameTranslation:t.labelTranslation},this.allRadiologies.push(n);let c=this.masterList.find(e=>e.radiologyTestId==t.data);if(null==c||null==c)this.masterList.push(n);else{var e=this.masterList.indexOf(c);e>-1&&(this.masterList.splice(e,1),this.masterList.push(n))}}}}updateSelectedRadiology(e,t){if(t.target.checked){let t=this.allRadiologies.find(t=>t.radiologyTestId==e),n=this.masterList.find(t=>t.radiologyTestId==e);t.isSelected=!0,n.isSelected=!0}else{let t=this.allRadiologies.find(t=>t.radiologyTestId==e);t.quantity=1,t.isSelected=!1,t.diagnoseId=0,t.description="";let n=this.masterList.find(t=>t.radiologyTestId==e);n.quantity=1,n.isSelected=!1,n.diagnoseId=0,n.description=""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-radiologyGrid"]],inputs:{radiologies:"radiologies",noteRadiologies:"noteRadiologies",diagnosis:"diagnosis",masterList:"masterList",noteId:"noteId"},features:[s.wb],decls:10,vars:3,consts:[[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""]],template:function(e,t){1&e&&(s.Fc(0,"\n\n"),s.Qb(1,"div",0),s.Fc(2,"\n    "),s.Lb(3,"i",1),s.Fc(4,"\n    "),s.Lb(5,"input",2,3),s.ac(7,"translate"),s.Fc(8,"\n"),s.Pb(),s.Fc(9,"\n")),2&e&&(s.yb(5),s.hc("placeholder",s.bc(7,1,"Search")))},pipes:[b.c],encapsulation:2}),e})();function si(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function oi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",3),s.Xb("click",function(){return s.wc(e),s.Zb().SaveNoteRadiologies()}),s.Fc(1),s.ac(2,"translate"),s.Pb()}2&e&&(s.yb(1),s.Gc(s.bc(2,1,"Save")))}function ri(e,t){if(1&e&&(s.Qb(0,"li"),s.Qb(1,"a",9),s.Fc(2),s.Pb(),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Ab(0===n?"active":""),s.yb(1),s.jc("href","#divRadiologyGroup",e.data,"",s.yc),s.yb(1),s.Gc("ar"===i.selectedLang?e.label:e.labelTranslation)}}function li(e,t){if(1&e&&(s.Qb(0,"div",10),s.Fc(1,"\n            "),s.Lb(2,"patient-radiologyGrid",11),s.Fc(3,"\n        "),s.Pb()),2&e){const e=t.$implicit,n=t.index,i=s.Zb(2);s.Bb("tab-pane fade ",0===n?"active in":"",""),s.jc("id","divRadiologyGroup",e.data,""),s.yb(2),s.hc("radiologies",e.children)("noteRadiologies",i.noteRadiologiesList)("diagnosis",i.noteDiagnosis)("masterList",i.masterNoteRadiologiesList)("noteId",i.noteId)}}function di(e,t){if(1&e&&(s.Qb(0,"div",4),s.Fc(1,"\n    "),s.Qb(2,"ul",5),s.Fc(3,"\n        "),s.Dc(4,ri,3,5,"li",6),s.Fc(5,"\n    "),s.Pb(),s.Fc(6,"\n    "),s.Qb(7,"div",7),s.Fc(8,"\n        "),s.Dc(9,li,4,9,"div",8),s.Fc(10,"\n    "),s.Pb(),s.Fc(11,"\n"),s.Pb()),2&e){const e=s.Zb();s.yb(4),s.hc("ngForOf",e.departmentRadiologies),s.yb(5),s.hc("ngForOf",e.departmentRadiologies)}}let bi=(()=>{class e{constructor(e,t,n,i,c,a){this.doctorService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectedLang="ar",this.showProgress=!1,this.departmentRadiologies=[],this.noteDiagnosis=[],this.noteRadiologiesList=[],this.masterNoteRadiologiesList=[],this.onRadiologiesSaved=new s.n,this.lstToTranslated=[],this.translateObjects=new A.a(this.storage),this.masterNoteRadiologiesList=[]}ngOnInit(){this.divisionId=this._route.snapshot.params.divisionId,this.getClinicDepartmentRadiologyTestsGroups(),this.lstToTranslated=["label","labelTranslation"]}ngOnChanges(){this.noteId&&(this.selectedLang=this.storage.retrieve("selectedLanguage"),this.getNoteDiagnosis(),this.loadNoteRadiologyList())}getClinicDepartmentRadiologyTestsGroups(){let e=this;this.doctorService.getClinicDivisionRadiologyTestsGroups(this.divisionId).subscribe(function(t){e.departmentRadiologies=t,e.translateObjects.transform(e.departmentRadiologies,"",null,e.lstToTranslated)},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}getNoteDiagnosis(){let e=this;this.doctorService.getNoteDiagnosis(this.noteId.toString()).subscribe(function(t){e.noteDiagnosis=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}loadNoteRadiologyList(){let e=this;e.noteId&&e.noteId>0&&(e.showProgress=!0,this.doctorService.getClinicNoteRadTests(e.noteId).subscribe(function(t){e.noteRadiologiesList=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}))}SaveNoteRadiologies(){let e=this;e.showProgress=!0,this.doctorService.createClinicNoteRadTest(this.masterNoteRadiologiesList).subscribe(function(t){e.noteRadiologiesList=t;let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.onRadiologiesSaved.emit()},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(M.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-note-radiology"]],inputs:{noteId:"noteId"},outputs:{onRadiologiesSaved:"onRadiologiesSaved"},features:[s.wb],decls:9,vars:3,consts:[[4,"ngIf"],["class","btn btn-primary text-right",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"btn","btn-primary","text-right",3,"click"],[1,"row"],[1,"nav","nav-tabs"],[3,"class",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"class","id",4,"ngFor","ngForOf"],["data-toggle","tab","aria-expanded","true",3,"href"],[3,"id"],[3,"radiologies","noteRadiologies","diagnosis","masterList","noteId"]],template:function(e,t){1&e&&(s.Dc(0,si,4,0,"div",0),s.Fc(1,"\n\n"),s.Dc(2,oi,3,3,"button",1),s.Fc(3,"\n"),s.Lb(4,"br"),s.Fc(5,"\n"),s.Lb(6,"br"),s.Fc(7,"\n"),s.Dc(8,di,12,2,"div",2)),2&e&&(s.hc("ngIf",t.showProgress),s.yb(2),s.hc("ngIf",t.departmentRadiologies.length),s.yb(6),s.hc("ngIf",t.departmentRadiologies.length))},directives:[i.k,L.a,i.j,ai],pipes:[b.c],encapsulation:2}),e})();const hi=["fileInput"];let ui=(()=>{class e{constructor(e,t,n,i,c){this.organizationService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.selectBasicTab=!0,this.selectAttachmentsTab=!0,this.isDetailsVisible=!1,this.allowEditing=!0,this.type="PatientFileType",this.docsDetailsUrl="patientAttachmentDetails",this.docsListUrl="patientAttachments",this.organizationId="",this.active=!0,this.model={},this.classifications=[],this.showProgress=!1,this.isDoctor=!1,this.isReceptionist=!1,this.previousTab="",this.nextTab=""}ngOnInit(){}clear(){this.model={},this.active=!1,this.storage.store("OrganizationID","new"),setTimeout(()=>this.active=!0,0)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-attachments"]],viewQuery:function(e,t){if(1&e&&s.Lc(hi,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{allowEditing:"allowEditing"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var gi=n("NEZy"),pi=n("W242");const Fi=["fileInput"];let mi=(()=>{class e{constructor(e,t,n,i,c,a){this.organizationService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.onBack=new s.n,this.showDocumentDetails=!1,this.fileNameTxt=this.translate.instant("TemplateName"),this.btnUploadText=this.translate.instant("ApplyTemplate"),this.fileNameUploadTxt=this.translate.instant("AppliedTemplate"),this.fileType=!1,this.isTemplateExist=!0,this.showSelectedTemplates=!0,this.showBackBtn=!1,this.parentType="DoctorAppliedTemplate",this.attachmentsList=[],this.parentId="",this.active=!0,this.model={},this.classifications=[],this.showProgress=!1,this.isReceptionist=!1}ngOnInit(){this.isReceptionist=this.storage.retrieve("IsReceptionist")}clear(){this.model={},this.active=!1,this.storage.store("OrganizationID","new"),setTimeout(()=>this.active=!0,0)}goBack(){this.onBack.emit()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-template-details"]],viewQuery:function(e,t){if(1&e&&s.Lc(Fi,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{noteId:"noteId"},outputs:{onBack:"onBack"},decls:3,vars:10,consts:[[3,"parentType","isTemplateExist","fileType","fileNameTxt","showSelectedTemplates","noteId","fileNameUploadTxt","showBackBtn","attachementId","title","onAttachementSaved"]],template:function(e,t){1&e&&(s.Fc(0,"    "),s.Qb(1,"document-details",0),s.Xb("onAttachementSaved",function(){return t.goBack()}),s.Pb(),s.Fc(2,"\n")),2&e&&(s.yb(1),s.hc("parentType",t.parentType)("isTemplateExist",t.isTemplateExist)("fileType",t.fileType)("fileNameTxt",t.fileNameTxt)("showSelectedTemplates",t.showSelectedTemplates)("noteId",t.noteId)("fileNameUploadTxt",t.fileNameUploadTxt)("showBackBtn",t.showBackBtn)("attachementId",t.patientAttachementId)("title",t.Attachment))},directives:[pi.a],encapsulation:2}),e})();const fi=["fileInput"];function vi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",7),s.Fc(1,"\n            "),s.Qb(2,"button",8),s.Xb("click",function(){return s.wc(e),s.Zb(2).showDetails()}),s.Fc(3,"Apply Template"),s.Pb(),s.Fc(4,"\n        "),s.Pb()}}function yi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",1),s.Fc(1,"\n    "),s.Qb(2,"div",2),s.Fc(3,"\n        "),s.Qb(4,"div",3),s.Fc(5,"\n\n        "),s.Pb(),s.Fc(6,"\n        "),s.Dc(7,vi,5,0,"div",4),s.Fc(8,"\n    "),s.Pb(),s.Fc(9,"\n    "),s.Lb(10,"div",5),s.Fc(11,"\n\n\n    "),s.Qb(12,"documents",6),s.Xb("onModelUpdated",function(t){return s.wc(e),s.Zb().updateModel(t)}),s.Pb(),s.Fc(13,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(7),s.hc("ngIf",e.allowEditing),s.yb(5),s.hc("btnUploadText",e.btnUploadText)("parentId",e.noteId)("title",e.Template)("fileNameUploadTxt",e.fileNameUploadTxt)("fileType",e.fileType)("parentType",e.type)("isTemplateExist",e.isTemplateExist)("fileNameTxt",e.fileNameTxt)}}function Pi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",1),s.Fc(1,"\n    "),s.Qb(2,"patient-template-details",9),s.Xb("onBack",function(){return s.wc(e),s.Zb().hideDetails()}),s.Pb(),s.Fc(3,"\n"),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("noteId",e.noteId)}}let Si=(()=>{class e{constructor(e,t,n,i,c,a){this.organizationService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.translate=a,this.selectBasicTab=!0,this.isDetailsVisible=!1,this.allowEditing=!0,this.active=!0,this.classifications=[],this.showProgress=!1,this.isDoctor=!1,this.isReceptionist=!1,this.previousTab="",this.nextTab="",this.fileNameTxt=this.translate.instant("TemplateName"),this.btnUploadText=this.translate.instant("ApplyTemplate"),this.fileNameUploadTxt=this.translate.instant("AppliedTemplate"),this.fileType=!1,this.isTemplateExist=!0,this.type="DoctorAppliedTemplate",this.patientAttachementId=""}ngOnInit(){this.isDoctor=this.storage.retrieve("IsDoctor"),this.isReceptionist=this.storage.retrieve("IsReceptionist"),this.isDoctor?(this.previousTab="/patient/radiology/1",this.nextTab="/doctor/appointments"):(this.previousTab="/patient/services/1",this.nextTab="/nurse/appointments/1")}showDetails(){this.isDetailsVisible=!0}hideDetails(){this.isDetailsVisible=!1}updateModel(e){}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-templates"]],viewQuery:function(e,t){if(1&e&&s.Lc(fi,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},inputs:{allowEditing:"allowEditing",noteId:"noteId"},decls:4,vars:2,consts:[["id","divTable","class","padding5",4,"ngIf"],["id","divTable",1,"padding5"],[1,"row"],[1,"col-md-4","nopadding"],["class","col-md-8 align-reverse nopadding",4,"ngIf"],[1,"padding2"],[3,"btnUploadText","parentId","title","fileNameUploadTxt","fileType","parentType","isTemplateExist","fileNameTxt","onModelUpdated"],[1,"col-md-8","align-reverse","nopadding"],["type","button",1,"btn","btn-primary",3,"click"],[3,"noteId","onBack"]],template:function(e,t){1&e&&(s.Fc(0,"\n\n"),s.Dc(1,yi,14,9,"div",0),s.Fc(2,"\n"),s.Dc(3,Pi,4,1,"div",0)),2&e&&(s.yb(1),s.hc("ngIf",!t.isDetailsVisible),s.yb(2),s.hc("ngIf",t.isDetailsVisible))},directives:[i.k,gi.a,mi],encapsulation:2}),e})();const Ii=function(){return{height:"320px"}};let Di=(()=>{class e{constructor(e,t,n,i){this.toastr=e,this.patientService=t,this.storage=n,this.translate=i,this.clinicNote={},this.onRemarksSaved=new s.n}ngOnInit(){let e=this;this.noteId&&this.noteId>0&&this.patientService.getClinicNoteById(e.noteId).subscribe(function(t){e.clinicNote=t},function(t){e.toastr.error(t,"")},function(){})}saveNoteRemark(){let e=this;this.patientService.saveClinicNoteRemarks(this.clinicNote).subscribe(function(t){let n=e.translate.instant("SavedSuccessfully");e.toastr.success(n,""),e.clinicNote=t,e.onRemarksSaved.emit()},function(t){e.toastr.error(t,"")},function(){})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(l.b),s.Kb(o.a),s.Kb(d.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-remarks"]],inputs:{noteId:"noteId"},outputs:{onRemarksSaved:"onRemarksSaved"},decls:15,vars:10,consts:[[1,"align-reverse"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary"],[3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(s.Fc(0,"\n"),s.Qb(1,"div",0),s.Fc(2,"\n    "),s.Qb(3,"button",1),s.Xb("click",function(){return t.saveNoteRemark()}),s.Fc(4),s.ac(5,"translate"),s.Pb(),s.Fc(6,"\n    "),s.Qb(7,"button",2),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n"),s.Pb(),s.Fc(11,"\n\n"),s.Qb(12,"p-editor",3),s.Xb("ngModelChange",function(e){return t.clinicNote.description=e}),s.Fc(13,"\n"),s.Pb(),s.Fc(14,"\n\n\n")),2&e&&(s.yb(4),s.Gc(s.bc(5,5,"Save")),s.yb(4),s.Gc(s.bc(9,7,"Cancel")),s.yb(4),s.Ac(s.lc(9,Ii)),s.hc("ngModel",t.clinicNote.description))},directives:[c.f,c.i],pipes:[b.c],encapsulation:2}),e})();const Qi=["patientVitalSignsComp"];function Ti(e,t){1&e&&(s.Qb(0,"span"),s.Fc(1),s.ac(2,"translate"),s.ac(3,"translate"),s.Pb()),2&e&&(s.yb(1),s.Ic("\n                            ",s.bc(2,2,"ChiefComplaint"),"\n                            & ",s.bc(3,4,"VitalSigns"),"\n                        "))}function wi(e,t){1&e&&(s.Qb(0,"span"),s.Fc(1),s.ac(2,"translate"),s.Pb()),2&e&&(s.yb(1),s.Hc("\n                            ",s.bc(2,1,"VitalSigns"),"\n                        "))}const Ci=function(e){return{notactive:e}};function Ni(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li"),s.Fc(1,"\n                "),s.Qb(2,"a",27,28),s.Xb("click",function(){s.wc(e);const t=s.vc(3);return s.Zb().setSelectedTab(t.id)}),s.Fc(4,"\n                    "),s.Qb(5,"span",5),s.Lb(6,"i"),s.Pb(),s.Qb(7,"span",7),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n                "),s.Pb(),s.Fc(11,"\n            "),s.Pb()}if(2&e){const e=s.Zb();s.Bb("",e.isFirstSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(10,Ci,!e.hasID))("id",e.firstTabValue),s.yb(4),s.Ab(e.firstTabIcon),s.yb(2),s.Hc("\xa0",s.bc(9,8,e.firstTab),"")}}function Mi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li"),s.Fc(1,"\n                "),s.Qb(2,"a",29,30),s.Xb("click",function(){s.wc(e);const t=s.vc(3);return s.Zb().setSelectedTab(t.id)}),s.Fc(4,"\n                    "),s.Qb(5,"span",5),s.Lb(6,"i"),s.Pb(),s.Qb(7,"span",7),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n                "),s.Pb(),s.Fc(11,"\n            "),s.Pb()}if(2&e){const e=s.Zb();s.Bb("",e.isFourthSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(10,Ci,!e.hasID))("id",e.fourthTabValue),s.yb(4),s.Ab(e.fourthTabIcon),s.yb(2),s.Hc("\xa0",s.bc(9,8,e.fourthTab),"")}}function Li(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li"),s.Fc(1,"\n                "),s.Qb(2,"a",31,32),s.Xb("click",function(){s.wc(e);const t=s.vc(3);return s.Zb().setSelectedTab(t.id)}),s.Fc(4,"\n                    "),s.Qb(5,"span",5),s.Lb(6,"i"),s.Pb(),s.Qb(7,"span",7),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n                "),s.Pb(),s.Fc(11,"\n            "),s.Pb()}if(2&e){const e=s.Zb();s.Bb("",e.isFifthSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(10,Ci,!e.hasID))("id",e.fifthTabValue),s.yb(4),s.Ab(e.fifthTabIcon),s.yb(2),s.Hc("\xa0",s.bc(9,8,e.fifthTab),"")}}function ki(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li"),s.Fc(1,"\n                "),s.Qb(2,"a",33,34),s.Xb("click",function(){s.wc(e);const t=s.vc(3);return s.Zb().setSelectedTab(t.id)}),s.Fc(4,"\n                    "),s.Qb(5,"span",5),s.Lb(6,"i"),s.Pb(),s.Qb(7,"span",7),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n                "),s.Pb(),s.Fc(11,"\n            "),s.Pb()}if(2&e){const e=s.Zb();s.Bb("",e.isSixthSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(10,Ci,!e.hasID))("id",e.sixthTabValue),s.yb(4),s.Ab(e.sixthTabIcon),s.yb(2),s.Hc("\xa0",s.bc(9,8,e.sixthTab),"")}}function Gi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li"),s.Fc(1,"\n                "),s.Qb(2,"a",35,36),s.Xb("click",function(){s.wc(e);const t=s.vc(3);return s.Zb().setSelectedTab(t.id)}),s.Fc(4,"\n                    "),s.Qb(5,"span",5),s.Lb(6,"i"),s.Pb(),s.Qb(7,"span",7),s.Fc(8),s.ac(9,"translate"),s.Pb(),s.Fc(10,"\n                "),s.Pb(),s.Fc(11,"\n            "),s.Pb()}if(2&e){const e=s.Zb();s.Bb("",e.isSeventhSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(10,Ci,!e.hasID))("id",e.seventhTabvalue),s.yb(4),s.Ab(e.seventhTabIcon),s.yb(2),s.Hc("\xa0",s.bc(9,8,e.seventhTab),"")}}function xi(e,t){1&e&&(s.Qb(0,"div",37),s.Fc(1,"\n            "),s.Lb(2,"patient-basic"),s.Fc(3,"\n        "),s.Pb())}function Ai(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",38),s.Fc(1,"\n            "),s.Qb(2,"patient-vital-signs",39,40),s.Xb("onCheifComplaintSaved",function(t){return s.wc(e),s.Zb().handleCheifComplaintSaved(t)}),s.Pb(),s.Fc(4,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("noteId",e.noteId)("passedAppointmentId",e.selectedAppointmentId)}}function Ri(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",41),s.Fc(1,"\n            "),s.Fc(2,"\n            "),s.Qb(3,"patient-note-diagnosis",42),s.Xb("onDiagnosisSaved",function(){return s.wc(e),s.Zb().nextTab()}),s.Pb(),s.Fc(4,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(3),s.hc("noteId",e.noteId)}}function Zi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",43),s.Fc(1,"\n            "),s.Qb(2,"patient-note-medications",44),s.Xb("onMedicationSaved",function(){return s.wc(e),s.Zb().nextTab()}),s.Pb(),s.Fc(3,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("noteId",e.noteId)}}function Oi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",45),s.Fc(1,"\n            "),s.Fc(2,"\n            "),s.Qb(3,"patient-note-services",46),s.Xb("onServicesSaved",function(){return s.wc(e),s.Zb().nextTab()}),s.Pb(),s.Fc(4,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(3),s.hc("noteId",e.noteId)}}function Bi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",47),s.Fc(1,"\n            "),s.Fc(2,"\n            "),s.Qb(3,"patient-note-laboratory",48),s.Xb("onLaboratoriesSaved",function(){return s.wc(e),s.Zb().nextTab()}),s.Pb(),s.Fc(4,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(3),s.hc("noteId",e.noteId)}}function Vi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",49),s.Fc(1,"\n            "),s.Fc(2,"\n            "),s.Qb(3,"patient-note-radiology",50),s.Xb("onRadiologiesSaved",function(){return s.wc(e),s.Zb().nextTab()}),s.Pb(),s.Fc(4,"\n\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(3),s.hc("noteId",e.noteId)}}function Hi(e,t){if(1&e&&(s.Qb(0,"div",51),s.Fc(1,"\n            "),s.Lb(2,"patient-attachments",52),s.Fc(3,"\n        "),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("allowEditing",e.allowEditing)}}function Ui(e,t){if(1&e&&(s.Qb(0,"div",53),s.Fc(1,"\n            "),s.Lb(2,"patient-templates",54),s.Fc(3,"\n        "),s.Pb()),2&e){const e=s.Zb();s.yb(2),s.hc("allowEditing",e.allowEditing)("noteId",e.noteId)}}function Ki(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",55),s.Fc(1,"\n            "),s.Qb(2,"patient-remarks",56),s.Xb("onRemarksSaved",function(){return s.wc(e),s.Zb().nextTab()}),s.Pb(),s.Fc(3,"\n        "),s.Pb()}if(2&e){const e=s.Zb();s.yb(2),s.hc("noteId",e.noteId)}}let Xi=(()=>{class e{constructor(e,t,n,i,c){this.administrationService=e,this.localStorage=t,this.toastr=n,this._route=i,this.translate=c,this.activeTabIndex=0,this.patientId="1",this.hasEditednote=!1,this.appointmentId=0,this.hasID=!1,this.isDoctor=!1,this.selectEMRWizardTab=!0,this.selectAccountTab=!0,this.clinicModel={id:0,isActive:!0},this.clinicId="",this.emrValue="",this.concatEmrValue="",this.selectClinicsTab=!0,this.active=!0,this.allowEditing=!0,this.onNewNoteSaved=new s.n,this.isBasicInfoSelected=!1,this.isSurgeriesSelected=!1,this.isAllergiesSelected=!1,this.isAttachmentsSelected=!1,this.isDiagnosisSelected=!1,this.isMedicationSelected=!1,this.isServicesSelected=!1,this.isLaboratorySelected=!1,this.isRadiologySelected=!1,this.isTemplatesSelected=!1,this.isRemarksSelected=!1,this.isVitalSignsSelected=!0,this.isFirstSelected=!1,this.isSecondSelected=!1,this.isThirdSelected=!1,this.isFourthSelected=!1,this.isFifthSelected=!1,this.isSixthSelected=!1,this.isSeventhSelected=!1,this.usedForClinicNote=!0,this.showProgress=!1,this.headerText="ChiefComplaintVitalSigns",this.firstTabIcon="",this.secondTabIcon="",this.thirdTabIcon="",this.fourthTabIcon="",this.fifthTabIcon="",this.sixthTabIcon="",this.seventhTabIcon=""}ngOnChanges(e){this.isDoctor=this.localStorage.retrieve("IsDoctor"),this.hasID=null!=this.noteId&&null!=this.noteId&&"new"!=this.noteId&&""!=this.noteId,this.hasEditednote&&1==this.hasEditednote&&(this.hasID=!0)}ngOnInit(){this.selectedClinicId=this.localStorage.retrieve("ClinicID"),this.initializeModel()}initializeModel(){let e=this;this.selectedClinicId&&this.selectedClinicId>0&&(this.showProgress=!0,this.administrationService.getClinicById(e.selectedClinicId).subscribe(function(t){e.clinicModel=t,e.wizardItems=e.clinicModel.emrWizardList,e.firstTab=e.wizardItems[0],e.secondTab=e.wizardItems[1],e.thirdTab=e.wizardItems[2],e.fourthTab=e.wizardItems[3],e.fifthTab=e.wizardItems[4],e.sixthTab=e.wizardItems[5],e.seventhTab=e.wizardItems[6],e.setTab(),e.initializeTabIcons(),e.showProgress=!1},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1}))}initializeTabIcons(){this.firstTabIcon=this.getTabIcon(this.firstTab),this.secondTabIcon=this.getTabIcon(this.secondTab),this.thirdTabIcon=this.getTabIcon(this.thirdTab),this.fourthTabIcon=this.getTabIcon(this.fourthTab),this.fifthTabIcon=this.getTabIcon(this.fifthTab),this.sixthTabIcon=this.getTabIcon(this.sixthTab),this.seventhTabIcon=this.getTabIcon(this.seventhTab)}getTabIcon(e){return"Diagnosis"==e?"fa fa-stethoscope":"Medication"==e?"fa fa-glass":"Services"==e?"fa fa-heartbeat":"LabTests"==e?"fa fa-flask":"RadiologyTests"==e?"fa fa-bed":"Templates"==e?"fa fa-file-word-o":"Remarks"==e?"fa fa-edit":""}setTab(){this.firstTabValue=this.wizardItems.indexOf(this.firstTab)+1,this.secondTabValue=this.wizardItems.indexOf(this.secondTab)+1,this.thirdTabvalue=this.wizardItems.indexOf(this.thirdTab)+1,this.fourthTabValue=this.wizardItems.indexOf(this.fourthTab)+1,this.fifthTabValue=this.wizardItems.indexOf(this.fifthTab)+1,this.sixthTabValue=this.wizardItems.indexOf(this.sixthTab)+1,this.seventhTabvalue=this.wizardItems.indexOf(this.seventhTab)+1}setSelectedTab(e){this.isVitalSignsSelected=!1,this.isDiagnosisSelected="Diagnosis"==this.wizardItems[e-1],this.isMedicationSelected="Medication"==this.wizardItems[e-1],this.isServicesSelected="Services"==this.wizardItems[e-1],this.isLaboratorySelected="LabTests"==this.wizardItems[e-1],this.isRadiologySelected="RadiologyTests"==this.wizardItems[e-1],this.isTemplatesSelected="Templates"==this.wizardItems[e-1],this.isRemarksSelected="Remarks"==this.wizardItems[e-1],this.isFirstSelected=1==e,this.isSecondSelected=2==e,this.isThirdSelected=3==e,this.isFourthSelected=4==e,this.isFifthSelected=5==e,this.isSixthSelected=6==e,this.isSeventhSelected=7==e,0==e?(this.isVitalSignsSelected=!0,this.headerText=this.translate.instant(this.isDoctor?"ChiefComplaintVitalSigns":"VitalSigns")):this.isDiagnosisSelected?(this.headerText="Diagnosis",this.firstTabIcon="fa fa-stethoscope"):this.isMedicationSelected?this.headerText="Medication":this.isServicesSelected?this.headerText="Services":this.isLaboratorySelected?this.headerText="LabTests":this.isRadiologySelected?this.headerText="RadiologyTests":this.isTemplatesSelected?this.headerText="Templates":this.isRemarksSelected&&(this.headerText="Remarks")}nextTab(){if(this.isVitalSignsSelected)this.setSelectedTab(1);else if(this.isDiagnosisSelected){let e=this.wizardItems.indexOf("Diagnosis");e+2<8&&this.setSelectedTab(e+2)}else if(this.isMedicationSelected){let e=this.wizardItems.indexOf("Medication");e+2<8&&this.setSelectedTab(e+2)}else if(this.isServicesSelected){let e=this.wizardItems.indexOf("Services");e+2<8&&this.setSelectedTab(e+2)}else if(this.isLaboratorySelected){let e=this.wizardItems.indexOf("LabTests");e+2<8&&this.setSelectedTab(e+2)}else if(this.isRadiologySelected){let e=this.wizardItems.indexOf("RadiologyTests");e+2<8&&this.setSelectedTab(e+2)}else if(this.isTemplatesSelected){let e=this.wizardItems.indexOf("Templates");e+2<8&&this.setSelectedTab(e+2)}else if(this.isRemarksSelected){let e=this.wizardItems.indexOf("Remarks");e+2<8&&this.setSelectedTab(e+2)}}handleCheifComplaintSaved(e){null!=e&&(this.setClinicNoteId(e.clinicNoteId),e.moveNext&&this.nextTab())}setClinicNoteId(e){this.noteId=e,this.hasID=null!=this.noteId&&null!=this.noteId&&"new"!=this.noteId&&""!=this.noteId,this.onNewNoteSaved.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(Cn.a),s.Kb(d.a),s.Kb(l.b),s.Kb(a.a),s.Kb(b.d))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-clinical-note"]],viewQuery:function(e,t){if(1&e&&s.Lc(Qi,1),2&e){let e;s.uc(e=s.Yb())&&(t.patientVitalSignsComp=e.first)}},inputs:{activeTabIndex:"activeTabIndex",patientId:"patientId",noteId:"noteId",departmentId:"departmentId",selectedAppointmentId:"selectedAppointmentId",hasEditednote:"hasEditednote",allowEditing:"allowEditing"},outputs:{onNewNoteSaved:"onNewNoteSaved"},features:[s.wb],decls:100,vars:50,consts:[[1,"row"],[1,"col-md-2","nopadding"],[1,"nav","nav-pills","nav-stacked","alert","alert-info","padding5"],["id","0",3,"click"],["start",""],[1,"nav-icon"],[1,"fa","fa-user-md"],[1,"nav-label"],[4,"ngIf"],[3,"class",4,"ngIf"],["tabindex","2",3,"ngClass","id","click"],["second",""],["tabindex","3",3,"ngClass","id","click"],["third",""],[1,"col-md-10","nopadding"],["id","breadcrumbs",1,"breadcrumbs","col-md-12"],[1,"heaersitemap"],["id","basicInfo",4,"ngIf"],["id","vitalSigns",4,"ngIf"],["id","diagnosis",4,"ngIf"],["id","medication",4,"ngIf"],["id","services",4,"ngIf"],["id","laboratory",4,"ngIf"],["id","radiology",4,"ngIf"],["id","attchments",4,"ngIf"],["id","templates",4,"ngIf"],["id","remarks",4,"ngIf"],["tabindex","1",3,"ngClass","id","click"],["first",""],["tabindex","4",3,"ngClass","id","click"],["fourth",""],["tabindex","5",3,"ngClass","id","click"],["fifth",""],["tabindex","6",3,"ngClass","id","click"],["sixth",""],["tabindex","7",3,"ngClass","id","click"],["seventh",""],["id","basicInfo"],["id","vitalSigns"],[3,"noteId","passedAppointmentId","onCheifComplaintSaved"],["patientVitalSignsComp",""],["id","diagnosis"],[3,"noteId","onDiagnosisSaved"],["id","medication"],[3,"noteId","onMedicationSaved"],["id","services"],[3,"noteId","onServicesSaved"],["id","laboratory"],[3,"noteId","onLaboratoriesSaved"],["id","radiology"],[3,"noteId","onRadiologiesSaved"],["id","attchments"],[3,"allowEditing"],["id","templates"],[3,"allowEditing","noteId"],["id","remarks"],[3,"noteId","onRemarksSaved"]],template:function(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div",0),s.Fc(1,"\n    "),s.Qb(2,"div",1),s.Fc(3,"\n        "),s.Qb(4,"ul",2),s.Fc(5,"\n            "),s.Qb(6,"li"),s.Fc(7,"\n                "),s.Qb(8,"a",3,4),s.Xb("click",function(){s.wc(e);const n=s.vc(9);return t.setSelectedTab(n.id)}),s.Fc(10,"\n                    "),s.Qb(11,"span",5),s.Lb(12,"i",6),s.Pb(),s.Fc(13,"\n                    "),s.Qb(14,"span",7),s.Fc(15,"\n                        "),s.Dc(16,Ti,4,6,"span",8),s.Fc(17,"\n                        "),s.Dc(18,wi,3,3,"span",8),s.Fc(19,"\n                    "),s.Pb(),s.Fc(20,"\n\n                "),s.Pb(),s.Fc(21,"\n            "),s.Pb(),s.Fc(22,"\n            "),s.Dc(23,Ni,12,12,"li",9),s.Fc(24,"\n            "),s.Qb(25,"li"),s.Fc(26,"\n                "),s.Qb(27,"a",10,11),s.Xb("click",function(){s.wc(e);const n=s.vc(28);return t.setSelectedTab(n.id)}),s.Fc(29,"\n                    "),s.Qb(30,"span",5),s.Lb(31,"i"),s.Pb(),s.Qb(32,"span",7),s.Fc(33),s.ac(34,"translate"),s.Pb(),s.Fc(35,"\n                "),s.Pb(),s.Fc(36,"\n            "),s.Pb(),s.Fc(37,"\n            "),s.Qb(38,"li"),s.Fc(39,"\n                "),s.Qb(40,"a",12,13),s.Xb("click",function(){s.wc(e);const n=s.vc(41);return t.setSelectedTab(n.id)}),s.Fc(42,"\n                    "),s.Qb(43,"span",5),s.Lb(44,"i"),s.Pb(),s.Qb(45,"span",7),s.Fc(46),s.ac(47,"translate"),s.Pb(),s.Fc(48,"\n                "),s.Pb(),s.Fc(49,"\n            "),s.Pb(),s.Fc(50,"\n            "),s.Dc(51,Mi,12,12,"li",9),s.Fc(52,"\n            "),s.Dc(53,Li,12,12,"li",9),s.Fc(54,"\n            "),s.Dc(55,ki,12,12,"li",9),s.Fc(56,"\n            "),s.Dc(57,Gi,12,12,"li",9),s.Fc(58,"\n        "),s.Pb(),s.Fc(59,"\n    "),s.Pb(),s.Fc(60,"\n    "),s.Qb(61,"div",14),s.Fc(62,"\n        "),s.Qb(63,"div",0),s.Fc(64,"\n            "),s.Qb(65,"div",15),s.Fc(66,"\n                "),s.Qb(67,"span",16),s.Fc(68),s.ac(69,"translate"),s.ac(70,"translate"),s.Pb(),s.Fc(71,"\n                "),s.Fc(72,"\n            "),s.Pb(),s.Fc(73,"\n            "),s.Fc(74,"\n        "),s.Pb(),s.Fc(75,"\n        "),s.Lb(76,"br"),s.Fc(77,"\n        "),s.Dc(78,xi,4,0,"div",17),s.Fc(79,"\n        "),s.Dc(80,Ai,5,2,"div",18),s.Fc(81,"\n        "),s.Dc(82,Ri,5,1,"div",19),s.Fc(83,"\n        "),s.Dc(84,Zi,4,1,"div",20),s.Fc(85,"\n        "),s.Dc(86,Oi,5,1,"div",21),s.Fc(87,"\n        "),s.Dc(88,Bi,5,1,"div",22),s.Fc(89,"\n        "),s.Dc(90,Vi,5,1,"div",23),s.Fc(91,"\n        "),s.Dc(92,Hi,4,1,"div",24),s.Fc(93,"\n        "),s.Dc(94,Ui,4,2,"div",25),s.Fc(95,"\n        "),s.Dc(96,Ki,4,1,"div",26),s.Fc(97,"\n\n    "),s.Pb(),s.Fc(98,"\n"),s.Pb(),s.Fc(99,"\n")}2&e&&(s.yb(6),s.Bb("",t.isVitalSignsSelected?"selectednavbaritem active":""," pointer"),s.yb(10),s.hc("ngIf",t.isDoctor),s.yb(2),s.hc("ngIf",!t.isDoctor),s.yb(5),s.hc("ngIf",t.isDoctor),s.yb(2),s.Bb("",t.isSecondSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(46,Ci,!t.hasID))("id",t.secondTabValue),s.yb(4),s.Ab(t.secondTabIcon),s.yb(2),s.Hc("\xa0",s.bc(34,38,t.secondTab),""),s.yb(5),s.Bb("",t.isThirdSelected?"selectednavbaritem active":""," pointer"),s.yb(2),s.hc("ngClass",s.mc(48,Ci,!t.hasID))("id",t.thirdTabvalue),s.yb(4),s.Ab(t.thirdTabIcon),s.yb(2),s.Hc("\xa0",s.bc(47,40,t.thirdTab),""),s.yb(5),s.hc("ngIf",t.isDoctor),s.yb(2),s.hc("ngIf",t.isDoctor),s.yb(2),s.hc("ngIf",t.isDoctor),s.yb(2),s.hc("ngIf",t.isDoctor),s.yb(11),s.Ic("\n                    ",s.bc(69,42,"Note")," > ",s.bc(70,44,t.headerText),"\n                "),s.yb(10),s.hc("ngIf",t.isBasicInfoSelected),s.yb(2),s.hc("ngIf",t.isVitalSignsSelected),s.yb(2),s.hc("ngIf",t.isDiagnosisSelected),s.yb(2),s.hc("ngIf",t.isMedicationSelected),s.yb(2),s.hc("ngIf",t.isServicesSelected),s.yb(2),s.hc("ngIf",t.isLaboratorySelected),s.yb(2),s.hc("ngIf",t.isRadiologySelected),s.yb(2),s.hc("ngIf",t.isAttachmentsSelected),s.yb(2),s.hc("ngIf",t.isTemplatesSelected),s.yb(2),s.hc("ngIf",t.isRemarksSelected))},directives:[i.k,i.i,g,C,An,Un,Yn,ci,bi,ui,Si,Di],pipes:[b.c],encapsulation:2}),e})();const Ei=["btnCloseViewClinicNotePopUp"],qi=["btnEditClinicNote"],zi=["btnAddNewNote"],ji=["patientClinicalNoteComp"];function $i(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}let _i=(()=>{class e{constructor(e,t,n,i,c){this.patientService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.selectBasicTab=!0,this.getMrf=!1,this.selectedPatient={},this.lstToTranslated=[],this.active=!0,this.model={},this.noteId="new",this.pateintMrfs=[],this.classifications=[],this.showProgress=!1,this.selectedNote={},this.appointmentId="",this.enable=!0}ngOnInit(){this.subscription=this.patientService.notifyObservable$.subscribe(e=>{e.hasOwnProperty("option")&&"call_child"===e.option&&this.getAllPatientMRF()}),this.lstToTranslated=["clinicName","clinicNameTranslation","departmentName","departmentNameTranslation","divisionName","divisionNameTranslation","doctorName","doctorNameTranslation"],this.divisionId=this._route.snapshot.params.divisionId,this.appointmentId=this._route.snapshot.params.appointmentId,this.selectedPatientId=this._route.snapshot.params.id,this.getAllPatientMRF(),this.getAllPatientMRF()}ngOnChanges(e){this.getAllPatientMRF()}getAllPatientMRF(){let e=this;e.showProgress=!0,this.selectedPatientId&&null!=this.selectedPatientId&&this.patientService.GetAllPatientMRF(this.selectedPatientId).subscribe(function(t){e.pateintMrfs=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1})}setClinicNoteId(e,t){this.noteId=e,this.selectedAppointmentId=t,this.getClinicNotbyId()}getClinicNotbyId(){let e=this;e.showProgress=!0,this.patientService.getClinicNoteWithAllData(e.noteId).subscribe(function(t){if(e.selectedNote=t,null==t.patient){let t={};e.selectedNote.patient={},e.selectedNote.patient.activeInsurance=t}null!=t.patient&&null==t.patient.activeInsurance&&(e.selectedNote.patient.activeInsurance={}),null==t.chiefComplaint&&(e.selectedNote.chiefComplaint={})},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})}openEditClinicNotePopup(){this.btnCloseViewClinicNotePopUp.nativeElement.click(),setTimeout(()=>this.openClinicNotePopup(),500)}openClinicNotePopup(){this.patientClinicalNoteComp.setSelectedTab(0),this.btnEditClinicNote.nativeElement.click()}openPrescription(e,t){let n=this.storage.retrieve("SelectedLanguage");null!=n&&null!=n||(n="ar"),window.open("reports/"+t+"/ReportViewer.aspx?lang="+n+"&id="+e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-notes"]],viewQuery:function(e,t){if(1&e&&(s.Lc(Ei,1),s.Lc(qi,1),s.Lc(zi,1),s.Lc(ji,1)),2&e){let e;s.uc(e=s.Yb())&&(t.btnCloseViewClinicNotePopUp=e.first),s.uc(e=s.Yb())&&(t.btnEditClinicNote=e.first),s.uc(e=s.Yb())&&(t.btnAddNewNote=e.first),s.uc(e=s.Yb())&&(t.patientClinicalNoteComp=e.first)}},inputs:{divisionId:"divisionId",getMrf:"getMrf"},features:[s.wb],decls:106,vars:29,consts:[[4,"ngIf"],[1,"padding5"],[1,"inner-addon","left-addon"],[1,"glyphicon","glyphicon-search"],["type","text","pInputText","","size","50",1,"inputSearch",3,"placeholder"],["gb",""],["id","noteView","role","dialog",1,"modal","fade"],[1,"modal-dialog","fullWidth"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[1,"row","text-center"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["btnCloseViewClinicNotePopUp",""],[3,"model"],[1,"modal-footer"],[1,"row"],[1,"col-md-12","text-center"],[1,"hidden"],["type","button","data-toggle","modal","data-target","#noteEditing"],["btnEditClinicNote",""],["id","noteEditing","role","dialog",1,"modal","fade"],[3,"noteId","allowEditing","selectedAppointmentId","hasEditednote"],["patientClinicalNoteComp",""]],template:function(e,t){1&e&&(s.Dc(0,$i,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n\n    "),s.Qb(4,"div",2),s.Fc(5,"\n        "),s.Lb(6,"i",3),s.Fc(7,"\n        "),s.Lb(8,"input",4,5),s.ac(10,"translate"),s.Fc(11,"\n    "),s.Pb(),s.Fc(12,"\n    "),s.Fc(13,"\n\n"),s.Pb(),s.Fc(14,"\n"),s.Fc(15,"\n"),s.Qb(16,"div",6),s.Fc(17,"\n    "),s.Qb(18,"div",7),s.Fc(19,"\n        "),s.Fc(20,"\n        "),s.Qb(21,"div",8),s.Fc(22,"\n            "),s.Qb(23,"div",9),s.Fc(24,"\n                "),s.Qb(25,"button",10),s.Fc(26,"\xd7"),s.Pb(),s.Fc(27,"\n                "),s.Qb(28,"h4",11),s.Fc(29),s.ac(30,"translate"),s.Pb(),s.Fc(31,"\n            "),s.Pb(),s.Fc(32,"\n            "),s.Qb(33,"div",12),s.Fc(34,"\n                "),s.Qb(35,"div",13),s.Fc(36,"\n                    "),s.Qb(37,"button",14),s.Xb("click",function(){return t.openEditClinicNotePopup()}),s.Fc(38),s.ac(39,"translate"),s.Pb(),s.Fc(40,"\n                    "),s.Qb(41,"button",15,16),s.Fc(43),s.ac(44,"translate"),s.Pb(),s.Fc(45,"\n                    \n                "),s.Pb(),s.Fc(46,"\n                "),s.Lb(47,"br"),s.Fc(48,"\n                    "),s.Lb(49,"patient-note-view",17),s.Fc(50,"\n            "),s.Pb(),s.Fc(51,"\n            "),s.Qb(52,"div",18),s.Fc(53,"\n                "),s.Qb(54,"div",19),s.Fc(55,"\n                    "),s.Qb(56,"div",20),s.Fc(57,"\n                        "),s.Qb(58,"button",14),s.Xb("click",function(){return t.openEditClinicNotePopup()}),s.Fc(59),s.ac(60,"translate"),s.Pb(),s.Fc(61,"\n                        "),s.Qb(62,"button",15,16),s.Fc(64),s.ac(65,"translate"),s.Pb(),s.Fc(66,"\n                    "),s.Pb(),s.Fc(67,"\n                "),s.Pb(),s.Fc(68,"\n            "),s.Pb(),s.Fc(69,"\n        "),s.Pb(),s.Fc(70,"\n    "),s.Pb(),s.Fc(71,"\n"),s.Pb(),s.Fc(72,"\n\n"),s.Qb(73,"div",21),s.Fc(74,"\n    "),s.Lb(75,"button",22,23),s.Fc(77,"\n"),s.Pb(),s.Fc(78,"\n\n"),s.Fc(79,"\n\n"),s.Fc(80,"\n\n\n"),s.Qb(81,"div",24),s.Fc(82,"\n    "),s.Qb(83,"div",7),s.Fc(84,"\n        "),s.Fc(85,"\n        "),s.Qb(86,"div",8),s.Fc(87,"\n            "),s.Qb(88,"div",9),s.Fc(89,"\n                "),s.Qb(90,"button",10),s.Fc(91,"\xd7"),s.Pb(),s.Fc(92,"\n                "),s.Qb(93,"h4",11),s.Fc(94),s.ac(95,"translate"),s.Pb(),s.Fc(96,"\n            "),s.Pb(),s.Fc(97,"\n            "),s.Qb(98,"div",12),s.Fc(99,"\n                "),s.Lb(100,"patient-clinical-note",25,26),s.Fc(102,"\n            "),s.Pb(),s.Fc(103,"\n        "),s.Pb(),s.Fc(104,"\n    "),s.Pb(),s.Fc(105,"\n"),s.Pb()),2&e&&(s.hc("ngIf",t.showProgress),s.yb(8),s.hc("placeholder",s.bc(10,15,"Search")),s.yb(21),s.Hc("",s.bc(30,17,"ClinicalNoteDetails"),"  "),s.yb(8),s.hc("disabled",!t.enable),s.yb(1),s.Gc(s.bc(39,19,"Edit")),s.yb(5),s.Gc(s.bc(44,21,"Close")),s.yb(6),s.hc("model",t.selectedNote),s.yb(9),s.hc("disabled",!t.enable),s.yb(1),s.Gc(s.bc(60,23,"Edit")),s.yb(5),s.Gc(s.bc(65,25,"Close")),s.yb(30),s.Hc("",s.bc(95,27,"ClinicalNoteDetails")," "),s.yb(6),s.hc("noteId",t.noteId)("allowEditing",!0)("selectedAppointmentId",t.selectedAppointmentId)("hasEditednote",!0))},directives:[i.k,wn,Xi,L.a],pipes:[b.c],encapsulation:2}),e})();const Yi=["appointmentModalButton"],Wi=["btnClostAppointmentModal"],Ji=["btnAddNewNote"],ec=["newClinicalNoteComp"];function tc(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function nc(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n                        "),s.Lb(2,"loading"),s.Fc(3,"\n                    "),s.Pb())}function ic(e,t){if(1&e&&(s.Qb(0,"option",67),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.name),s.yb(1),s.Gc(e.name)}}function cc(e,t){if(1&e){const e=s.Rb();s.Qb(0,"td"),s.Fc(1,"\n                                        "),s.Qb(2,"input",68),s.Xb("click",function(){s.wc(e);const n=t.$implicit;return s.Zb(2).selectAppointmentClass(n.id)}),s.Pb(),s.Fc(3),s.Pb()}if(2&e){const e=t.$implicit,n=s.Zb(2);s.yb(2),s.hc("value",e.id)("checked",e.id==n.appointmentModel.appointmentClassId),s.yb(1),s.Hc(" ",e.name,"\n                                    ")}}function ac(e,t){if(1&e&&(s.Qb(0,"option",67),s.Fc(1),s.Pb()),2&e){const e=t.$implicit;s.hc("value",e.id),s.yb(1),s.Gc(e.name)}}const sc=function(){return{standalone:!0}};function oc(e,t){if(1&e){const e=s.Rb();s.Qb(0,"form",51,52),s.Fc(2,"\n        "),s.Qb(3,"div",53),s.Fc(4,"\n            "),s.Fc(5,"\n            "),s.Qb(6,"div",35),s.Fc(7,"\n                "),s.Qb(8,"div",36),s.Fc(9,"\n                    "),s.Qb(10,"button",37),s.Fc(11,"\xd7"),s.Pb(),s.Fc(12,"\n                    "),s.Qb(13,"h4",38),s.Fc(14),s.ac(15,"translate"),s.Pb(),s.Fc(16,"\n                "),s.Pb(),s.Fc(17,"\n                "),s.Qb(18,"div",39),s.Fc(19,"\n                    "),s.Dc(20,nc,4,0,"div",0),s.Fc(21,"\n                    "),s.Qb(22,"div",54),s.Fc(23,"\n                        "),s.Qb(24,"label",55),s.Fc(25),s.ac(26,"translate"),s.Pb(),s.Fc(27,"\n                        "),s.Qb(28,"div",11),s.Fc(29,"\n                            "),s.Qb(30,"p-calendar",56),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().selectedDate=t})("onSelect",function(t){return s.wc(e),s.Zb().onDateSelect(t)}),s.Pb(),s.Fc(31,"\n                        "),s.Pb(),s.Fc(32,"\n                        "),s.Qb(33,"label",55),s.Fc(34),s.ac(35,"translate"),s.Pb(),s.Fc(36,"\n                        "),s.Qb(37,"div",11),s.Fc(38,"\n                            "),s.Qb(39,"select",57,58),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().selectedTimeSlot=t}),s.Fc(41,"\n                                "),s.Dc(42,ic,2,2,"option",59),s.ac(43,"translateObjects"),s.Fc(44,"\n                            "),s.Pb(),s.Fc(45,"\n                        "),s.Pb(),s.Fc(46,"\n                    "),s.Pb(),s.Fc(47,"\n\n                    "),s.Qb(48,"div",54),s.Fc(49,"\n                        "),s.Qb(50,"label",55),s.Fc(51),s.ac(52,"translate"),s.Pb(),s.Fc(53,"\n                        "),s.Qb(54,"div",11),s.Fc(55,"\n                            "),s.Qb(56,"table"),s.Fc(57,"\n                                "),s.Qb(58,"tr"),s.Fc(59,"\n                                    "),s.Dc(60,cc,4,3,"td",60),s.ac(61,"translateObjects"),s.Fc(62,"\n                                "),s.Pb(),s.Fc(63,"\n                            "),s.Pb(),s.Fc(64,"\n                        "),s.Pb(),s.Fc(65,"\n                        "),s.Qb(66,"label",55),s.Fc(67),s.ac(68,"translate"),s.Pb(),s.Fc(69,"\n                        "),s.Qb(70,"div",11),s.Fc(71,"\n                            "),s.Qb(72,"select",61,62),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().appointmentModel.visitTypeId=t}),s.Fc(74,"\n                                "),s.Dc(75,ac,2,2,"option",59),s.ac(76,"translateObjects"),s.Fc(77,"\n                            "),s.Pb(),s.Fc(78,"\n                        "),s.Pb(),s.Fc(79,"\n                    "),s.Pb(),s.Fc(80,"\n\n                    "),s.Qb(81,"div",54),s.Fc(82,"\n                        "),s.Qb(83,"label",55),s.Fc(84),s.ac(85,"translate"),s.Pb(),s.Fc(86,"\n                        "),s.Qb(87,"div",11),s.Fc(88,"\n                            "),s.Qb(89,"textarea",63),s.Xb("ngModelChange",function(t){return s.wc(e),s.Zb().appointmentModel.description=t}),s.Pb(),s.Fc(90,"\n                        "),s.Pb(),s.Fc(91,"\n                    "),s.Pb(),s.Fc(92,"\n\n                "),s.Pb(),s.Fc(93,"\n                "),s.Qb(94,"div",64),s.Fc(95,"\n                    "),s.Qb(96,"div",54),s.Fc(97,"\n                        "),s.Qb(98,"button",19),s.Xb("click",function(){return s.wc(e),s.Zb().saveOrUpdateAppointment()}),s.Fc(99),s.ac(100,"translate"),s.Pb(),s.Fc(101,"\n                        "),s.Qb(102,"button",65,66),s.Fc(104),s.ac(105,"translate"),s.Pb(),s.Fc(106,"\n                    "),s.Pb(),s.Fc(107,"\n                "),s.Pb(),s.Fc(108,"\n            "),s.Pb(),s.Fc(109,"\n\n        "),s.Pb(),s.Fc(110,"\n    "),s.Pb()}if(2&e){const e=s.vc(1),t=s.Zb();s.yb(14),s.Ic("",s.bc(15,23,"AppointmentDetails")," - ",t.doctorName,""),s.yb(6),s.hc("ngIf",t.showProgress),s.yb(5),s.Hc("\n                            ",s.bc(26,25,"Date"),"\n                        "),s.yb(5),s.hc("ngModel",t.selectedDate)("monthNavigator",!0)("yearNavigator",!0)("showIcon",!0)("required",!0)("ngModelOptions",s.lc(45,sc)),s.yb(4),s.Hc("\n                            ",s.bc(35,27,"Time "),"\n                        "),s.yb(5),s.hc("ngModel",t.selectedTimeSlot),s.yb(3),s.hc("ngForOf",s.bc(43,29,t.timeSlotsList)),s.yb(9),s.Hc("\n                            ",s.bc(52,31,"Class"),"\n                        "),s.yb(9),s.hc("ngForOf",s.bc(61,33,t.appointmentClassesList)),s.yb(7),s.Hc("\n                            ",s.bc(68,35,"VisitType"),"\n                        "),s.yb(5),s.hc("ngModel",t.appointmentModel.visitTypeId),s.yb(3),s.hc("ngForOf",s.bc(76,37,t.visitTypesList)),s.yb(9),s.Hc("\n                            ",s.bc(85,39,"Description"),"\n                        "),s.yb(5),s.hc("ngModel",t.appointmentModel.description),s.yb(9),s.hc("disabled",!e.form.valid||!t.enableNewAppointmentBtn),s.yb(1),s.Gc(s.bc(100,41,"Save")),s.yb(5),s.Gc(s.bc(105,43,"Cancel"))}}let rc=(()=>{class e{constructor(e,t,n,i,c,a){this.patientService=e,this.toastr=t,this._route=n,this.storage=i,this.translate=c,this.accountService=a,this.selectAddressTab=!0,this.active=!0,this.selectedPatient={},this.showProgress=!1,this.parentType="PatientFileType",this.detailsUrl="PatientReceptionistAttachmentsDetails",this.documentDetailsUrl="patientAttachments",this.fileNameUploadTxt=this.translate.instant("File"),this.fileNameTxt=this.translate.instant("FileName"),this.btnUploadText=this.translate.instant("UploadFile"),this.fileType=!0,this.showDocumentDetails=!0,this.appointmentModel={id:0},this.patientName="",this.selectedDept={},this.appointmentSchedulesList=[],this.sessionExtensionsList=[],this.appointmentClassesList=[],this.visitTypesList=[],this.timeSlotsList=[],this.appointementsList=[],this.currentWeekDays=[],this.entireDayTimeSlotsList=[],this.pateintMrfs=[],this.noteId="new",this.getMrf=!1,this.utilityClass=new N.a,this.userPermisions=new p.a,this.key=new F.a,this.enableAttachmentBtn=!1,this.enableNewAppointmentBtn=!1,this.enableSaveNewAppointmentBtn=!1,this.enableNewNoteBtn=!1}ngOnInit(){this.showProgress=!0,this.selectedPatientId=this._route.snapshot.params.id,this.divisionId=this._route.snapshot.params.divisionId,this.doctorId=this.storage.retrieve("UserID"),this.clinicId=this.storage.retrieve("ClinicID"),this.defaultAppointmentId=this._route.snapshot.params.appointmentId;let e=this;this.receptionistAppointmentManager=new sn.a(this.appointmentSchedulesList,this.sessionExtensionsList),this.entireDayTimeSlotsList=this.receptionistAppointmentManager.getFullDayTimeSlots(null),this.patientService.getPatientById(e.selectedPatientId.toString()).subscribe(function(t){e.selectedPatient=t},function(t){e.toastr.error(t,"")},function(){e.showProgress=!1}),null!=this.accountService.userPermision._isScalar?this.accountService.userPermision.subscribe(e=>this.handleUserInterfaceViews(e)):this.handleUserInterfaceViews(this.accountService.userPermision)}addNewAppointment(){this.clear(),this.getAppointmentDetailsWrapper(this.doctorId),this.showAppointmentModal()}showAppointmentModal(){this.appointmentModalButton.nativeElement.click()}selectAppointmentClass(e){this.appointmentModel.appointmentClassId=e}getAppointmentDetailsWrapper(e){this.showProgress=!0;let t=this;this.patientService.getAppointmentDetailsWrapper(e).subscribe(function(e){t.appointmentSchedulesList=e.appointmentSchedules,t.sessionExtensionsList=e.sessionExtensions,t.appointmentClassesList=e.appointmentClasses,t.visitTypesList=e.visitTypes,t.appointementsList=e.appointments},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})}onDateSelect(e){this.timeSlotsList=[],null!=e&&(this.receptionistAppointmentManager=new sn.a(this.appointmentSchedulesList,this.sessionExtensionsList),this.timeSlotsList=this.receptionistAppointmentManager.getTimeSlots(e),this.slotDuration=this.receptionistAppointmentManager.getSlotDuration())}closeAppointmentModal(){this.btnClostAppointmentModal.nativeElement.click()}clear(){this.appointmentModel={id:0},this.timeSlotsList=[],this.selectedDate="",this.selectedTimeSlot=""}saveOrUpdateAppointment(){this.appointmentModel.clinicId=this.clinicId,this.appointmentModel.clinicDivisionId=this.divisionId;let e=this.timeSlotsList.find(e=>e.name==this.selectedTimeSlot);if(null!=e){this.appointmentModel.dateTime=this.utilityClass.getUtcDateTime(e.dateTime),this.appointmentModel.doctorId=this.doctorId,this.appointmentModel.patientId=this.selectedPatient.id,this.appointmentModel.slotDuration=this.slotDuration,this.showProgress=!0;let t=this;this.patientService.saveOrUpdateAppointment(this.appointmentModel).subscribe(function(e){t.appointmentModel=e,t.closeAppointmentModal();let n=t.translate.instant("SavedSuccessfully");t.toastr.success(n,"")},function(e){t.toastr.error(e,""),t.showProgress=!1},function(){t.showProgress=!1})}else{let e=this.translate.instant("EnterDateAndTime");this.toastr.error(e,"")}}getPatientMrf(e){this.getMrf=e,this.pateintMrfs=[],this.patientService.notifyOther({option:"call_child",value:"From child"})}handleUserInterfaceViews(e){if(null!=e.permissions)for(let t of e.permissions)t.permission.key==this.key.AddPatientAttachment&&1==t.allow&&(this.enableAttachmentBtn=!0),t.permission.key!=this.key.AppointmentSchedule||1!=t.fullControl&&1!=t.add&&1!=t.edit||(this.enableNewAppointmentBtn=!0),t.permission.key==this.key.EMR&&1==t.fullControl&&(this.enableNewNoteBtn=!0)}updateModel(e){}openAddNewNote(){this.noteId=""==this.noteId?"new":"",this.newClinicalNoteComp.setSelectedTab(0),this.btnAddNewNote.nativeElement.click()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a),s.Kb(b.d),s.Kb(m.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-mrf"]],viewQuery:function(e,t){if(1&e&&(s.Lc(Yi,1),s.Lc(Wi,1),s.Lc(Ji,1),s.Lc(ec,1)),2&e){let e;s.uc(e=s.Yb())&&(t.appointmentModalButton=e.first),s.uc(e=s.Yb())&&(t.btnClostAppointmentModal=e.first),s.uc(e=s.Yb())&&(t.btnAddNewNote=e.first),s.uc(e=s.Yb())&&(t.newClinicalNoteComp=e.first)}},decls:221,vars:76,consts:[[4,"ngIf"],[1,"row"],[3,"activeTabIndex"],[1,"padding10"],[1,"row","well"],[1,"col-md-8"],[1,"labelSucess","labelSize","btn","label-success"],[1,"labelSucess","labelSize","btn","label-pink"],[1,"h3Deco"],[1,"forum-sub-title"],[1,"h4Deco"],[1,"col-md-4"],[1,"forum-meta"],[1,"forum-meta-info"],[2,"list-style-type","none"],[1,"labelStyle"],[1,"row","text-right"],["type","button","data-toggle","modal","data-target","#pateitnAttachments",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","navtab",1,"row","well"],[1,"tabbable-panel"],[1,"tabbable-line"],[1,"nav","nav-tabs"],[1,"active"],["href","#snapshot","data-toggle","tab","aria-expanded","true"],["href","#oldNotes","data-toggle","tab","aria-expanded","true"],["id","myTabContent",1,"tab-content"],["id","snapshot",1,"tab-pane","fade","active","in"],[3,"patientId","patientDOB"],["id","oldNotes",1,"tab-pane","fade"],[3,"divisionId","getMrf"],["patientNotesComp",""],["id","pateitnAttachments","role","dialog",1,"modal","fade"],[1,"modal-dialog","fullWidth"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[3,"parentId","title","parentType","showDocumentDetails","btnUploadText","fileType","fileNameTxt","fileNameUploadTxt","onModelUpdated"],["type","button","data-toggle","modal","data-target","#noteEditingfromAddNewNote",1,"btn","btn-primary",2,"display","none"],["btnAddNewNote",""],["id","noteEditingfromAddNewNote","role","dialog",1,"modal","fade"],[3,"selectedAppointmentId","noteId","allowEditing","onNewNoteSaved"],["newClinicalNoteComp",""],["type","button","data-toggle","modal","data-target","#appointmentModal",2,"display","none"],["appointmentModalButton",""],["id","appointmentModal","role","dialog","data-backdrop","static",1,"modal","fade"],["appointmentModal",""],["class","form-horizontal","name","appointmentDetailsFrm",4,"ngIf"],["name","appointmentDetailsFrm",1,"form-horizontal"],["appointmentDetailsFrm","ngForm"],[1,"modal-dialog","width75percent"],[1,"form-group"],[1,"control-label","col-md-2"],["dateFormat","dd/mm/yy","yearRange","2000:2050",3,"ngModel","monthNavigator","yearNavigator","showIcon","required","ngModelOptions","ngModelChange","onSelect"],["id","ddlTime","name","ddlTime","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlTime","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["id","ddlVisitType","name","ddlVisitType","required","",1,"form-control",3,"ngModel","ngModelChange"],["ddlVisitType","ngModel"],["id","txtRemarks","name","txtRemarks",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["btnClostAppointmentModal",""],[3,"value"],["type","radio","name","appClass",3,"value","checked","click"]],template:function(e,t){1&e&&(s.Dc(0,tc,4,0,"div",0),s.Fc(1,"\n"),s.Qb(2,"div",1),s.Fc(3,"\n    "),s.Lb(4,"shared-tabs",2),s.Fc(5,"\n"),s.Pb(),s.Fc(6,"\n"),s.Qb(7,"div",3),s.Fc(8,"\n\n    "),s.Qb(9,"div",4),s.Fc(10,"\n        "),s.Qb(11,"div",1),s.Fc(12,"\n            "),s.Qb(13,"div",5),s.Fc(14,"\n                "),s.Qb(15,"div"),s.Fc(16,"\n                    "),s.Qb(17,"label",6),s.Fc(18),s.ac(19,"translate"),s.Pb(),s.Fc(20,"\n                    "),s.Qb(21,"label",7),s.Fc(22),s.ac(23,"translate"),s.Pb(),s.Fc(24,"\n                "),s.Pb(),s.Fc(25,"\n                "),s.Qb(26,"h3",8),s.Fc(27,"\n                    "),s.Fc(28),s.Pb(),s.Fc(29,"\n                "),s.Qb(30,"p",9),s.Fc(31,"\n                    "),s.Qb(32,"span",10),s.Fc(33,"\n                            "),s.Qb(34,"strong"),s.Fc(35),s.ac(36,"translate"),s.Pb(),s.Fc(37),s.Pb(),s.Fc(38,"\n                "),s.Pb(),s.Fc(39,"\n            "),s.Pb(),s.Fc(40,"\n            "),s.Qb(41,"div",11),s.Fc(42,"\n                "),s.Qb(43,"div",12),s.Fc(44,"\n                    "),s.Qb(45,"div",13),s.Fc(46,"\n                        "),s.Qb(47,"ul",14),s.Fc(48,"\n                            "),s.Qb(49,"li"),s.Fc(50,"\n                                "),s.Qb(51,"label",15),s.Qb(52,"strong"),s.Fc(53),s.ac(54,"translate"),s.Pb(),s.Fc(55),s.Pb(),s.Fc(56,"\n                            "),s.Pb(),s.Fc(57,"\n                            "),s.Qb(58,"li"),s.Fc(59,"\n                                "),s.Qb(60,"label",15),s.Qb(61,"strong"),s.Fc(62),s.ac(63,"translate"),s.Pb(),s.Fc(64),s.Pb(),s.Fc(65,"\n                            "),s.Pb(),s.Fc(66,"\n                            "),s.Qb(67,"li"),s.Fc(68,"\n                                "),s.Qb(69,"label",15),s.Qb(70,"strong"),s.Fc(71),s.ac(72,"translate"),s.Pb(),s.Fc(73),s.Pb(),s.Fc(74,"\n                            "),s.Pb(),s.Fc(75,"\n                            "),s.Qb(76,"li"),s.Fc(77,"\n                                "),s.Qb(78,"label",15),s.Qb(79,"strong"),s.Fc(80),s.ac(81,"translate"),s.Pb(),s.Fc(82),s.Pb(),s.Fc(83,"\n                            "),s.Pb(),s.Fc(84,"\n                            "),s.Qb(85,"li"),s.Fc(86,"\n                                "),s.Qb(87,"label",15),s.Qb(88,"strong"),s.Fc(89),s.ac(90,"translate"),s.Pb(),s.Fc(91),s.Pb(),s.Fc(92,"\n                            "),s.Pb(),s.Fc(93,"\n                        "),s.Pb(),s.Fc(94,"\n                    "),s.Pb(),s.Fc(95,"\n                "),s.Pb(),s.Fc(96,"\n            "),s.Pb(),s.Fc(97,"\n        "),s.Pb(),s.Fc(98,"\n\n    "),s.Pb(),s.Fc(99,"\n\n    "),s.Qb(100,"div",16),s.Fc(101,"\n        "),s.Qb(102,"button",17),s.Fc(103),s.ac(104,"translate"),s.Pb(),s.Fc(105,"\n        "),s.Qb(106,"button",18),s.Xb("click",function(){return t.addNewAppointment()}),s.Fc(107),s.ac(108,"translate"),s.Pb(),s.Fc(109,"\n        "),s.Qb(110,"button",19),s.Xb("click",function(){return t.openAddNewNote()}),s.Fc(111),s.ac(112,"translate"),s.Pb(),s.Fc(113,"\n    "),s.Pb(),s.Fc(114,"\n    "),s.Lb(115,"br"),s.Fc(116,"\n    "),s.Lb(117,"br"),s.Lb(118,"br"),s.Fc(119,"\n    "),s.Qb(120,"div",20),s.Fc(121,"\n        "),s.Qb(122,"div",21),s.Fc(123,"\n            "),s.Qb(124,"div",22),s.Fc(125,"\n                "),s.Qb(126,"ul",23),s.Fc(127,"\n                    "),s.Qb(128,"li",24),s.Qb(129,"a",25),s.Fc(130),s.ac(131,"translate"),s.Pb(),s.Pb(),s.Fc(132,"\n                    "),s.Qb(133,"li"),s.Qb(134,"a",26),s.Fc(135),s.ac(136,"translate"),s.Pb(),s.Pb(),s.Fc(137,"\n                "),s.Pb(),s.Fc(138,"\n            "),s.Pb(),s.Fc(139,"\n        "),s.Pb(),s.Fc(140,"\n\n        "),s.Qb(141,"div",27),s.Fc(142,"\n            "),s.Qb(143,"div",28),s.Fc(144,"\n                "),s.Lb(145,"patient-snapshot",29),s.Fc(146,"\n            "),s.Pb(),s.Fc(147,"\n            "),s.Qb(148,"div",30),s.Fc(149,"\n                "),s.Lb(150,"patient-notes",31,32),s.Fc(152,"\n            "),s.Pb(),s.Fc(153,"\n        "),s.Pb(),s.Fc(154,"\n    "),s.Pb(),s.Fc(155,"\n"),s.Pb(),s.Fc(156,"\n\n"),s.Qb(157,"div",33),s.Fc(158,"\n    "),s.Qb(159,"div",34),s.Fc(160,"\n        "),s.Fc(161,"\n        "),s.Qb(162,"div",35),s.Fc(163,"\n            "),s.Qb(164,"div",36),s.Fc(165,"\n                "),s.Qb(166,"button",37),s.Fc(167,"\xd7"),s.Pb(),s.Fc(168,"\n                "),s.Qb(169,"h4",38),s.Fc(170),s.ac(171,"translate"),s.Pb(),s.Fc(172,"\n            "),s.Pb(),s.Fc(173,"\n            "),s.Qb(174,"div",39),s.Fc(175,"\n                "),s.Qb(176,"documents",40),s.Xb("onModelUpdated",function(e){return t.updateModel(e)}),s.Pb(),s.Fc(177,"\n            "),s.Pb(),s.Fc(178,"\n            "),s.Fc(179,"\n        "),s.Pb(),s.Fc(180,"\n\n    "),s.Pb(),s.Fc(181,"\n"),s.Pb(),s.Fc(182,"\n\n"),s.Lb(183,"button",41,42),s.Fc(185,"\n"),s.Qb(186,"div",43),s.Fc(187,"\n    "),s.Qb(188,"div",34),s.Fc(189,"\n        "),s.Fc(190,"\n        "),s.Qb(191,"div",35),s.Fc(192,"\n            "),s.Qb(193,"div",36),s.Fc(194,"\n                "),s.Qb(195,"button",37),s.Fc(196,"\xd7"),s.Pb(),s.Fc(197,"\n                "),s.Qb(198,"h4",38),s.Fc(199),s.ac(200,"translate"),s.Pb(),s.Fc(201,"\n            "),s.Pb(),s.Fc(202,"\n            "),s.Qb(203,"div",39),s.Fc(204,"\n                "),s.Qb(205,"patient-clinical-note",44,45),s.Xb("onNewNoteSaved",function(e){return t.getPatientMrf(e)}),s.Pb(),s.Fc(207,"\n            "),s.Pb(),s.Fc(208,"\n        "),s.Pb(),s.Fc(209,"\n    "),s.Pb(),s.Fc(210,"\n"),s.Pb(),s.Fc(211,"\n\n"),s.Lb(212,"button",46,47),s.Fc(214,"\n"),s.Qb(215,"div",48,49),s.Fc(217,"\n    "),s.Dc(218,oc,111,46,"form",50),s.Fc(219,"\n"),s.Pb(),s.Fc(220,"\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(4),s.hc("activeTabIndex",3),s.yb(14),s.Ic("\n                        ",s.bc(19,46,"UnifiedMRN")," : ",t.selectedPatient?t.selectedPatient.unifiedMRN:"","\n                    "),s.yb(4),s.Ic("\n                        ",s.bc(23,48,"ClinicMRN")," : ",t.selectedPatient?t.selectedPatient.clinicMRN:"","\n                    "),s.yb(6),s.Hc(" ",t.selectedPatient?t.selectedPatient.name:"","\n                "),s.yb(7),s.Hc("\n                                ",s.bc(36,50,"AlertMessage"),":\n                            "),s.yb(2),s.Hc("\n                            ",t.selectedPatient?t.selectedPatient.alertMessage:"","\n                    "),s.yb(16),s.Hc("",s.bc(54,52,"Gender"),":"),s.yb(2),s.Hc("\xa0 ",t.selectedPatient?t.selectedPatient.gender:"",""),s.yb(7),s.Hc("",s.bc(63,54,"Age"),": "),s.yb(2),s.Hc("\xa0",t.selectedPatient?t.selectedPatient.age:"",""),s.yb(7),s.Hc(" ",s.bc(72,56,"Company"),": "),s.yb(2),s.Hc("\xa0",t.selectedPatient&&t.selectedPatient.activeInsurance?t.selectedPatient.activeInsurance.companyName:"",""),s.yb(7),s.Hc("",s.bc(81,58,"PolicyName"),": "),s.yb(2),s.Hc("\xa0",t.selectedPatient&&t.selectedPatient.activeInsurance?t.selectedPatient.activeInsurance.policyName:"",""),s.yb(7),s.Hc("",s.bc(90,60,"ExpirationDate"),": "),s.yb(2),s.Hc("\xa0",t.selectedPatient&&t.selectedPatient.activeInsurance?t.selectedPatient.activeInsurance.endDateString:"",""),s.yb(11),s.ic("disabled",t.enableAttachmentBtn?"":"disabled"),s.yb(1),s.Gc(s.bc(104,62,"Attachments")),s.yb(3),s.ic("disabled",t.enableNewAppointmentBtn?"":"disabled"),s.yb(1),s.Gc(s.bc(108,64,"NewAppointment")),s.yb(3),s.ic("disabled",t.enableNewNoteBtn?"":"disabled"),s.yb(1),s.Gc(s.bc(112,66,"NewNote")),s.yb(19),s.Gc(s.bc(131,68,"Snapshot")),s.yb(5),s.Gc(s.bc(136,70,"AllNotes")),s.yb(10),s.hc("patientId",t.selectedPatientId)("patientDOB",t.selectedPatient.birthDate),s.yb(5),s.hc("divisionId",t.divisionId)("getMrf",t.getMrf),s.yb(20),s.Gc(s.bc(171,72,"PatientAttachments")),s.yb(6),s.hc("parentId",t.selectedPatientId)("title",t.Attachement)("parentType",t.parentType)("showDocumentDetails",t.showDocumentDetails)("btnUploadText",t.btnUploadText)("fileType",t.fileType)("fileNameTxt",t.fileNameTxt)("fileNameUploadTxt",t.fileNameUploadTxt),s.yb(23),s.Ic("",s.bc(200,74,"ClinicalNoteDetailsPatient"),": ",t.selectedPatient?t.selectedPatient.name:"",""),s.yb(6),s.hc("selectedAppointmentId",t.defaultAppointmentId)("noteId",t.noteId)("allowEditing",!0),s.yb(13),s.hc("ngIf",t.active))},directives:[i.k,on.a,Fn,_i,gi.a,Xi,L.a,c.q,c.g,c.h,Y.a,c.f,c.i,c.o,c.p,i.j,c.b,c.j,c.r],pipes:[b.c,A.a],encapsulation:2}),e})(),lc=(()=>{class e{constructor(e){this.localStorage=e,this.activeTabIndex=0,this.patientId="1",this.isDoctor=!1}ngOnChanges(e){this.isDoctor=this.localStorage.retrieve("IsDoctor")}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(d.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-receptionist-tabs"]],inputs:{activeTabIndex:"activeTabIndex",patientId:"patientId"},features:[s.wb],decls:39,vars:35,consts:[[1,"nav","nav-pills","nav-stacked","alert","alert-info","padding5"],[3,"routerLink"]],template:function(e,t){1&e&&(s.Fc(0,"\n\n"),s.Qb(1,"ul",0),s.Fc(2,"\n    "),s.Qb(3,"li"),s.Fc(4,"\n        "),s.Qb(5,"a",1),s.Fc(6),s.ac(7,"translate"),s.Pb(),s.Fc(8,"\n    "),s.Pb(),s.Fc(9,"\n    "),s.Qb(10,"li"),s.Fc(11,"\n        "),s.Qb(12,"a",1),s.Fc(13),s.ac(14,"translate"),s.Pb(),s.Fc(15,"\n    "),s.Pb(),s.Fc(16,"\n    "),s.Qb(17,"li"),s.Fc(18,"\n        "),s.Qb(19,"a",1),s.Fc(20),s.ac(21,"translate"),s.Pb(),s.Fc(22,"\n    "),s.Pb(),s.Fc(23,"\n    "),s.Qb(24,"li"),s.Fc(25,"\n        "),s.Qb(26,"a",1),s.Fc(27),s.ac(28,"translate"),s.Pb(),s.Fc(29,"\n    "),s.Pb(),s.Fc(30,"\n    "),s.Qb(31,"li"),s.Fc(32,"\n        "),s.Qb(33,"a",1),s.Fc(34),s.ac(35,"translate"),s.Pb(),s.Fc(36,"\n    "),s.Pb(),s.Fc(37,"\n\n"),s.Pb(),s.Fc(38,"\n\n")),2&e&&(s.yb(3),s.Ab(0==t.activeTabIndex?"active":""),s.yb(2),s.jc("routerLink","/patientAccount/",t.patientId,""),s.yb(1),s.Hc("",s.bc(7,25,"Account"),"\n"),s.yb(4),s.Ab(1==t.activeTabIndex?"active":""),s.yb(2),s.jc("routerLink","/patientPersonal/",t.patientId,""),s.yb(1),s.Gc(s.bc(14,27,"BasicData")),s.yb(4),s.Ab(2==t.activeTabIndex?"active":""),s.yb(2),s.jc("routerLink","/patientAddress/",t.patientId,""),s.yb(1),s.Hc(" ",s.bc(21,29,"AddressContact")," "),s.yb(4),s.Ab(3==t.activeTabIndex?"active":""),s.yb(2),s.jc("routerLink","/patientInsurance/",t.patientId,""),s.yb(1),s.Hc(" ",s.bc(28,31,"InsuranceData"),""),s.yb(4),s.Ab(4==t.activeTabIndex?"active":""),s.yb(2),s.jc("routerLink","/patient/attachments/",t.patientId,""),s.yb(1),s.Hc("",s.bc(35,33,"Attachments")," "))},directives:[a.d],pipes:[b.c],encapsulation:2}),e})();const dc=["fileInput"];function bc(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function hc(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function uc(e,t){1&e&&(s.Qb(0,"div"),s.Fc(1,"\n    "),s.Lb(2,"loading"),s.Fc(3,"\n"),s.Pb())}function gc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",22),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"BasicData")))}function pc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",23),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"BasicData")))}function Fc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",24),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"PatientAddress")))}function mc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",23),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"PatientAddress")))}function fc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",25),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"PatientInsurance")))}function vc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",23),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"PatientInsurance")))}function yc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",26),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"Attachment")))}function Pc(e,t){1&e&&(s.Qb(0,"li"),s.Qb(1,"a",23),s.Fc(2),s.ac(3,"translate"),s.Pb(),s.Pb()),2&e&&(s.yb(2),s.Gc(s.bc(3,1,"Attachment")))}const Sc=[{path:"basic/:id",component:g},{path:"vitalSigns/:id",component:C},{path:"diagnosis/:id",component:_},{path:"medication/:id",component:Fe},{path:"surgeries/:id",component:Ce},{path:"allergies/:id",component:He},{path:"laboratory/:id",component:tt},{path:"radiology/:id",component:pt},{path:"attachments/:id",component:(()=>{class e{constructor(e,t,n,i,c){this.organizationService=e,this.sharedService=t,this.toastr=n,this._route=i,this.storage=c,this.selectBasicTab=!0,this.active=!0,this.model={},this.hasInsurance=!0,this.classifications=[],this.showProgress=!1,this.patientId="",this.type="PatientFileType",this.detailsUrl="PatientReceptionistAttachmentsDetails",this.documentDetailsUrl="patientAttachments"}ngOnInit(){this.patientId=`${this._route.snapshot.params.id}`}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(r.a),s.Kb(l.b),s.Kb(a.a),s.Kb(d.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-receptionist-attachments"]],viewQuery:function(e,t){if(1&e&&s.Lc(dc,1),2&e){let e;s.uc(e=s.Yb())&&(t.fileInput=e.first)}},decls:25,vars:9,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-2","nopadding"],[3,"activeTabIndex"],[1,"col-md-10","nopadding"],["id","breadcrumbs",1,"breadcrumbs"],[1,"heaersitemap"],[3,"parentId","docDetailsUrl","parentType","details"]],template:function(e,t){1&e&&(s.Dc(0,bc,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n    "),s.Qb(4,"div",2),s.Fc(5,"\n        "),s.Lb(6,"patient-receptionist-tabs",3),s.Fc(7,"\n    "),s.Pb(),s.Fc(8,"\n    "),s.Qb(9,"div",4),s.Fc(10,"\n        "),s.Qb(11,"div",5),s.Fc(12,"\n            "),s.Qb(13,"span",6),s.Fc(14),s.ac(15,"translate"),s.Pb(),s.Fc(16,"\n            "),s.Fc(17,"\n        "),s.Pb(),s.Fc(18,"\n        "),s.Lb(19,"br"),s.Fc(20,"\n        "),s.Lb(21,"documents",7),s.Fc(22,"\n\n    "),s.Pb(),s.Fc(23,"\n"),s.Pb(),s.Fc(24,"\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(6),s.hc("activeTabIndex",4),s.yb(8),s.Hc("\n              ",s.bc(15,7,"PatientFileAttachments"),"\n            "),s.yb(7),s.hc("parentId",t.patientId)("docDetailsUrl",t.documentDetailsUrl)("parentType",t.type)("details",t.detailsUrl))},directives:[i.k,lc,gi.a,L.a],pipes:[b.c],encapsulation:2}),e})()},{path:"patientDiagnoseDetails/:id",component:E},{path:"patientMedicationDetails/:id",component:be},{path:"patientSurgeryDetails/:id",component:De},{path:"patientAllergyDetails/:id",component:Ze},{path:"patientLabDetails/:id",component:_e},{path:"patientRadiologyDetails/:id",component:dt},{path:"PatientReceptionistAttachmentsDetails/:parentId/:id",component:(()=>{class e{constructor(){this.selectedAttachmenTab=!0,this.type="PatientFileType",this.detailsUrl="PatientReceptionistAttachmentsDetails",this.showProgress=!0,this.documentDetailsUrl="patientAttachments"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-receptionist-attachments-details"]],decls:28,vars:6,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-2","nopadding"],[3,"activeTabIndex"],[1,"col-md-10","nopadding"],["id","breadcrumbs",1,"breadcrumbs"],[1,"heaersitemap"],[3,"parentType"]],template:function(e,t){1&e&&(s.Dc(0,hc,4,0,"div",0),s.Fc(1,"\n\n"),s.Qb(2,"div",1),s.Fc(3,"\n    "),s.Qb(4,"div",2),s.Fc(5,"\n        "),s.Lb(6,"patient-receptionist-tabs",3),s.Fc(7,"\n    "),s.Pb(),s.Fc(8,"\n    "),s.Qb(9,"div",4),s.Fc(10,"\n        "),s.Qb(11,"div",5),s.Fc(12,"\n            "),s.Qb(13,"span",6),s.Fc(14),s.ac(15,"translate"),s.Pb(),s.Fc(16,"\n            "),s.Fc(17,"\n        "),s.Pb(),s.Fc(18,"\n        "),s.Lb(19,"br"),s.Fc(20,"\n        "),s.Qb(21,"div",1),s.Fc(22,"\n            "),s.Lb(23,"document-details",7),s.Fc(24,"\n        "),s.Pb(),s.Fc(25,"\n    "),s.Pb(),s.Fc(26,"\n"),s.Pb(),s.Fc(27,"\n\n\n\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(6),s.hc("activeTabIndex",4),s.yb(8),s.Hc("\n                ",s.bc(15,4,"PatientFileAttachments"),"\n            "),s.yb(9),s.hc("parentType",t.type))},directives:[i.k,lc,pi.a,L.a],pipes:[b.c],encapsulation:2}),e})()},{path:"patientAccount/:id",component:Ct},{path:"patientPersonal/:id",component:Ut},{path:"patientAddress/:id",component:qt},{path:"patientInsurance/:id",component:an},{path:"patientInsuranceDetails/:id",component:Jt},{path:"mrf/:id/:appointmentId/:divisionId",component:rc},{path:"file/:id",component:(()=>{class e{constructor(e,t,n,i,c,a){this.patientService=e,this.toastr=t,this.localStorage=n,this._route=i,this.translate=c,this.accountService=a,this.model={id:0,isActive:!0},this.patientAttachementId="",this.showProgress=!1,this.onModelUpdated=new s.n,this.userGroupsWrapper={},this.clinicId="",this.patientId="",this.account="Account",this.basicData="Basic Data",this.address="Address",this.insurance="Insurance Data",this.utilityClass=new N.a,this.parentType="PatientFileType",this.detailsUrl="PatientReceptionistAttachmentsDetails",this.documentDetailsUrl="patientAttachments",this.fileNameUploadTxt=this.translate.instant("File"),this.fileNameTxt=this.translate.instant("FileName"),this.btnUploadText=this.translate.instant("UploadFile"),this.fileType=!0,this.showDocumentDetails=!0,this.userPermisions=new p.a,this.key=new F.a,this.hasEditPermission=!1,this.hasPatientAttachmentFile=!1,this.hasDefinePatientPolicy=!1}ngOnInit(){let e=this;this.patientId=`${this._route.snapshot.params.id}`,this.selectedPatientId=this.patientId,this.model.reachInfo={id:0},"new"!=this.patientId.toString().toLowerCase()&&(e.showProgress=!0,this.patientService.getPatientById(this.patientId).subscribe(function(t){e.model=t,e.model.birthDate&&(e.model.birthDate=e.utilityClass.getUtcDateFromString(e.model.birthDate)),e.showProgress=!1},function(t){e.toastr.error(t,""),e.showProgress=!1},function(){e.showProgress=!1})),null!=this.accountService.userPermision._isScalar?this.accountService.userPermision.subscribe(e=>this.handleUserInterfaceViews(e)):this.handleUserInterfaceViews(this.accountService.userPermision)}updateModel(e){this.model=e,this.patientId=this.model.id,this.selectedPatientId=this.model.id}isUpdateMode(){return this.model.id>0}handleUserInterfaceViews(e){if(null!=e.permissions)for(let t of e.permissions)t.permission.key!=this.key.PatientRegistration||1!=t.fullControl&&1!=t.edit||(this.hasEditPermission=!0),t.permission.key==this.key.AddPatientAttachment&&1==t.allow&&(this.hasPatientAttachmentFile=!0),t.permission.key!=this.key.DefinePatientPolicy||1!=t.fullControl&&1!=t.edit&&1!=t.add&&1!=t.view&&1!=t.activate||(this.hasDefinePatientPolicy=!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.a),s.Kb(l.b),s.Kb(d.a),s.Kb(a.a),s.Kb(b.d),s.Kb(m.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["patient-file"]],outputs:{onModelUpdated:"onModelUpdated"},decls:87,vars:38,consts:[[4,"ngIf"],[1,"row"],[3,"activeTabIndex"],[1,"row","nopadding"],[1,"NBbreadcrumb"],[1,"row","well"],[1,"tabbable-panel"],[1,"tabbable-line"],[1,"nav","nav-tabs"],[1,"active"],["href","#account","data-toggle","tab","aria-expanded","true"],["id","patientFileTabContent",1,"tab-content"],["id","account",1,"tab-pane","fade","active","in"],[3,"patientAccountToSave","title","onModelUpdated"],["id","basicInfo",1,"tab-pane","fade"],[3,"patientId","title","model","onModelUpdated"],["id","patientAddress",1,"tab-pane","fade"],[3,"model","patientId","title","onModelUpdated"],["id","patientInsurance",1,"tab-pane","fade"],[3,"patientId","title","patientModel","onModelUpdated"],["id","attachment",1,"tab-pane","fade"],[3,"parentId","title","parentType","showDocumentDetails","btnUploadText","fileType","fileNameTxt","fileNameUploadTxt","onModelUpdated"],["href","#basicInfo","data-toggle","tab","aria-expanded","true"],[1,"dimmedLink"],["href","#patientAddress","data-toggle","tab","aria-expanded","true"],["href","#patientInsurance","data-toggle","tab","aria-expanded","true"],["href","#attachment","data-toggle","tab","aria-expanded","true"]],template:function(e,t){1&e&&(s.Dc(0,uc,4,0,"div",0),s.Fc(1,"\n\n"),s.Fc(2,"\n"),s.Qb(3,"div",1),s.Fc(4,"\n    "),s.Lb(5,"shared-tabs",2),s.Fc(6,"\n"),s.Pb(),s.Fc(7,"\n"),s.Qb(8,"div",1),s.Fc(9,"\n    "),s.Qb(10,"div",3),s.Fc(11,"\n        "),s.Qb(12,"div",1),s.Fc(13,"\n            "),s.Qb(14,"div",4),s.Fc(15,"\n                "),s.Qb(16,"a"),s.Fc(17),s.ac(18,"translate"),s.Pb(),s.Fc(19),s.ac(20,"translate"),s.Pb(),s.Fc(21,"\n        "),s.Pb(),s.Fc(22,"\n        "),s.Qb(23,"div",5),s.Fc(24,"\n            "),s.Qb(25,"div",6),s.Fc(26,"\n                "),s.Qb(27,"div",7),s.Fc(28,"\n                    "),s.Qb(29,"ul",8),s.Fc(30,"\n                        "),s.Qb(31,"li",9),s.Qb(32,"a",10),s.Fc(33),s.ac(34,"translate"),s.Pb(),s.Pb(),s.Fc(35,"\n                        "),s.Dc(36,gc,4,3,"li",0),s.Fc(37,"\n                        "),s.Dc(38,pc,4,3,"li",0),s.Fc(39,"\n                        "),s.Dc(40,Fc,4,3,"li",0),s.Fc(41,"\n                        "),s.Dc(42,mc,4,3,"li",0),s.Fc(43,"\n                        "),s.Dc(44,fc,4,3,"li",0),s.Fc(45,"\n                        "),s.Dc(46,vc,4,3,"li",0),s.Fc(47,"\n\n                        "),s.Dc(48,yc,4,3,"li",0),s.Fc(49,"\n                        "),s.Dc(50,Pc,4,3,"li",0),s.Fc(51,"\n                    "),s.Pb(),s.Fc(52,"\n                "),s.Pb(),s.Fc(53,"\n            "),s.Pb(),s.Fc(54,"\n            "),s.Qb(55,"div",11),s.Fc(56,"\n                "),s.Qb(57,"div",12),s.Fc(58,"\n                    "),s.Qb(59,"patient-account",13),s.Xb("onModelUpdated",function(e){return t.updateModel(e)}),s.Pb(),s.Fc(60,"\n                "),s.Pb(),s.Fc(61,"\n                "),s.Qb(62,"div",14),s.Fc(63,"\n                    "),s.Qb(64,"patient-personal",15),s.Xb("onModelUpdated",function(e){return t.updateModel(e)}),s.Pb(),s.Fc(65,"\n                "),s.Pb(),s.Fc(66,"\n                "),s.Qb(67,"div",16),s.Fc(68,"\n                    "),s.Qb(69,"patient-address",17),s.Xb("onModelUpdated",function(e){return t.updateModel(e)}),s.Pb(),s.Fc(70,"\n                "),s.Pb(),s.Fc(71,"\n                "),s.Qb(72,"div",18),s.Fc(73,"\n                    "),s.Qb(74,"patient-insurance",19),s.Xb("onModelUpdated",function(e){return t.updateModel(e)}),s.Pb(),s.Fc(75,"\n                "),s.Pb(),s.Fc(76,"\n                "),s.Qb(77,"div",20),s.Fc(78,"\n                    "),s.Fc(79,"\n                    "),s.Qb(80,"documents",21),s.Xb("onModelUpdated",function(e){return t.updateModel(e)}),s.Pb(),s.Fc(81,"\n                "),s.Pb(),s.Fc(82,"\n            "),s.Pb(),s.Fc(83,"\n        "),s.Pb(),s.Fc(84,"\n    "),s.Pb(),s.Fc(85,"\n\n"),s.Pb(),s.Fc(86,"\n")),2&e&&(s.hc("ngIf",t.showProgress),s.yb(5),s.hc("activeTabIndex",10),s.yb(12),s.Gc(s.bc(18,32,"SystemAdmin")),s.yb(2),s.Hc(" \xa0/\n                ",s.bc(20,34,"PatientFile"),"\n            "),s.yb(14),s.Gc(s.bc(34,36,"Account")),s.yb(3),s.hc("ngIf",t.isUpdateMode()&&t.hasEditPermission),s.yb(2),s.hc("ngIf",!t.isUpdateMode()||!t.hasEditPermission),s.yb(2),s.hc("ngIf",t.isUpdateMode()&&t.hasEditPermission),s.yb(2),s.hc("ngIf",!t.isUpdateMode()||!t.hasEditPermission),s.yb(2),s.hc("ngIf",t.isUpdateMode()&&t.hasDefinePatientPolicy),s.yb(2),s.hc("ngIf",!t.isUpdateMode()||!t.hasDefinePatientPolicy),s.yb(2),s.hc("ngIf",t.isUpdateMode()&&t.hasPatientAttachmentFile),s.yb(2),s.hc("ngIf",!t.isUpdateMode()||!t.hasPatientAttachmentFile),s.yb(9),s.hc("patientAccountToSave",t.model)("title",t.account),s.yb(5),s.hc("patientId",t.patientId)("title",t.basicData)("model",t.model),s.yb(5),s.hc("model",t.model)("patientId",t.patientId)("title",t.address),s.yb(5),s.hc("patientId",t.patientId)("title",t.insurance)("patientModel",t.model),s.yb(6),s.hc("parentId",t.selectedPatientId)("title",t.Attachement)("parentType",t.parentType)("showDocumentDetails",t.showDocumentDetails)("btnUploadText",t.btnUploadText)("fileType",t.fileType)("fileNameTxt",t.fileNameTxt)("fileNameUploadTxt",t.fileNameUploadTxt))},directives:[i.k,on.a,Ct,Ut,qt,an,gi.a,L.a],pipes:[b.c],encapsulation:2}),e})()}];let Ic=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[a.e.forChild(Sc)],a.e]}),e})();var Dc=n("PCNd");let Qc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({providers:[],imports:[[c.c,i.b,Ic,Dc.SharedModule]]}),e})()},mzWq:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("Yp+s"),c=n("KjZm"),a=n("aR35");class s{constructor(e,t){this.utilityClass=new i.a,this.appointmentSchedulesList=[],this.sessionExtensionsList=[],this.timeSlotsList=[],this.toExcludeTimeSlotsList=[],this.sessionsList=[],this.appointmentSchedulesList=e,this.sessionExtensionsList=t}getFirstTimeSlot(e){let t;for(let n=0;n<=6;n++){let i=e.getDate(),c=new Date(e.getTime());c.setDate(i+n);let a=this.getTimeSlots(c);if(null!=a&&a.length>0){t=a[0];break}}return t}getTimeSlots(e){if(this.timeSlotsList=[],null!=e){let t=this.getAppointmentSchedule(e);if(null!=t){let n=this.utilityClass.getDayName(e.getDay());this.slotDuration=t.slotDuration;let i=this.getDaySessions(t,n);this.fillTimeSlots(e,i),this.handleSessionExtensions(e)}}return this.timeSlotsList.sort(function(e,t){return e.dateTime>t.dateTime?1:-1}),this.timeSlotsList}handleSessionExtensions(e){if(null!=this.sessionExtensionsList){let t=[];this.sessionExtensionsList.forEach(n=>{this.utilityClass.getUtcDateFromString(n.day).toDateString()==e.toDateString()&&t.push(n)}),t.sort(function(e,t){return Number(e.id)>Number(t.id)?1:-1}),t.forEach(t=>this.manageSesssionExtensionItem(e,t))}}manageSesssionExtensionItem(e,t){let n=[];this.addTimeSlots(e,t,n),n.forEach(e=>this.handleSesssionExtensionSlot(t,e))}handleSesssionExtensionSlot(e,t){if("OpenSlot"==e.type)null==this.timeSlotsList.find(e=>e.name==t.name)&&this.timeSlotsList.push(t);else if("CloseSlot"==e.type){var n=this.findWithAttr(this.timeSlotsList,"name",t.name);n>-1&&this.timeSlotsList.splice(n,1)}}getSessions(e){if(this.sessionsList=[],null!=e){let t=this.getAppointmentSchedule(e);if(null!=t){let n=this.utilityClass.getDayName(e.getDay());this.slotDuration=t.slotDuration,this.sessionsList=this.getDaySessions(t,n),null!=this.sessionExtensionsList&&this.sessionExtensionsList.forEach(t=>{this.utilityClass.getUtcDateFromString(t.day).toDateString()==e.toDateString()&&"OpenSlot"==t.type&&this.sessionsList.push(t)})}}return this.sessionsList}getSlotDurationForDate(e){let t=this.getAppointmentSchedule(e);return null!=t&&(this.slotDuration=t.slotDuration),this.slotDuration}getSlotDuration(){return this.slotDuration}getAppointmentSchedule(e){let t;return e=this.utilityClass.getUtcDate(e),null!=this.appointmentSchedulesList&&(t=this.appointmentSchedulesList.find(t=>e>=this.utilityClass.getUtcDateFromString(t.startDate)&&e<=this.utilityClass.getUtcDateFromString(t.endDate))),t}getDaySessions(e,t){let n=[];return null!=e&&null!=e.sessions&&e.sessions.forEach(e=>{e.day==t&&n.push(e)}),n}fillTimeSlots(e,t){t.forEach(t=>this.addTimeSlots(e,t,this.timeSlotsList))}findWithAttr(e,t,n){for(var i=0;i<e.length;i+=1)if(e[i][t]===n)return i;return-1}addTimeSlots(e,t,n){let i=this.utilityClass.getDateTimeFromString(t.startTime).getHours(),a=this.utilityClass.getDateTimeFromString(t.startTime).getMinutes(),s=new Date(e.getFullYear(),e.getMonth(),e.getDate(),i,a),o=this.utilityClass.getDateTimeFromString(t.endTime).getHours(),r=this.utilityClass.getDateTimeFromString(t.endTime).getMinutes(),l=new Date(e.getFullYear(),e.getMonth(),e.getDate(),o,r);for(;s<l;){let e=new c.a(s);n.push(e);let t=s.getMinutes();s.setMinutes(t+this.slotDuration)}}getFullDayTimeSlots(e){if((null==e||null==e)&&(e=10,null!=a.a&&""!=a.a)){let t=a.a.split(":");t.length>=1&&(e=Number(t[1]))}let t=[],n=60/e*24,i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0);t.push(new c.a(s));for(let a=1;a<n;a++){let n=s.getMinutes()+e;s.setMinutes(n),t.push(new c.a(s))}return t}}}}]);