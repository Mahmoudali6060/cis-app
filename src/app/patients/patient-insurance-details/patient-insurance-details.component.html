<div *ngIf="showProgress">
    <loading></loading>
</div>

<div class="row">
        <form novalidate *ngIf="active" class="form-horizontal" name="organizationForm" (ngSubmit)="onSubmit()" #organizationForm="ngForm">
            <div class="form-group">
                <label for="ddlCompany" class="control-label col-md-2">{{ 'InsuranceCompany' | translate}}</label>
                <div class="col-md-3">
                    <select class="form-control" id="ddlCompany" name="ddlCompany" [(ngModel)]="model.companyId" #ddlCompany="ngModel" required #d (change)="fillPolicies(d.value)">
                        <option *ngFor="let item of companies | translateObjects" [value]="item.id">{{item.name}}</option>
                    </select>
                </div>
                <label for="ddlPolicy" class="control-label col-md-2">{{ 'PolicyName' | translate}}</label>
                <div class="col-md-3">
                    <select class="form-control" id="ddlPolicy" name="ddlPolicy" [(ngModel)]="model.policyId" #ddlPolicy="ngModel" required>
                        <option *ngFor="let item of policies | translateObjects" [value]="item.id">{{item.name}}</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="txtPhysicalStartDate" class="control-label col-md-2"> {{ 'StartDate' | translate}}</label>
                <div class="col-md-3">
                    <p-calendar [(ngModel)]="model.startDate" [monthNavigator]="true" [yearNavigator]="true" dateFormat="dd/mm/yy"
                                showIcon="true" required="true" [ngModelOptions]="{standalone: true}" yearRange="2000:2050"></p-calendar>
                </div>
                <label for="txtPhysicalEndDate" class="control-label col-md-2"> {{ 'EndDate' | translate}}</label>
                <div class="col-md-3">
                    <p-calendar [(ngModel)]="model.endDate" [monthNavigator]="true" [yearNavigator]="true" dateFormat="dd/mm/yy"
                                showIcon="true" required="true" [ngModelOptions]="{standalone: true}" yearRange="2000:2050"></p-calendar>
                </div>
            </div>
            <div class="form-group">
                <label for="txtcardNumber" class="control-label col-md-2">{{ 'CardNumber' | translate}}</label>
                <div class="col-md-3">
                    <input id="txtcardNumber" name="txtcardNumber" class="form-control" [(ngModel)]="model.cardNumber" />
                </div>
            </div>
            <div class="form-group">
                <label for="txtRemarks" class="control-label col-md-2">{{ 'Description' | translate}} </label>
                <div class="col-md-6">
                    <textarea class="form-control" id="txtRemarks" name="txtRemarks" [(ngModel)]="model.description" ></textarea>
                </div>
            </div>
            <br />
            <div class="form-group">
                <div class="col-md-4 col-md-offset-2">
                    <button class="btn btn-primary">{{ 'Save' | translate}}</button>
                    <button class="btn btn-primary" (click)="clear()">{{ 'New' | translate}}</button>
                    <button class="btn btn-primary" (click)="onClick()">{{ 'Back' | translate}}</button>
                </div>
            </div>
        </form>
</div>

